var Hw=Object.defineProperty;var fS=m=>{throw TypeError(m)};var Fw=(m,e,i)=>e in m?Hw(m,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[e]=i;var St=(m,e,i)=>Fw(m,typeof e!="symbol"?e+"":e,i),wv=(m,e,i)=>e.has(m)||fS("Cannot "+i);var u=(m,e,i)=>(wv(m,e,"read from private field"),i?i.call(m):e.get(m)),w=(m,e,i)=>e.has(m)?fS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(m):e.set(m,i),S=(m,e,i,a)=>(wv(m,e,"write to private field"),a?a.call(m,i):e.set(m,i),i),E=(m,e,i)=>(wv(m,e,"access private method"),i);var yi=(m,e,i,a)=>({set _(r){S(m,e,r,i)},get _(){return u(m,e,a)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}})();function i_(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var Rv={exports:{}},Gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function Iw(){if(pS)return Gc;pS=1;var m=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:m,type:a,key:c,ref:r!==void 0?r:null,props:l}}return Gc.Fragment=e,Gc.jsx=i,Gc.jsxs=i,Gc}var mS;function Gw(){return mS||(mS=1,Rv.exports=Iw()),Rv.exports}var et=Gw(),Cv={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function qw(){if(gS)return Ct;gS=1;var m=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function y(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function k(L,Y,tt){this.props=L,this.context=Y,this.refs=R,this.updater=tt||_}k.prototype.isReactComponent={},k.prototype.setState=function(L,Y){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Y,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function C(){}C.prototype=k.prototype;function D(L,Y,tt){this.props=L,this.context=Y,this.refs=R,this.updater=tt||_}var N=D.prototype=new C;N.constructor=D,T(N,k.prototype),N.isPureReactComponent=!0;var z=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function X(L,Y,tt,J,lt,xt){return tt=xt.ref,{$$typeof:m,type:L,key:Y,ref:tt!==void 0?tt:null,props:xt}}function Q(L,Y){return X(L.type,Y,void 0,void 0,void 0,L.props)}function it(L){return typeof L=="object"&&L!==null&&L.$$typeof===m}function ot(L){var Y={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(tt){return Y[tt]})}var st=/\/+/g;function mt(L,Y){return typeof L=="object"&&L!==null&&L.key!=null?ot(""+L.key):Y.toString(36)}function vt(){}function ft(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(vt,vt):(L.status="pending",L.then(function(Y){L.status==="pending"&&(L.status="fulfilled",L.value=Y)},function(Y){L.status==="pending"&&(L.status="rejected",L.reason=Y)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ht(L,Y,tt,J,lt){var xt=typeof L;(xt==="undefined"||xt==="boolean")&&(L=null);var ut=!1;if(L===null)ut=!0;else switch(xt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(L.$$typeof){case m:case e:ut=!0;break;case v:return ut=L._init,ht(ut(L._payload),Y,tt,J,lt)}}if(ut)return lt=lt(L),ut=J===""?"."+mt(L,0):J,z(lt)?(tt="",ut!=null&&(tt=ut.replace(st,"$&/")+"/"),ht(lt,Y,tt,"",function(xe){return xe})):lt!=null&&(it(lt)&&(lt=Q(lt,tt+(lt.key==null||L&&L.key===lt.key?"":(""+lt.key).replace(st,"$&/")+"/")+ut)),Y.push(lt)),1;ut=0;var Tt=J===""?".":J+":";if(z(L))for(var Bt=0;Bt<L.length;Bt++)J=L[Bt],xt=Tt+mt(J,Bt),ut+=ht(J,Y,tt,xt,lt);else if(Bt=y(L),typeof Bt=="function")for(L=Bt.call(L),Bt=0;!(J=L.next()).done;)J=J.value,xt=Tt+mt(J,Bt++),ut+=ht(J,Y,tt,xt,lt);else if(xt==="object"){if(typeof L.then=="function")return ht(ft(L),Y,tt,J,lt);throw Y=String(L),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ut}function B(L,Y,tt){if(L==null)return L;var J=[],lt=0;return ht(L,J,"","",function(xt){return Y.call(tt,xt,lt++)}),J}function q(L){if(L._status===-1){var Y=L._result;Y=Y(),Y.then(function(tt){(L._status===0||L._status===-1)&&(L._status=1,L._result=tt)},function(tt){(L._status===0||L._status===-1)&&(L._status=2,L._result=tt)}),L._status===-1&&(L._status=0,L._result=Y)}if(L._status===1)return L._result.default;throw L._result}var W=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Et(){}return Ct.Children={map:B,forEach:function(L,Y,tt){B(L,function(){Y.apply(this,arguments)},tt)},count:function(L){var Y=0;return B(L,function(){Y++}),Y},toArray:function(L){return B(L,function(Y){return Y})||[]},only:function(L){if(!it(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ct.Component=k,Ct.Fragment=i,Ct.Profiler=r,Ct.PureComponent=D,Ct.StrictMode=a,Ct.Suspense=f,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(L){return U.H.useMemoCache(L)}},Ct.cache=function(L){return function(){return L.apply(null,arguments)}},Ct.cloneElement=function(L,Y,tt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var J=T({},L.props),lt=L.key,xt=void 0;if(Y!=null)for(ut in Y.ref!==void 0&&(xt=void 0),Y.key!==void 0&&(lt=""+Y.key),Y)!G.call(Y,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&Y.ref===void 0||(J[ut]=Y[ut]);var ut=arguments.length-2;if(ut===1)J.children=tt;else if(1<ut){for(var Tt=Array(ut),Bt=0;Bt<ut;Bt++)Tt[Bt]=arguments[Bt+2];J.children=Tt}return X(L.type,lt,void 0,void 0,xt,J)},Ct.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ct.createElement=function(L,Y,tt){var J,lt={},xt=null;if(Y!=null)for(J in Y.key!==void 0&&(xt=""+Y.key),Y)G.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(lt[J]=Y[J]);var ut=arguments.length-2;if(ut===1)lt.children=tt;else if(1<ut){for(var Tt=Array(ut),Bt=0;Bt<ut;Bt++)Tt[Bt]=arguments[Bt+2];lt.children=Tt}if(L&&L.defaultProps)for(J in ut=L.defaultProps,ut)lt[J]===void 0&&(lt[J]=ut[J]);return X(L,xt,void 0,void 0,null,lt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(L){return{$$typeof:h,render:L}},Ct.isValidElement=it,Ct.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:q}},Ct.memo=function(L,Y){return{$$typeof:p,type:L,compare:Y===void 0?null:Y}},Ct.startTransition=function(L){var Y=U.T,tt={};U.T=tt;try{var J=L(),lt=U.S;lt!==null&&lt(tt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Et,W)}catch(xt){W(xt)}finally{U.T=Y}},Ct.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Ct.use=function(L){return U.H.use(L)},Ct.useActionState=function(L,Y,tt){return U.H.useActionState(L,Y,tt)},Ct.useCallback=function(L,Y){return U.H.useCallback(L,Y)},Ct.useContext=function(L){return U.H.useContext(L)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(L,Y){return U.H.useDeferredValue(L,Y)},Ct.useEffect=function(L,Y,tt){var J=U.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(L,Y)},Ct.useId=function(){return U.H.useId()},Ct.useImperativeHandle=function(L,Y,tt){return U.H.useImperativeHandle(L,Y,tt)},Ct.useInsertionEffect=function(L,Y){return U.H.useInsertionEffect(L,Y)},Ct.useLayoutEffect=function(L,Y){return U.H.useLayoutEffect(L,Y)},Ct.useMemo=function(L,Y){return U.H.useMemo(L,Y)},Ct.useOptimistic=function(L,Y){return U.H.useOptimistic(L,Y)},Ct.useReducer=function(L,Y,tt){return U.H.useReducer(L,Y,tt)},Ct.useRef=function(L){return U.H.useRef(L)},Ct.useState=function(L){return U.H.useState(L)},Ct.useSyncExternalStore=function(L,Y,tt){return U.H.useSyncExternalStore(L,Y,tt)},Ct.useTransition=function(){return U.H.useTransition()},Ct.version="19.1.0",Ct}var vS;function r0(){return vS||(vS=1,Cv.exports=qw()),Cv.exports}var Z=r0();const n_=i_(Z);var Mv={exports:{}},qc={},kv={exports:{}},Lv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function Vw(){return bS||(bS=1,function(m){function e(B,q){var W=B.length;B.push(q);t:for(;0<W;){var Et=W-1>>>1,L=B[Et];if(0<r(L,q))B[Et]=q,B[W]=L,W=Et;else break t}}function i(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var q=B[0],W=B.pop();if(W!==q){B[0]=W;t:for(var Et=0,L=B.length,Y=L>>>1;Et<Y;){var tt=2*(Et+1)-1,J=B[tt],lt=tt+1,xt=B[lt];if(0>r(J,W))lt<L&&0>r(xt,J)?(B[Et]=xt,B[lt]=W,Et=lt):(B[Et]=J,B[tt]=W,Et=tt);else if(lt<L&&0>r(xt,W))B[Et]=xt,B[lt]=W,Et=lt;else break t}}return q}function r(B,q){var W=B.sortIndex-q.sortIndex;return W!==0?W:B.id-q.id}if(m.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;m.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();m.unstable_now=function(){return c.now()-h}}var f=[],p=[],v=1,b=null,y=3,_=!1,T=!1,R=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function z(B){for(var q=i(p);q!==null;){if(q.callback===null)a(p);else if(q.startTime<=B)a(p),q.sortIndex=q.expirationTime,e(f,q);else break;q=i(p)}}function U(B){if(R=!1,z(B),!T)if(i(f)!==null)T=!0,G||(G=!0,mt());else{var q=i(p);q!==null&&ht(U,q.startTime-B)}}var G=!1,X=-1,Q=5,it=-1;function ot(){return k?!0:!(m.unstable_now()-it<Q)}function st(){if(k=!1,G){var B=m.unstable_now();it=B;var q=!0;try{t:{T=!1,R&&(R=!1,D(X),X=-1),_=!0;var W=y;try{e:{for(z(B),b=i(f);b!==null&&!(b.expirationTime>B&&ot());){var Et=b.callback;if(typeof Et=="function"){b.callback=null,y=b.priorityLevel;var L=Et(b.expirationTime<=B);if(B=m.unstable_now(),typeof L=="function"){b.callback=L,z(B),q=!0;break e}b===i(f)&&a(f),z(B)}else a(f);b=i(f)}if(b!==null)q=!0;else{var Y=i(p);Y!==null&&ht(U,Y.startTime-B),q=!1}}break t}finally{b=null,y=W,_=!1}q=void 0}}finally{q?mt():G=!1}}}var mt;if(typeof N=="function")mt=function(){N(st)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,ft=vt.port2;vt.port1.onmessage=st,mt=function(){ft.postMessage(null)}}else mt=function(){C(st,0)};function ht(B,q){X=C(function(){B(m.unstable_now())},q)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(B){B.callback=null},m.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<B?Math.floor(1e3/B):5},m.unstable_getCurrentPriorityLevel=function(){return y},m.unstable_next=function(B){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var W=y;y=q;try{return B()}finally{y=W}},m.unstable_requestPaint=function(){k=!0},m.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=y;y=B;try{return q()}finally{y=W}},m.unstable_scheduleCallback=function(B,q,W){var Et=m.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Et+W:Et):W=Et,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=W+L,B={id:v++,callback:q,priorityLevel:B,startTime:W,expirationTime:L,sortIndex:-1},W>Et?(B.sortIndex=W,e(p,B),i(f)===null&&B===i(p)&&(R?(D(X),X=-1):R=!0,ht(U,W-Et))):(B.sortIndex=L,e(f,B),T||_||(T=!0,G||(G=!0,mt()))),B},m.unstable_shouldYield=ot,m.unstable_wrapCallback=function(B){var q=y;return function(){var W=y;y=q;try{return B.apply(this,arguments)}finally{y=W}}}}(Lv)),Lv}var yS;function Xw(){return yS||(yS=1,kv.exports=Vw()),kv.exports}var Dv={exports:{}},ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function Yw(){if(AS)return ui;AS=1;var m=r0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:f,containerInfo:p,implementation:v}}var c=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ui.createPortal=function(f,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,v)},ui.flushSync=function(f){var p=c.T,v=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=p,a.p=v,a.d.f()}},ui.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(f,p))},ui.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},ui.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var v=p.as,b=h(v,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?a.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:_}):v==="script"&&a.d.X(f,{crossOrigin:b,integrity:y,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ui.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);a.d.M(f,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(f)},ui.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=h(v,p.crossOrigin);a.d.L(f,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ui.preloadModule=function(f,p){if(typeof f=="string")if(p){var v=h(p.as,p.crossOrigin);a.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(f)},ui.requestFormReset=function(f){a.d.r(f)},ui.unstable_batchedUpdates=function(f,p){return f(p)},ui.useFormState=function(f,p,v){return c.H.useFormState(f,p,v)},ui.useFormStatus=function(){return c.H.useHostTransitionStatus()},ui.version="19.1.0",ui}var SS;function $w(){if(SS)return Dv.exports;SS=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(e){console.error(e)}}return m(),Dv.exports=Yw(),Dv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function Kw(){if(_S)return qc;_S=1;var m=Xw(),e=r0(),i=$w();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function c(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(l(t)!==t)throw Error(a(188))}function f(t){var n=t.alternate;if(!n){if(n=l(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var d=s.return;if(d===null)break;var g=d.alternate;if(g===null){if(o=d.return,o!==null){s=o;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===s)return h(d),t;if(g===o)return h(d),n;g=g.sibling}throw Error(a(188))}if(s.return!==o.return)s=d,o=g;else{for(var A=!1,x=d.child;x;){if(x===s){A=!0,s=d,o=g;break}if(x===o){A=!0,o=d,s=g;break}x=x.sibling}if(!A){for(x=g.child;x;){if(x===s){A=!0,s=g,o=d;break}if(x===o){A=!0,o=g,s=d;break}x=x.sibling}if(!A)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),N=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),it=Symbol.for("react.activity"),ot=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function mt(t){return t===null||typeof t!="object"?null:(t=st&&t[st]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case k:return"Profiler";case R:return"StrictMode";case U:return"Suspense";case G:return"SuspenseList";case it:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case N:return(t.displayName||"Context")+".Provider";case D:return(t._context.displayName||"Context")+".Consumer";case z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return n=t.displayName||null,n!==null?n:ft(t.type)||"Memo";case Q:n=t._payload,t=t._init;try{return ft(t(n))}catch{}}return null}var ht=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},Et=[],L=-1;function Y(t){return{current:t}}function tt(t){0>L||(t.current=Et[L],Et[L]=null,L--)}function J(t,n){L++,Et[L]=t.current,t.current=n}var lt=Y(null),xt=Y(null),ut=Y(null),Tt=Y(null);function Bt(t,n){switch(J(ut,n),J(xt,t),J(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?F1(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=F1(n),t=I1(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(lt),J(lt,t)}function xe(){tt(lt),tt(xt),tt(ut)}function Qt(t){t.memoizedState!==null&&J(Tt,t);var n=lt.current,s=I1(n,t.type);n!==s&&(J(xt,t),J(lt,s))}function Gn(t){xt.current===t&&(tt(lt),tt(xt)),Tt.current===t&&(tt(Tt),Bc._currentValue=W)}var pa=Object.prototype.hasOwnProperty,qt=m.unstable_scheduleCallback,le=m.unstable_cancelCallback,He=m.unstable_shouldYield,Te=m.unstable_requestPaint,We=m.unstable_now,gr=m.unstable_getCurrentPriorityLevel,Od=m.unstable_ImmediatePriority,Nd=m.unstable_UserBlockingPriority,ma=m.unstable_NormalPriority,dm=m.unstable_LowPriority,jd=m.unstable_IdlePriority,fm=m.log,pm=m.unstable_setDisableYieldValue,vr=null,we=null;function Bi(t){if(typeof fm=="function"&&pm(t),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(vr,t)}catch{}}var Fe=Math.clz32?Math.clz32:wx,Xu=Math.log,Tx=Math.LN2;function wx(t){return t>>>=0,t===0?32:31-(Xu(t)/Tx|0)|0}var zd=256,Pd=4194304;function br(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bd(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,g=t.suspendedLanes,A=t.pingedLanes;t=t.warmLanes;var x=o&134217727;return x!==0?(o=x&~g,o!==0?d=br(o):(A&=x,A!==0?d=br(A):s||(s=x&~t,s!==0&&(d=br(s))))):(x=o&~g,x!==0?d=br(x):A!==0?d=br(A):s||(s=o&~t,s!==0&&(d=br(s)))),d===0?0:n!==0&&n!==d&&(n&g)===0&&(g=d&-d,s=n&-n,g>=s||g===32&&(s&4194048)!==0)?n:d}function Yu(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rx(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x0(){var t=zd;return zd<<=1,(zd&4194048)===0&&(zd=256),t}function T0(){var t=Pd;return Pd<<=1,(Pd&62914560)===0&&(Pd=4194304),t}function mm(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function $u(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cx(t,n,s,o,d,g){var A=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var x=t.entanglements,M=t.expirationTimes,H=t.hiddenUpdates;for(s=A&~s;0<s;){var V=31-Fe(s),K=1<<V;x[V]=0,M[V]=-1;var F=H[V];if(F!==null)for(H[V]=null,V=0;V<F.length;V++){var I=F[V];I!==null&&(I.lane&=-536870913)}s&=~K}o!==0&&w0(t,o,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(A&~n))}function w0(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Fe(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function R0(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Fe(s),d=1<<o;d&n|t[o]&n&&(t[o]|=n),s&=~d}}function gm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vm(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function C0(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:oS(t.type))}function Mx(t,n){var s=q.p;try{return q.p=t,n()}finally{q.p=s}}var ds=Math.random().toString(36).slice(2),oi="__reactFiber$"+ds,wi="__reactProps$"+ds,Ko="__reactContainer$"+ds,bm="__reactEvents$"+ds,kx="__reactListeners$"+ds,Lx="__reactHandles$"+ds,M0="__reactResources$"+ds,Ku="__reactMarker$"+ds;function ym(t){delete t[oi],delete t[wi],delete t[bm],delete t[kx],delete t[Lx]}function Zo(t){var n=t[oi];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ko]||s[oi]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=X1(t);t!==null;){if(s=t[oi])return s;t=X1(t)}return n}t=s,s=t.parentNode}return null}function Qo(t){if(t=t[oi]||t[Ko]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Zu(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Wo(t){var n=t[M0];return n||(n=t[M0]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(t){t[Ku]=!0}var k0=new Set,L0={};function yr(t,n){Jo(t,n),Jo(t+"Capture",n)}function Jo(t,n){for(L0[t]=n,t=0;t<n.length;t++)k0.add(n[t])}var Dx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),D0={},O0={};function Ox(t){return pa.call(O0,t)?!0:pa.call(D0,t)?!1:Dx.test(t)?O0[t]=!0:(D0[t]=!0,!1)}function Ud(t,n,s){if(Ox(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Hd(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function ga(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}var Am,N0;function tl(t){if(Am===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Am=n&&n[1]||"",N0=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Am+t+N0}var Sm=!1;function _m(t,n){if(!t||Sm)return"";Sm=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(I){var F=I}Reflect.construct(t,[],K)}else{try{K.call()}catch(I){F=I}t.call(K.prototype)}}else{try{throw Error()}catch(I){F=I}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(I){if(I&&F&&typeof I.stack=="string")return[I.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),A=g[0],x=g[1];if(A&&x){var M=A.split(`
`),H=x.split(`
`);for(d=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(o===M.length||d===H.length)for(o=M.length-1,d=H.length-1;1<=o&&0<=d&&M[o]!==H[d];)d--;for(;1<=o&&0<=d;o--,d--)if(M[o]!==H[d]){if(o!==1||d!==1)do if(o--,d--,0>d||M[o]!==H[d]){var V=`
`+M[o].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=o&&0<=d);break}}}finally{Sm=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?tl(s):""}function Nx(t){switch(t.tag){case 26:case 27:case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 15:return _m(t.type,!1);case 11:return _m(t.type.render,!1);case 1:return _m(t.type,!0);case 31:return tl("Activity");default:return""}}function j0(t){try{var n="";do n+=Nx(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z0(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jx(t){var n=z0(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,g=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(A){o=""+A,g.call(this,A)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(A){o=""+A},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fd(t){t._valueTracker||(t._valueTracker=jx(t))}function P0(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=z0(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zx=/[\n"\\]/g;function rn(t){return t.replace(zx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Em(t,n,s,o,d,g,A,x){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),n!=null?A==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+sn(n)):t.value!==""+sn(n)&&(t.value=""+sn(n)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),n!=null?xm(t,A,sn(n)):s!=null?xm(t,A,sn(s)):o!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+sn(x):t.removeAttribute("name")}function B0(t,n,s,o,d,g,A,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),n!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||n!=null))return;s=s!=null?""+sn(s):"",n=n!=null?""+sn(n):s,x||n===t.value||(t.value=n),t.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=x?t.checked:!!o,t.defaultChecked=!!o,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A)}function xm(t,n,s){n==="number"&&Id(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function el(t,n,s,o){if(t=t.options,n){n={};for(var d=0;d<s.length;d++)n["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=n.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&o&&(t[s].defaultSelected=!0)}else{for(s=""+sn(s),n=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function U0(t,n,s){if(n!=null&&(n=""+sn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+sn(s):""}function H0(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ht(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=sn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function il(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Px=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function F0(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||Px.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function I0(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&s[d]!==o&&F0(t,d,o)}else for(var g in n)n.hasOwnProperty(g)&&F0(t,g,n[g])}function Tm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ux=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gd(t){return Ux.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var wm=null;function Rm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nl=null,al=null;function G0(t){var n=Qo(t);if(n&&(t=n.stateNode)){var s=t[wi]||null;t:switch(t=n.stateNode,n.type){case"input":if(Em(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var d=o[wi]||null;if(!d)throw Error(a(90));Em(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&P0(o)}break t;case"textarea":U0(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&el(t,!!s.multiple,n,!1)}}}var Cm=!1;function q0(t,n,s){if(Cm)return t(n,s);Cm=!0;try{var o=t(n);return o}finally{if(Cm=!1,(nl!==null||al!==null)&&(Mf(),nl&&(n=nl,t=al,al=nl=null,G0(n),t)))for(n=0;n<t.length;n++)G0(t[n])}}function Qu(t,n){var s=t.stateNode;if(s===null)return null;var o=s[wi]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mm=!1;if(va)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){Mm=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{Mm=!1}var fs=null,km=null,qd=null;function V0(){if(qd)return qd;var t,n=km,s=n.length,o,d="value"in fs?fs.value:fs.textContent,g=d.length;for(t=0;t<s&&n[t]===d[t];t++);var A=s-t;for(o=1;o<=A&&n[s-o]===d[g-o];o++);return qd=d.slice(t,1<o?1-o:void 0)}function Vd(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xd(){return!0}function X0(){return!1}function Ri(t){function n(s,o,d,g,A){this._reactName=s,this._targetInst=d,this.type=o,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(s=t[x],this[x]=s?s(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xd:X0,this.isPropagationStopped=X0,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xd)},persist:function(){},isPersistent:Xd}),n}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yd=Ri(Ar),Ju=v({},Ar,{view:0,detail:0}),Hx=Ri(Ju),Lm,Dm,tc,$d=v({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tc&&(tc&&t.type==="mousemove"?(Lm=t.screenX-tc.screenX,Dm=t.screenY-tc.screenY):Dm=Lm=0,tc=t),Lm)},movementY:function(t){return"movementY"in t?t.movementY:Dm}}),Y0=Ri($d),Fx=v({},$d,{dataTransfer:0}),Ix=Ri(Fx),Gx=v({},Ju,{relatedTarget:0}),Om=Ri(Gx),qx=v({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Vx=Ri(qx),Xx=v({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yx=Ri(Xx),$x=v({},Ar,{data:0}),$0=Ri($x),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wx(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Qx[t])?!!n[t]:!1}function Nm(){return Wx}var Jx=v({},Ju,{key:function(t){if(t.key){var n=Kx[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nm,charCode:function(t){return t.type==="keypress"?Vd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tT=Ri(Jx),eT=v({},$d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K0=Ri(eT),iT=v({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nm}),nT=Ri(iT),aT=v({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),sT=Ri(aT),rT=v({},$d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oT=Ri(rT),lT=v({},Ar,{newState:0,oldState:0}),uT=Ri(lT),cT=[9,13,27,32],jm=va&&"CompositionEvent"in window,ec=null;va&&"documentMode"in document&&(ec=document.documentMode);var hT=va&&"TextEvent"in window&&!ec,Z0=va&&(!jm||ec&&8<ec&&11>=ec),Q0=" ",W0=!1;function J0(t,n){switch(t){case"keyup":return cT.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sl=!1;function dT(t,n){switch(t){case"compositionend":return ty(n);case"keypress":return n.which!==32?null:(W0=!0,Q0);case"textInput":return t=n.data,t===Q0&&W0?null:t;default:return null}}function fT(t,n){if(sl)return t==="compositionend"||!jm&&J0(t,n)?(t=V0(),qd=km=fs=null,sl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Z0&&n.locale!=="ko"?null:n.data;default:return null}}var pT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ey(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!pT[t.type]:n==="textarea"}function iy(t,n,s,o){nl?al?al.push(o):al=[o]:nl=o,n=jf(n,"onChange"),0<n.length&&(s=new Yd("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var ic=null,nc=null;function mT(t){z1(t,0)}function Kd(t){var n=Zu(t);if(P0(n))return t}function ny(t,n){if(t==="change")return n}var ay=!1;if(va){var zm;if(va){var Pm="oninput"in document;if(!Pm){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),Pm=typeof sy.oninput=="function"}zm=Pm}else zm=!1;ay=zm&&(!document.documentMode||9<document.documentMode)}function ry(){ic&&(ic.detachEvent("onpropertychange",oy),nc=ic=null)}function oy(t){if(t.propertyName==="value"&&Kd(nc)){var n=[];iy(n,nc,t,Rm(t)),q0(mT,n)}}function gT(t,n,s){t==="focusin"?(ry(),ic=n,nc=s,ic.attachEvent("onpropertychange",oy)):t==="focusout"&&ry()}function vT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kd(nc)}function bT(t,n){if(t==="click")return Kd(n)}function yT(t,n){if(t==="input"||t==="change")return Kd(n)}function AT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ui=typeof Object.is=="function"?Object.is:AT;function ac(t,n){if(Ui(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var d=s[o];if(!pa.call(n,d)||!Ui(t[d],n[d]))return!1}return!0}function ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uy(t,n){var s=ly(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ly(s)}}function cy(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cy(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function hy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Id(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Id(t.document)}return n}function Bm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ST=va&&"documentMode"in document&&11>=document.documentMode,rl=null,Um=null,sc=null,Hm=!1;function dy(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Hm||rl==null||rl!==Id(o)||(o=rl,"selectionStart"in o&&Bm(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),sc&&ac(sc,o)||(sc=o,o=jf(Um,"onSelect"),0<o.length&&(n=new Yd("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=rl)))}function Sr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ol={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Fm={},fy={};va&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function _r(t){if(Fm[t])return Fm[t];if(!ol[t])return t;var n=ol[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in fy)return Fm[t]=n[s];return t}var py=_r("animationend"),my=_r("animationiteration"),gy=_r("animationstart"),_T=_r("transitionrun"),ET=_r("transitionstart"),xT=_r("transitioncancel"),vy=_r("transitionend"),by=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Im.push("scrollEnd");function xn(t,n){by.set(t,n),yr(n,[t])}var yy=new WeakMap;function on(t,n){if(typeof t=="object"&&t!==null){var s=yy.get(t);return s!==void 0?s:(n={value:t,source:n,stack:j0(n)},yy.set(t,n),n)}return{value:t,source:n,stack:j0(n)}}var ln=[],ll=0,Gm=0;function Zd(){for(var t=ll,n=Gm=ll=0;n<t;){var s=ln[n];ln[n++]=null;var o=ln[n];ln[n++]=null;var d=ln[n];ln[n++]=null;var g=ln[n];if(ln[n++]=null,o!==null&&d!==null){var A=o.pending;A===null?d.next=d:(d.next=A.next,A.next=d),o.pending=d}g!==0&&Ay(s,d,g)}}function Qd(t,n,s,o){ln[ll++]=t,ln[ll++]=n,ln[ll++]=s,ln[ll++]=o,Gm|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function qm(t,n,s,o){return Qd(t,n,s,o),Wd(t)}function ul(t,n){return Qd(t,null,null,n),Wd(t)}function Ay(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var d=!1,g=t.return;g!==null;)g.childLanes|=s,o=g.alternate,o!==null&&(o.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&n!==null&&(d=31-Fe(s),t=g.hiddenUpdates,o=t[d],o===null?t[d]=[n]:o.push(n),n.lane=s|536870912),g):null}function Wd(t){if(50<kc)throw kc=0,Zg=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var cl={};function TT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(t,n,s,o){return new TT(t,n,s,o)}function Vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ba(t,n){var s=t.alternate;return s===null?(s=Hi(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Sy(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Jd(t,n,s,o,d,g){var A=0;if(o=t,typeof t=="function")Vm(t)&&(A=1);else if(typeof t=="string")A=Rw(t,s,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case it:return t=Hi(31,s,n,d),t.elementType=it,t.lanes=g,t;case T:return Er(s.children,d,g,n);case R:A=8,d|=24;break;case k:return t=Hi(12,s,n,d|2),t.elementType=k,t.lanes=g,t;case U:return t=Hi(13,s,n,d),t.elementType=U,t.lanes=g,t;case G:return t=Hi(19,s,n,d),t.elementType=G,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:case N:A=10;break t;case D:A=9;break t;case z:A=11;break t;case X:A=14;break t;case Q:A=16,o=null;break t}A=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Hi(A,s,n,d),n.elementType=t,n.type=o,n.lanes=g,n}function Er(t,n,s,o){return t=Hi(7,t,o,n),t.lanes=s,t}function Xm(t,n,s){return t=Hi(6,t,null,n),t.lanes=s,t}function Ym(t,n,s){return n=Hi(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var hl=[],dl=0,tf=null,ef=0,un=[],cn=0,xr=null,ya=1,Aa="";function Tr(t,n){hl[dl++]=ef,hl[dl++]=tf,tf=t,ef=n}function _y(t,n,s){un[cn++]=ya,un[cn++]=Aa,un[cn++]=xr,xr=t;var o=ya;t=Aa;var d=32-Fe(o)-1;o&=~(1<<d),s+=1;var g=32-Fe(n)+d;if(30<g){var A=d-d%5;g=(o&(1<<A)-1).toString(32),o>>=A,d-=A,ya=1<<32-Fe(n)+d|s<<d|o,Aa=g+t}else ya=1<<g|s<<d|o,Aa=t}function $m(t){t.return!==null&&(Tr(t,1),_y(t,1,0))}function Km(t){for(;t===tf;)tf=hl[--dl],hl[dl]=null,ef=hl[--dl],hl[dl]=null;for(;t===xr;)xr=un[--cn],un[cn]=null,Aa=un[--cn],un[cn]=null,ya=un[--cn],un[cn]=null}var bi=null,ge=null,It=!1,wr=null,qn=!1,Zm=Error(a(519));function Rr(t){var n=Error(a(418,""));throw lc(on(n,t)),Zm}function Ey(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[oi]=t,n[wi]=o,s){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(s=0;s<Dc.length;s++)zt(Dc[s],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":zt("invalid",n),B0(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Fd(n);break;case"select":zt("invalid",n);break;case"textarea":zt("invalid",n),H0(n,o.value,o.defaultValue,o.children),Fd(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||H1(n.textContent,s)?(o.popover!=null&&(zt("beforetoggle",n),zt("toggle",n)),o.onScroll!=null&&zt("scroll",n),o.onScrollEnd!=null&&zt("scrollend",n),o.onClick!=null&&(n.onclick=zf),n=!0):n=!1,n||Rr(t)}function xy(t){for(bi=t.return;bi;)switch(bi.tag){case 5:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:bi=bi.return}}function rc(t){if(t!==bi)return!1;if(!It)return xy(t),It=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||dv(t.type,t.memoizedProps)),s=!s),s&&ge&&Rr(t),xy(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){ge=wn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}ge=null}}else n===27?(n=ge,Ms(t.type)?(t=gv,gv=null,ge=t):ge=n):ge=bi?wn(t.stateNode.nextSibling):null;return!0}function oc(){ge=bi=null,It=!1}function Ty(){var t=wr;return t!==null&&(ki===null?ki=t:ki.push.apply(ki,t),wr=null),t}function lc(t){wr===null?wr=[t]:wr.push(t)}var Qm=Y(null),Cr=null,Sa=null;function ps(t,n,s){J(Qm,n._currentValue),n._currentValue=s}function _a(t){t._currentValue=Qm.current,tt(Qm)}function Wm(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Jm(t,n,s,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var A=d.child;g=g.firstContext;t:for(;g!==null;){var x=g;g=d;for(var M=0;M<n.length;M++)if(x.context===n[M]){g.lanes|=s,x=g.alternate,x!==null&&(x.lanes|=s),Wm(g.return,s,t),o||(A=null);break t}g=x.next}}else if(d.tag===18){if(A=d.return,A===null)throw Error(a(341));A.lanes|=s,g=A.alternate,g!==null&&(g.lanes|=s),Wm(A,s,t),A=null}else A=d.child;if(A!==null)A.return=d;else for(A=d;A!==null;){if(A===t){A=null;break}if(d=A.sibling,d!==null){d.return=A.return,A=d;break}A=A.return}d=A}}function uc(t,n,s,o){t=null;for(var d=n,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var A=d.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var x=d.type;Ui(d.pendingProps.value,A.value)||(t!==null?t.push(x):t=[x])}}else if(d===Tt.current){if(A=d.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Bc):t=[Bc])}d=d.return}t!==null&&Jm(n,t,s,o),n.flags|=262144}function nf(t){for(t=t.firstContext;t!==null;){if(!Ui(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){Cr=t,Sa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function li(t){return wy(Cr,t)}function af(t,n){return Cr===null&&Mr(t),wy(t,n)}function wy(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Sa===null){if(t===null)throw Error(a(308));Sa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Sa=Sa.next=n;return s}var wT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},RT=m.unstable_scheduleCallback,CT=m.unstable_NormalPriority,De={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tg(){return{controller:new wT,data:new Map,refCount:0}}function cc(t){t.refCount--,t.refCount===0&&RT(CT,function(){t.controller.abort()})}var hc=null,eg=0,fl=0,pl=null;function MT(t,n){if(hc===null){var s=hc=[];eg=0,fl=nv(),pl={status:"pending",value:void 0,then:function(o){s.push(o)}}}return eg++,n.then(Ry,Ry),n}function Ry(){if(--eg===0&&hc!==null){pl!==null&&(pl.status="fulfilled");var t=hc;hc=null,fl=0,pl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function kT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<s.length;d++)(0,s[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),o}var Cy=B.S;B.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&MT(t,n),Cy!==null&&Cy(t,n)};var kr=Y(null);function ig(){var t=kr.current;return t!==null?t:se.pooledCache}function sf(t,n){n===null?J(kr,kr.current):J(kr,n.pool)}function My(){var t=ig();return t===null?null:{parent:De._currentValue,pool:t}}var dc=Error(a(460)),ky=Error(a(474)),rf=Error(a(542)),ng={then:function(){}};function Ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function of(){}function Dy(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(of,of),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ny(t),t;default:if(typeof n.status=="string")n.then(of,of);else{if(t=se,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ny(t),t}throw fc=n,dc}}var fc=null;function Oy(){if(fc===null)throw Error(a(459));var t=fc;return fc=null,t}function Ny(t){if(t===dc||t===rf)throw Error(a(483))}var ms=!1;function ag(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sg(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=Wd(t),Ay(t,null,s),n}return Qd(t,o,n,s),Wd(t)}function pc(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,R0(t,s)}}function rg(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var d=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?d=g=A:g=g.next=A,s=s.next}while(s!==null);g===null?d=g=n:g=g.next=n}else d=g=n;s={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var og=!1;function mc(){if(og){var t=pl;if(t!==null)throw t}}function gc(t,n,s,o){og=!1;var d=t.updateQueue;ms=!1;var g=d.firstBaseUpdate,A=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var M=x,H=M.next;M.next=null,A===null?g=H:A.next=H,A=M;var V=t.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==A&&(x===null?V.firstBaseUpdate=H:x.next=H,V.lastBaseUpdate=M))}if(g!==null){var K=d.baseState;A=0,V=H=M=null,x=g;do{var F=x.lane&-536870913,I=F!==x.lane;if(I?(Ht&F)===F:(o&F)===F){F!==0&&F===fl&&(og=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var At=t,bt=x;F=n;var te=s;switch(bt.tag){case 1:if(At=bt.payload,typeof At=="function"){K=At.call(te,K,F);break t}K=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=bt.payload,F=typeof At=="function"?At.call(te,K,F):At,F==null)break t;K=v({},K,F);break t;case 2:ms=!0}}F=x.callback,F!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[F]:I.push(F))}else I={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(H=V=I,M=K):V=V.next=I,A|=F;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;I=x,x=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);V===null&&(M=K),d.baseState=M,d.firstBaseUpdate=H,d.lastBaseUpdate=V,g===null&&(d.shared.lanes=0),Ts|=A,t.lanes=A,t.memoizedState=K}}function jy(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function zy(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)jy(s[t],n)}var ml=Y(null),lf=Y(0);function Py(t,n){t=Ma,J(lf,t),J(ml,n),Ma=t|n.baseLanes}function lg(){J(lf,Ma),J(ml,ml.current)}function ug(){Ma=lf.current,tt(ml),tt(lf)}var bs=0,Lt=null,Wt=null,Re=null,uf=!1,gl=!1,Lr=!1,cf=0,vc=0,vl=null,LT=0;function Ae(){throw Error(a(321))}function cg(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Ui(t[s],n[s]))return!1;return!0}function hg(t,n,s,o,d,g){return bs=g,Lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=t===null||t.memoizedState===null?AA:SA,Lr=!1,g=s(o,d),Lr=!1,gl&&(g=Uy(n,s,o,d)),By(t),g}function By(t){B.H=gf;var n=Wt!==null&&Wt.next!==null;if(bs=0,Re=Wt=Lt=null,uf=!1,vc=0,vl=null,n)throw Error(a(300));t===null||Ge||(t=t.dependencies,t!==null&&nf(t)&&(Ge=!0))}function Uy(t,n,s,o){Lt=t;var d=0;do{if(gl&&(vl=null),vc=0,gl=!1,25<=d)throw Error(a(301));if(d+=1,Re=Wt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=BT,g=n(s,o)}while(gl);return g}function DT(){var t=B.H,n=t.useState()[0];return n=typeof n.then=="function"?bc(n):n,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(Lt.flags|=1024),n}function dg(){var t=cf!==0;return cf=0,t}function fg(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function pg(t){if(uf){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}uf=!1}bs=0,Re=Wt=Lt=null,gl=!1,vc=cf=0,vl=null}function Ci(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Lt.memoizedState=Re=t:Re=Re.next=t,Re}function Ce(){if(Wt===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var n=Re===null?Lt.memoizedState:Re.next;if(n!==null)Re=n,Wt=t;else{if(t===null)throw Lt.alternate===null?Error(a(467)):Error(a(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Re===null?Lt.memoizedState=Re=t:Re=Re.next=t}return Re}function mg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bc(t){var n=vc;return vc+=1,vl===null&&(vl=[]),t=Dy(vl,t,n),n=Lt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?AA:SA),t}function hf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bc(t);if(t.$$typeof===N)return li(t)}throw Error(a(438,String(t)))}function gg(t){var n=null,s=Lt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Lt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=mg(),Lt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=ot;return n.index++,s}function Ea(t,n){return typeof n=="function"?n(t):n}function df(t){var n=Ce();return vg(n,Wt,t)}function vg(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var d=t.baseQueue,g=o.pending;if(g!==null){if(d!==null){var A=d.next;d.next=g.next,g.next=A}n.baseQueue=d=g,o.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{n=d.next;var x=A=null,M=null,H=n,V=!1;do{var K=H.lane&-536870913;if(K!==H.lane?(Ht&K)===K:(bs&K)===K){var F=H.revertLane;if(F===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),K===fl&&(V=!0);else if((bs&F)===F){H=H.next,F===fl&&(V=!0);continue}else K={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=K,A=g):M=M.next=K,Lt.lanes|=F,Ts|=F;K=H.action,Lr&&s(g,K),g=H.hasEagerState?H.eagerState:s(g,K)}else F={lane:K,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},M===null?(x=M=F,A=g):M=M.next=F,Lt.lanes|=K,Ts|=K;H=H.next}while(H!==null&&H!==n);if(M===null?A=g:M.next=x,!Ui(g,t.memoizedState)&&(Ge=!0,V&&(s=pl,s!==null)))throw s;t.memoizedState=g,t.baseState=A,t.baseQueue=M,o.lastRenderedState=g}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function bg(t){var n=Ce(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,d=s.pending,g=n.memoizedState;if(d!==null){s.pending=null;var A=d=d.next;do g=t(g,A.action),A=A.next;while(A!==d);Ui(g,n.memoizedState)||(Ge=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),s.lastRenderedState=g}return[g,o]}function Hy(t,n,s){var o=Lt,d=Ce(),g=It;if(g){if(s===void 0)throw Error(a(407));s=s()}else s=n();var A=!Ui((Wt||d).memoizedState,s);A&&(d.memoizedState=s,Ge=!0),d=d.queue;var x=Gy.bind(null,o,d,t);if(yc(2048,8,x,[t]),d.getSnapshot!==n||A||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,bl(9,ff(),Iy.bind(null,o,d,s,n),null),se===null)throw Error(a(349));g||(bs&124)!==0||Fy(o,n,s)}return s}function Fy(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Lt.updateQueue,n===null?(n=mg(),Lt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Iy(t,n,s,o){n.value=s,n.getSnapshot=o,qy(n)&&Vy(t)}function Gy(t,n,s){return s(function(){qy(n)&&Vy(t)})}function qy(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Ui(t,s)}catch{return!0}}function Vy(t){var n=ul(t,2);n!==null&&Vi(n,t,2)}function yg(t){var n=Ci();if(typeof t=="function"){var s=t;if(t=s(),Lr){Bi(!0);try{s()}finally{Bi(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:t},n}function Xy(t,n,s,o){return t.baseState=s,vg(t,Wt,typeof o=="function"?o:Ea)}function OT(t,n,s,o,d){if(mf(t))throw Error(a(485));if(t=n.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};B.T!==null?s(!0):g.isTransition=!1,o(g),s=n.pending,s===null?(g.next=n.pending=g,Yy(n,g)):(g.next=s.next,n.pending=s.next=g)}}function Yy(t,n){var s=n.action,o=n.payload,d=t.state;if(n.isTransition){var g=B.T,A={};B.T=A;try{var x=s(d,o),M=B.S;M!==null&&M(A,x),$y(t,n,x)}catch(H){Ag(t,n,H)}finally{B.T=g}}else try{g=s(d,o),$y(t,n,g)}catch(H){Ag(t,n,H)}}function $y(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Ky(t,n,o)},function(o){return Ag(t,n,o)}):Ky(t,n,s)}function Ky(t,n,s){n.status="fulfilled",n.value=s,Zy(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Yy(t,s)))}function Ag(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Zy(n),n=n.next;while(n!==o)}t.action=null}function Zy(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Qy(t,n){return n}function Wy(t,n){if(It){var s=se.formState;if(s!==null){t:{var o=Lt;if(It){if(ge){e:{for(var d=ge,g=qn;d.nodeType!==8;){if(!g){d=null;break e}if(d=wn(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ge=wn(d.nextSibling),o=d.data==="F!";break t}}Rr(o)}o=!1}o&&(n=s[0])}}return s=Ci(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:n},s.queue=o,s=vA.bind(null,Lt,o),o.dispatch=s,o=yg(!1),g=Tg.bind(null,Lt,!1,o.queue),o=Ci(),d={state:n,dispatch:null,action:t,pending:null},o.queue=d,s=OT.bind(null,Lt,d,g,s),d.dispatch=s,o.memoizedState=t,[n,s,!1]}function Jy(t){var n=Ce();return tA(n,Wt,t)}function tA(t,n,s){if(n=vg(t,n,Qy)[0],t=df(Ea)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=bc(n)}catch(A){throw A===dc?rf:A}else o=n;n=Ce();var d=n.queue,g=d.dispatch;return s!==n.memoizedState&&(Lt.flags|=2048,bl(9,ff(),NT.bind(null,d,s),null)),[o,g,t]}function NT(t,n){t.action=n}function eA(t){var n=Ce(),s=Wt;if(s!==null)return tA(n,s,t);Ce(),n=n.memoizedState,s=Ce();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function bl(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Lt.updateQueue,n===null&&(n=mg(),Lt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function ff(){return{destroy:void 0,resource:void 0}}function iA(){return Ce().memoizedState}function pf(t,n,s,o){var d=Ci();o=o===void 0?null:o,Lt.flags|=t,d.memoizedState=bl(1|n,ff(),s,o)}function yc(t,n,s,o){var d=Ce();o=o===void 0?null:o;var g=d.memoizedState.inst;Wt!==null&&o!==null&&cg(o,Wt.memoizedState.deps)?d.memoizedState=bl(n,g,s,o):(Lt.flags|=t,d.memoizedState=bl(1|n,g,s,o))}function nA(t,n){pf(8390656,8,t,n)}function aA(t,n){yc(2048,8,t,n)}function sA(t,n){return yc(4,2,t,n)}function rA(t,n){return yc(4,4,t,n)}function oA(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lA(t,n,s){s=s!=null?s.concat([t]):null,yc(4,4,oA.bind(null,n,t),s)}function Sg(){}function uA(t,n){var s=Ce();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&cg(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function cA(t,n){var s=Ce();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&cg(n,o[1]))return o[0];if(o=t(),Lr){Bi(!0);try{t()}finally{Bi(!1)}}return s.memoizedState=[o,n],o}function _g(t,n,s){return s===void 0||(bs&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=f1(),Lt.lanes|=t,Ts|=t,s)}function hA(t,n,s,o){return Ui(s,n)?s:ml.current!==null?(t=_g(t,s,o),Ui(t,n)||(Ge=!0),t):(bs&42)===0?(Ge=!0,t.memoizedState=s):(t=f1(),Lt.lanes|=t,Ts|=t,n)}function dA(t,n,s,o,d){var g=q.p;q.p=g!==0&&8>g?g:8;var A=B.T,x={};B.T=x,Tg(t,!1,n,s);try{var M=d(),H=B.S;if(H!==null&&H(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var V=kT(M,o);Ac(t,n,V,qi(t))}else Ac(t,n,o,qi(t))}catch(K){Ac(t,n,{then:function(){},status:"rejected",reason:K},qi())}finally{q.p=g,B.T=A}}function jT(){}function Eg(t,n,s,o){if(t.tag!==5)throw Error(a(476));var d=fA(t).queue;dA(t,d,n,W,s===null?jT:function(){return pA(t),s(o)})}function fA(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:W},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pA(t){var n=fA(t).next.queue;Ac(t,n,{},qi())}function xg(){return li(Bc)}function mA(){return Ce().memoizedState}function gA(){return Ce().memoizedState}function zT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=qi();t=gs(s);var o=vs(n,t,s);o!==null&&(Vi(o,n,s),pc(o,n,s)),n={cache:tg()},t.payload=n;return}n=n.return}}function PT(t,n,s){var o=qi();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},mf(t)?bA(n,s):(s=qm(t,n,s,o),s!==null&&(Vi(s,t,o),yA(s,n,o)))}function vA(t,n,s){var o=qi();Ac(t,n,s,o)}function Ac(t,n,s,o){var d={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(mf(t))bA(n,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var A=n.lastRenderedState,x=g(A,s);if(d.hasEagerState=!0,d.eagerState=x,Ui(x,A))return Qd(t,n,d,0),se===null&&Zd(),!1}catch{}finally{}if(s=qm(t,n,d,o),s!==null)return Vi(s,t,o),yA(s,n,o),!0}return!1}function Tg(t,n,s,o){if(o={lane:2,revertLane:nv(),action:o,hasEagerState:!1,eagerState:null,next:null},mf(t)){if(n)throw Error(a(479))}else n=qm(t,s,o,2),n!==null&&Vi(n,t,2)}function mf(t){var n=t.alternate;return t===Lt||n!==null&&n===Lt}function bA(t,n){gl=uf=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function yA(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,R0(t,s)}}var gf={readContext:li,use:hf,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae},AA={readContext:li,use:hf,useCallback:function(t,n){return Ci().memoizedState=[t,n===void 0?null:n],t},useContext:li,useEffect:nA,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,pf(4194308,4,oA.bind(null,n,t),s)},useLayoutEffect:function(t,n){return pf(4194308,4,t,n)},useInsertionEffect:function(t,n){pf(4,2,t,n)},useMemo:function(t,n){var s=Ci();n=n===void 0?null:n;var o=t();if(Lr){Bi(!0);try{t()}finally{Bi(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Ci();if(s!==void 0){var d=s(n);if(Lr){Bi(!0);try{s(n)}finally{Bi(!1)}}}else d=n;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=PT.bind(null,Lt,t),[o.memoizedState,t]},useRef:function(t){var n=Ci();return t={current:t},n.memoizedState=t},useState:function(t){t=yg(t);var n=t.queue,s=vA.bind(null,Lt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sg,useDeferredValue:function(t,n){var s=Ci();return _g(s,t,n)},useTransition:function(){var t=yg(!1);return t=dA.bind(null,Lt,t.queue,!0,!1),Ci().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Lt,d=Ci();if(It){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(Ht&124)!==0||Fy(o,n,s)}d.memoizedState=s;var g={value:s,getSnapshot:n};return d.queue=g,nA(Gy.bind(null,o,g,t),[t]),o.flags|=2048,bl(9,ff(),Iy.bind(null,o,g,s,n),null),s},useId:function(){var t=Ci(),n=se.identifierPrefix;if(It){var s=Aa,o=ya;s=(o&~(1<<32-Fe(o)-1)).toString(32)+s,n=""+n+"R"+s,s=cf++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=LT++,n=""+n+"r"+s.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:xg,useFormState:Wy,useActionState:Wy,useOptimistic:function(t){var n=Ci();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Tg.bind(null,Lt,!0,s),s.dispatch=n,[t,n]},useMemoCache:gg,useCacheRefresh:function(){return Ci().memoizedState=zT.bind(null,Lt)}},SA={readContext:li,use:hf,useCallback:uA,useContext:li,useEffect:aA,useImperativeHandle:lA,useInsertionEffect:sA,useLayoutEffect:rA,useMemo:cA,useReducer:df,useRef:iA,useState:function(){return df(Ea)},useDebugValue:Sg,useDeferredValue:function(t,n){var s=Ce();return hA(s,Wt.memoizedState,t,n)},useTransition:function(){var t=df(Ea)[0],n=Ce().memoizedState;return[typeof t=="boolean"?t:bc(t),n]},useSyncExternalStore:Hy,useId:mA,useHostTransitionStatus:xg,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,n){var s=Ce();return Xy(s,Wt,t,n)},useMemoCache:gg,useCacheRefresh:gA},BT={readContext:li,use:hf,useCallback:uA,useContext:li,useEffect:aA,useImperativeHandle:lA,useInsertionEffect:sA,useLayoutEffect:rA,useMemo:cA,useReducer:bg,useRef:iA,useState:function(){return bg(Ea)},useDebugValue:Sg,useDeferredValue:function(t,n){var s=Ce();return Wt===null?_g(s,t,n):hA(s,Wt.memoizedState,t,n)},useTransition:function(){var t=bg(Ea)[0],n=Ce().memoizedState;return[typeof t=="boolean"?t:bc(t),n]},useSyncExternalStore:Hy,useId:mA,useHostTransitionStatus:xg,useFormState:eA,useActionState:eA,useOptimistic:function(t,n){var s=Ce();return Wt!==null?Xy(s,Wt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:gg,useCacheRefresh:gA},yl=null,Sc=0;function vf(t){var n=Sc;return Sc+=1,yl===null&&(yl=[]),Dy(yl,t,n)}function _c(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function bf(t,n){throw n.$$typeof===b?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _A(t){var n=t._init;return n(t._payload)}function EA(t){function n(j,O){if(t){var P=j.deletions;P===null?(j.deletions=[O],j.flags|=16):P.push(O)}}function s(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function d(j,O){return j=ba(j,O),j.index=0,j.sibling=null,j}function g(j,O,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<O?(j.flags|=67108866,O):P):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function A(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function x(j,O,P,$){return O===null||O.tag!==6?(O=Xm(P,j.mode,$),O.return=j,O):(O=d(O,P),O.return=j,O)}function M(j,O,P,$){var ct=P.type;return ct===T?V(j,O,P.props.children,$,P.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Q&&_A(ct)===O.type)?(O=d(O,P.props),_c(O,P),O.return=j,O):(O=Jd(P.type,P.key,P.props,null,j.mode,$),_c(O,P),O.return=j,O)}function H(j,O,P,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Ym(P,j.mode,$),O.return=j,O):(O=d(O,P.children||[]),O.return=j,O)}function V(j,O,P,$,ct){return O===null||O.tag!==7?(O=Er(P,j.mode,$,ct),O.return=j,O):(O=d(O,P),O.return=j,O)}function K(j,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Xm(""+O,j.mode,P),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case y:return P=Jd(O.type,O.key,O.props,null,j.mode,P),_c(P,O),P.return=j,P;case _:return O=Ym(O,j.mode,P),O.return=j,O;case Q:var $=O._init;return O=$(O._payload),K(j,O,P)}if(ht(O)||mt(O))return O=Er(O,j.mode,P,null),O.return=j,O;if(typeof O.then=="function")return K(j,vf(O),P);if(O.$$typeof===N)return K(j,af(j,O),P);bf(j,O)}return null}function F(j,O,P,$){var ct=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:x(j,O,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case y:return P.key===ct?M(j,O,P,$):null;case _:return P.key===ct?H(j,O,P,$):null;case Q:return ct=P._init,P=ct(P._payload),F(j,O,P,$)}if(ht(P)||mt(P))return ct!==null?null:V(j,O,P,$,null);if(typeof P.then=="function")return F(j,O,vf(P),$);if(P.$$typeof===N)return F(j,O,af(j,P),$);bf(j,P)}return null}function I(j,O,P,$,ct){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return j=j.get(P)||null,x(O,j,""+$,ct);if(typeof $=="object"&&$!==null){switch($.$$typeof){case y:return j=j.get($.key===null?P:$.key)||null,M(O,j,$,ct);case _:return j=j.get($.key===null?P:$.key)||null,H(O,j,$,ct);case Q:var Ot=$._init;return $=Ot($._payload),I(j,O,P,$,ct)}if(ht($)||mt($))return j=j.get(P)||null,V(O,j,$,ct,null);if(typeof $.then=="function")return I(j,O,P,vf($),ct);if($.$$typeof===N)return I(j,O,P,af(O,$),ct);bf(O,$)}return null}function At(j,O,P,$){for(var ct=null,Ot=null,pt=O,yt=O=0,Ve=null;pt!==null&&yt<P.length;yt++){pt.index>yt?(Ve=pt,pt=null):Ve=pt.sibling;var Ft=F(j,pt,P[yt],$);if(Ft===null){pt===null&&(pt=Ve);break}t&&pt&&Ft.alternate===null&&n(j,pt),O=g(Ft,O,yt),Ot===null?ct=Ft:Ot.sibling=Ft,Ot=Ft,pt=Ve}if(yt===P.length)return s(j,pt),It&&Tr(j,yt),ct;if(pt===null){for(;yt<P.length;yt++)pt=K(j,P[yt],$),pt!==null&&(O=g(pt,O,yt),Ot===null?ct=pt:Ot.sibling=pt,Ot=pt);return It&&Tr(j,yt),ct}for(pt=o(pt);yt<P.length;yt++)Ve=I(pt,j,yt,P[yt],$),Ve!==null&&(t&&Ve.alternate!==null&&pt.delete(Ve.key===null?yt:Ve.key),O=g(Ve,O,yt),Ot===null?ct=Ve:Ot.sibling=Ve,Ot=Ve);return t&&pt.forEach(function(Ns){return n(j,Ns)}),It&&Tr(j,yt),ct}function bt(j,O,P,$){if(P==null)throw Error(a(151));for(var ct=null,Ot=null,pt=O,yt=O=0,Ve=null,Ft=P.next();pt!==null&&!Ft.done;yt++,Ft=P.next()){pt.index>yt?(Ve=pt,pt=null):Ve=pt.sibling;var Ns=F(j,pt,Ft.value,$);if(Ns===null){pt===null&&(pt=Ve);break}t&&pt&&Ns.alternate===null&&n(j,pt),O=g(Ns,O,yt),Ot===null?ct=Ns:Ot.sibling=Ns,Ot=Ns,pt=Ve}if(Ft.done)return s(j,pt),It&&Tr(j,yt),ct;if(pt===null){for(;!Ft.done;yt++,Ft=P.next())Ft=K(j,Ft.value,$),Ft!==null&&(O=g(Ft,O,yt),Ot===null?ct=Ft:Ot.sibling=Ft,Ot=Ft);return It&&Tr(j,yt),ct}for(pt=o(pt);!Ft.done;yt++,Ft=P.next())Ft=I(pt,j,yt,Ft.value,$),Ft!==null&&(t&&Ft.alternate!==null&&pt.delete(Ft.key===null?yt:Ft.key),O=g(Ft,O,yt),Ot===null?ct=Ft:Ot.sibling=Ft,Ot=Ft);return t&&pt.forEach(function(Uw){return n(j,Uw)}),It&&Tr(j,yt),ct}function te(j,O,P,$){if(typeof P=="object"&&P!==null&&P.type===T&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case y:t:{for(var ct=P.key;O!==null;){if(O.key===ct){if(ct=P.type,ct===T){if(O.tag===7){s(j,O.sibling),$=d(O,P.props.children),$.return=j,j=$;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Q&&_A(ct)===O.type){s(j,O.sibling),$=d(O,P.props),_c($,P),$.return=j,j=$;break t}s(j,O);break}else n(j,O);O=O.sibling}P.type===T?($=Er(P.props.children,j.mode,$,P.key),$.return=j,j=$):($=Jd(P.type,P.key,P.props,null,j.mode,$),_c($,P),$.return=j,j=$)}return A(j);case _:t:{for(ct=P.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(j,O.sibling),$=d(O,P.children||[]),$.return=j,j=$;break t}else{s(j,O);break}else n(j,O);O=O.sibling}$=Ym(P,j.mode,$),$.return=j,j=$}return A(j);case Q:return ct=P._init,P=ct(P._payload),te(j,O,P,$)}if(ht(P))return At(j,O,P,$);if(mt(P)){if(ct=mt(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),bt(j,O,P,$)}if(typeof P.then=="function")return te(j,O,vf(P),$);if(P.$$typeof===N)return te(j,O,af(j,P),$);bf(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(j,O.sibling),$=d(O,P),$.return=j,j=$):(s(j,O),$=Xm(P,j.mode,$),$.return=j,j=$),A(j)):s(j,O)}return function(j,O,P,$){try{Sc=0;var ct=te(j,O,P,$);return yl=null,ct}catch(pt){if(pt===dc||pt===rf)throw pt;var Ot=Hi(29,pt,null,j.mode);return Ot.lanes=$,Ot.return=j,Ot}finally{}}}var Al=EA(!0),xA=EA(!1),hn=Y(null),Vn=null;function ys(t){var n=t.alternate;J(Oe,Oe.current&1),J(hn,t),Vn===null&&(n===null||ml.current!==null||n.memoizedState!==null)&&(Vn=t)}function TA(t){if(t.tag===22){if(J(Oe,Oe.current),J(hn,t),Vn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Vn=t)}}else As()}function As(){J(Oe,Oe.current),J(hn,hn.current)}function xa(t){tt(hn),Vn===t&&(Vn=null),tt(Oe)}var Oe=Y(0);function yf(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||mv(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wg(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:v({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Rg={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=qi(),d=gs(o);d.payload=n,s!=null&&(d.callback=s),n=vs(t,d,o),n!==null&&(Vi(n,t,o),pc(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=qi(),d=gs(o);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=vs(t,d,o),n!==null&&(Vi(n,t,o),pc(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=qi(),o=gs(s);o.tag=2,n!=null&&(o.callback=n),n=vs(t,o,s),n!==null&&(Vi(n,t,s),pc(n,t,s))}};function wA(t,n,s,o,d,g,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,g,A):n.prototype&&n.prototype.isPureReactComponent?!ac(s,o)||!ac(d,g):!0}function RA(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Rg.enqueueReplaceState(n,n.state,null)}function Dr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=v({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var Af=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function CA(t){Af(t)}function MA(t){console.error(t)}function kA(t){Af(t)}function Sf(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function LA(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Cg(t,n,s){return s=gs(s),s.tag=3,s.payload={element:null},s.callback=function(){Sf(t,n)},s}function DA(t){return t=gs(t),t.tag=3,t}function OA(t,n,s,o){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;t.payload=function(){return d(g)},t.callback=function(){LA(n,s,o)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){LA(n,s,o),typeof d!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function UT(t,n,s,o,d){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&uc(n,s,d,!0),s=hn.current,s!==null){switch(s.tag){case 13:return Vn===null?Wg():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=d,o===ng?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),tv(t,o,d)),!1;case 22:return s.flags|=65536,o===ng?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),tv(t,o,d)),!1}throw Error(a(435,s.tag))}return tv(t,o,d),Wg(),!1}if(It)return n=hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==Zm&&(t=Error(a(422),{cause:o}),lc(on(t,s)))):(o!==Zm&&(n=Error(a(423),{cause:o}),lc(on(n,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=on(o,s),d=Cg(t.stateNode,o,d),rg(t,d),ve!==4&&(ve=2)),!1;var g=Error(a(520),{cause:o});if(g=on(g,s),Mc===null?Mc=[g]:Mc.push(g),ve!==4&&(ve=2),n===null)return!0;o=on(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Cg(s.stateNode,o,t),rg(s,t),!1;case 1:if(n=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ws===null||!ws.has(g))))return s.flags|=65536,d&=-d,s.lanes|=d,d=DA(d),OA(d,t,s,o),rg(s,d),!1}s=s.return}while(s!==null);return!1}var NA=Error(a(461)),Ge=!1;function Je(t,n,s,o){n.child=t===null?xA(n,null,s,o):Al(n,t.child,s,o)}function jA(t,n,s,o,d){s=s.render;var g=n.ref;if("ref"in o){var A={};for(var x in o)x!=="ref"&&(A[x]=o[x])}else A=o;return Mr(n),o=hg(t,n,s,A,g,d),x=dg(),t!==null&&!Ge?(fg(t,n,d),Ta(t,n,d)):(It&&x&&$m(n),n.flags|=1,Je(t,n,o,d),n.child)}function zA(t,n,s,o,d){if(t===null){var g=s.type;return typeof g=="function"&&!Vm(g)&&g.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=g,PA(t,n,g,o,d)):(t=Jd(s.type,null,o,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(g=t.child,!zg(t,d)){var A=g.memoizedProps;if(s=s.compare,s=s!==null?s:ac,s(A,o)&&t.ref===n.ref)return Ta(t,n,d)}return n.flags|=1,t=ba(g,o),t.ref=n.ref,t.return=n,n.child=t}function PA(t,n,s,o,d){if(t!==null){var g=t.memoizedProps;if(ac(g,o)&&t.ref===n.ref)if(Ge=!1,n.pendingProps=o=g,zg(t,d))(t.flags&131072)!==0&&(Ge=!0);else return n.lanes=t.lanes,Ta(t,n,d)}return Mg(t,n,s,o,d)}function BA(t,n,s){var o=n.pendingProps,d=o.children,g=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=g!==null?g.baseLanes|s:s,t!==null){for(d=n.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;n.childLanes=g&~o}else n.childLanes=0,n.child=null;return UA(t,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&sf(n,g!==null?g.cachePool:null),g!==null?Py(n,g):lg(),TA(n);else return n.lanes=n.childLanes=536870912,UA(t,n,g!==null?g.baseLanes|s:s,s)}else g!==null?(sf(n,g.cachePool),Py(n,g),As(),n.memoizedState=null):(t!==null&&sf(n,null),lg(),As());return Je(t,n,d,s),n.child}function UA(t,n,s,o){var d=ig();return d=d===null?null:{parent:De._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},t!==null&&sf(n,null),lg(),TA(n),t!==null&&uc(t,n,o,!0),null}function _f(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mg(t,n,s,o,d){return Mr(n),s=hg(t,n,s,o,void 0,d),o=dg(),t!==null&&!Ge?(fg(t,n,d),Ta(t,n,d)):(It&&o&&$m(n),n.flags|=1,Je(t,n,s,d),n.child)}function HA(t,n,s,o,d,g){return Mr(n),n.updateQueue=null,s=Uy(n,o,s,d),By(t),o=dg(),t!==null&&!Ge?(fg(t,n,g),Ta(t,n,g)):(It&&o&&$m(n),n.flags|=1,Je(t,n,s,g),n.child)}function FA(t,n,s,o,d){if(Mr(n),n.stateNode===null){var g=cl,A=s.contextType;typeof A=="object"&&A!==null&&(g=li(A)),g=new s(o,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Rg,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=o,g.state=n.memoizedState,g.refs={},ag(n),A=s.contextType,g.context=typeof A=="object"&&A!==null?li(A):cl,g.state=n.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(wg(n,s,A,o),g.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&Rg.enqueueReplaceState(g,g.state,null),gc(n,o,g,d),mc(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){g=n.stateNode;var x=n.memoizedProps,M=Dr(s,x);g.props=M;var H=g.context,V=s.contextType;A=cl,typeof V=="object"&&V!==null&&(A=li(V));var K=s.getDerivedStateFromProps;V=typeof K=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||H!==A)&&RA(n,g,o,A),ms=!1;var F=n.memoizedState;g.state=F,gc(n,o,g,d),mc(),H=n.memoizedState,x||F!==H||ms?(typeof K=="function"&&(wg(n,s,K,o),H=n.memoizedState),(M=ms||wA(n,s,M,o,F,H,A))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=H),g.props=o,g.state=H,g.context=A,o=M):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{g=n.stateNode,sg(t,n),A=n.memoizedProps,V=Dr(s,A),g.props=V,K=n.pendingProps,F=g.context,H=s.contextType,M=cl,typeof H=="object"&&H!==null&&(M=li(H)),x=s.getDerivedStateFromProps,(H=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==K||F!==M)&&RA(n,g,o,M),ms=!1,F=n.memoizedState,g.state=F,gc(n,o,g,d),mc();var I=n.memoizedState;A!==K||F!==I||ms||t!==null&&t.dependencies!==null&&nf(t.dependencies)?(typeof x=="function"&&(wg(n,s,x,o),I=n.memoizedState),(V=ms||wA(n,s,V,o,F,I,M)||t!==null&&t.dependencies!==null&&nf(t.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,I,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,I,M)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=I),g.props=o,g.state=I,g.context=M,o=V):(typeof g.componentDidUpdate!="function"||A===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),o=!1)}return g=o,_f(t,n),o=(n.flags&128)!==0,g||o?(g=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,t!==null&&o?(n.child=Al(n,t.child,null,d),n.child=Al(n,null,s,d)):Je(t,n,s,d),n.memoizedState=g.state,t=n.child):t=Ta(t,n,d),t}function IA(t,n,s,o){return oc(),n.flags|=256,Je(t,n,s,o),n.child}var kg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lg(t){return{baseLanes:t,cachePool:My()}}function Dg(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=dn),t}function GA(t,n,s){var o=n.pendingProps,d=!1,g=(n.flags&128)!==0,A;if((A=g)||(A=t!==null&&t.memoizedState===null?!1:(Oe.current&2)!==0),A&&(d=!0,n.flags&=-129),A=(n.flags&32)!==0,n.flags&=-33,t===null){if(It){if(d?ys(n):As(),It){var x=ge,M;if(M=x){t:{for(M=x,x=qn;M.nodeType!==8;){if(!x){x=null;break t}if(M=wn(M.nextSibling),M===null){x=null;break t}}x=M}x!==null?(n.memoizedState={dehydrated:x,treeContext:xr!==null?{id:ya,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},M=Hi(18,null,null,0),M.stateNode=x,M.return=n,n.child=M,bi=n,ge=null,M=!0):M=!1}M||Rr(n)}if(x=n.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return mv(x)?n.lanes=32:n.lanes=536870912,null;xa(n)}return x=o.children,o=o.fallback,d?(As(),d=n.mode,x=Ef({mode:"hidden",children:x},d),o=Er(o,d,s,null),x.return=n,o.return=n,x.sibling=o,n.child=x,d=n.child,d.memoizedState=Lg(s),d.childLanes=Dg(t,A,s),n.memoizedState=kg,o):(ys(n),Og(n,x))}if(M=t.memoizedState,M!==null&&(x=M.dehydrated,x!==null)){if(g)n.flags&256?(ys(n),n.flags&=-257,n=Ng(t,n,s)):n.memoizedState!==null?(As(),n.child=t.child,n.flags|=128,n=null):(As(),d=o.fallback,x=n.mode,o=Ef({mode:"visible",children:o.children},x),d=Er(d,x,s,null),d.flags|=2,o.return=n,d.return=n,o.sibling=d,n.child=o,Al(n,t.child,null,s),o=n.child,o.memoizedState=Lg(s),o.childLanes=Dg(t,A,s),n.memoizedState=kg,n=d);else if(ys(n),mv(x)){if(A=x.nextSibling&&x.nextSibling.dataset,A)var H=A.dgst;A=H,o=Error(a(419)),o.stack="",o.digest=A,lc({value:o,source:null,stack:null}),n=Ng(t,n,s)}else if(Ge||uc(t,n,s,!1),A=(s&t.childLanes)!==0,Ge||A){if(A=se,A!==null&&(o=s&-s,o=(o&42)!==0?1:gm(o),o=(o&(A.suspendedLanes|s))!==0?0:o,o!==0&&o!==M.retryLane))throw M.retryLane=o,ul(t,o),Vi(A,t,o),NA;x.data==="$?"||Wg(),n=Ng(t,n,s)}else x.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=M.treeContext,ge=wn(x.nextSibling),bi=n,It=!0,wr=null,qn=!1,t!==null&&(un[cn++]=ya,un[cn++]=Aa,un[cn++]=xr,ya=t.id,Aa=t.overflow,xr=n),n=Og(n,o.children),n.flags|=4096);return n}return d?(As(),d=o.fallback,x=n.mode,M=t.child,H=M.sibling,o=ba(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,H!==null?d=ba(H,d):(d=Er(d,x,s,null),d.flags|=2),d.return=n,o.return=n,o.sibling=d,n.child=o,o=d,d=n.child,x=t.child.memoizedState,x===null?x=Lg(s):(M=x.cachePool,M!==null?(H=De._currentValue,M=M.parent!==H?{parent:H,pool:H}:M):M=My(),x={baseLanes:x.baseLanes|s,cachePool:M}),d.memoizedState=x,d.childLanes=Dg(t,A,s),n.memoizedState=kg,o):(ys(n),s=t.child,t=s.sibling,s=ba(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(A=n.deletions,A===null?(n.deletions=[t],n.flags|=16):A.push(t)),n.child=s,n.memoizedState=null,s)}function Og(t,n){return n=Ef({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ef(t,n){return t=Hi(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ng(t,n,s){return Al(n,t.child,null,s),t=Og(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function qA(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Wm(t.return,n,s)}function jg(t,n,s,o,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:d}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=d)}function VA(t,n,s){var o=n.pendingProps,d=o.revealOrder,g=o.tail;if(Je(t,n,o.children,s),o=Oe.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qA(t,s,n);else if(t.tag===19)qA(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(J(Oe,o),d){case"forwards":for(s=n.child,d=null;s!==null;)t=s.alternate,t!==null&&yf(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=n.child,n.child=null):(d=s.sibling,s.sibling=null),jg(n,!1,d,s,g);break;case"backwards":for(s=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&yf(t)===null){n.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}jg(n,!0,s,null,g);break;case"together":jg(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ta(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ts|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(uc(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ba(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ba(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function zg(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&nf(t)))}function HT(t,n,s){switch(n.tag){case 3:Bt(n,n.stateNode.containerInfo),ps(n,De,t.memoizedState.cache),oc();break;case 27:case 5:Qt(n);break;case 4:Bt(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ys(n),n.flags|=128,null):(s&n.child.childLanes)!==0?GA(t,n,s):(ys(n),t=Ta(t,n,s),t!==null?t.sibling:null);ys(n);break;case 19:var d=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(uc(t,n,s,!1),o=(s&n.childLanes)!==0),d){if(o)return VA(t,n,s);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(Oe,Oe.current),o)break;return null;case 22:case 23:return n.lanes=0,BA(t,n,s);case 24:ps(n,De,t.memoizedState.cache)}return Ta(t,n,s)}function XA(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ge=!0;else{if(!zg(t,s)&&(n.flags&128)===0)return Ge=!1,HT(t,n,s);Ge=(t.flags&131072)!==0}else Ge=!1,It&&(n.flags&1048576)!==0&&_y(n,ef,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var o=n.elementType,d=o._init;if(o=d(o._payload),n.type=o,typeof o=="function")Vm(o)?(t=Dr(o,t),n.tag=1,n=FA(null,n,o,t,s)):(n.tag=0,n=Mg(null,n,o,t,s));else{if(o!=null){if(d=o.$$typeof,d===z){n.tag=11,n=jA(null,n,o,t,s);break t}else if(d===X){n.tag=14,n=zA(null,n,o,t,s);break t}}throw n=ft(o)||o,Error(a(306,n,""))}}return n;case 0:return Mg(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,d=Dr(o,n.pendingProps),FA(t,n,o,d,s);case 3:t:{if(Bt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var g=n.memoizedState;d=g.element,sg(t,n),gc(n,o,null,s);var A=n.memoizedState;if(o=A.cache,ps(n,De,o),o!==g.cache&&Jm(n,[De],s,!0),mc(),o=A.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:A.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=IA(t,n,o,s);break t}else if(o!==d){d=on(Error(a(424)),n),lc(d),n=IA(t,n,o,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ge=wn(t.firstChild),bi=n,It=!0,wr=null,qn=!0,s=xA(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(oc(),o===d){n=Ta(t,n,s);break t}Je(t,n,o,s)}n=n.child}return n;case 26:return _f(t,n),t===null?(s=Z1(n.type,null,n.pendingProps,null))?n.memoizedState=s:It||(s=n.type,t=n.pendingProps,o=Pf(ut.current).createElement(s),o[oi]=n,o[wi]=t,ei(o,s,t),Ie(o),n.stateNode=o):n.memoizedState=Z1(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qt(n),t===null&&It&&(o=n.stateNode=Y1(n.type,n.pendingProps,ut.current),bi=n,qn=!0,d=ge,Ms(n.type)?(gv=d,ge=wn(o.firstChild)):ge=d),Je(t,n,n.pendingProps.children,s),_f(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&It&&((d=o=ge)&&(o=pw(o,n.type,n.pendingProps,qn),o!==null?(n.stateNode=o,bi=n,ge=wn(o.firstChild),qn=!1,d=!0):d=!1),d||Rr(n)),Qt(n),d=n.type,g=n.pendingProps,A=t!==null?t.memoizedProps:null,o=g.children,dv(d,g)?o=null:A!==null&&dv(d,A)&&(n.flags|=32),n.memoizedState!==null&&(d=hg(t,n,DT,null,null,s),Bc._currentValue=d),_f(t,n),Je(t,n,o,s),n.child;case 6:return t===null&&It&&((t=s=ge)&&(s=mw(s,n.pendingProps,qn),s!==null?(n.stateNode=s,bi=n,ge=null,t=!0):t=!1),t||Rr(n)),null;case 13:return GA(t,n,s);case 4:return Bt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Al(n,null,o,s):Je(t,n,o,s),n.child;case 11:return jA(t,n,n.type,n.pendingProps,s);case 7:return Je(t,n,n.pendingProps,s),n.child;case 8:return Je(t,n,n.pendingProps.children,s),n.child;case 12:return Je(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ps(n,n.type,o.value),Je(t,n,o.children,s),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,Mr(n),d=li(d),o=o(d),n.flags|=1,Je(t,n,o,s),n.child;case 14:return zA(t,n,n.type,n.pendingProps,s);case 15:return PA(t,n,n.type,n.pendingProps,s);case 19:return VA(t,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},t===null?(s=Ef(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=ba(t.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return BA(t,n,s);case 24:return Mr(n),o=li(De),t===null?(d=ig(),d===null&&(d=se,g=tg(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=s),d=g),n.memoizedState={parent:o,cache:d},ag(n),ps(n,De,d)):((t.lanes&s)!==0&&(sg(t,n),gc(n,null,null,s),mc()),d=t.memoizedState,g=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),ps(n,De,o)):(o=g.cache,ps(n,De,o),o!==d.cache&&Jm(n,[De],s,!0))),Je(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function wa(t){t.flags|=4}function YA(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!eS(n)){if(n=hn.current,n!==null&&((Ht&4194048)===Ht?Vn!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||n!==Vn))throw fc=ng,ky;t.flags|=8192}}function xf(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?T0():536870912,t.lanes|=n,xl|=n)}function Ec(t,n){if(!It)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function he(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function FT(t,n,s){var o=n.pendingProps;switch(Km(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),_a(De),xe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(rc(n)?wa(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ty())),he(n),null;case 26:return s=n.memoizedState,t===null?(wa(n),s!==null?(he(n),YA(n,s)):(he(n),n.flags&=-16777217)):s?s!==t.memoizedState?(wa(n),he(n),YA(n,s)):(he(n),n.flags&=-16777217):(t.memoizedProps!==o&&wa(n),he(n),n.flags&=-16777217),null;case 27:Gn(n),s=ut.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&wa(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return he(n),null}t=lt.current,rc(n)?Ey(n):(t=Y1(d,o,s),n.stateNode=t,wa(n))}return he(n),null;case 5:if(Gn(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&wa(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return he(n),null}if(t=lt.current,rc(n))Ey(n);else{switch(d=Pf(ut.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?d.createElement(s,{is:o.is}):d.createElement(s)}}t[oi]=n,t[wi]=o;t:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break t;for(;d.sibling===null;){if(d.return===null||d.return===n)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;t:switch(ei(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wa(n)}}return he(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&wa(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=ut.current,rc(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,d=bi,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[oi]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||H1(t.nodeValue,s)),t||Rr(n)}else t=Pf(t).createTextNode(o),t[oi]=n,n.stateNode=t}return he(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=rc(n),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[oi]=n}else oc(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),d=!1}else d=Ty(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(xa(n),n):(xa(n),null)}if(xa(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),xf(n,n.updateQueue),he(n),null;case 4:return xe(),t===null&&ov(n.stateNode.containerInfo),he(n),null;case 10:return _a(n.type),he(n),null;case 19:if(tt(Oe),d=n.memoizedState,d===null)return he(n),null;if(o=(n.flags&128)!==0,g=d.rendering,g===null)if(o)Ec(d,!1);else{if(ve!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(g=yf(t),g!==null){for(n.flags|=128,Ec(d,!1),t=g.updateQueue,n.updateQueue=t,xf(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Sy(s,t),s=s.sibling;return J(Oe,Oe.current&1|2),n.child}t=t.sibling}d.tail!==null&&We()>Rf&&(n.flags|=128,o=!0,Ec(d,!1),n.lanes=4194304)}else{if(!o)if(t=yf(g),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,xf(n,t),Ec(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!It)return he(n),null}else 2*We()-d.renderingStartTime>Rf&&s!==536870912&&(n.flags|=128,o=!0,Ec(d,!1),n.lanes=4194304);d.isBackwards?(g.sibling=n.child,n.child=g):(t=d.last,t!==null?t.sibling=g:n.child=g,d.last=g)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=We(),n.sibling=null,t=Oe.current,J(Oe,o?t&1|2:t&1),n):(he(n),null);case 22:case 23:return xa(n),ug(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),s=n.updateQueue,s!==null&&xf(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&tt(kr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),_a(De),he(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function IT(t,n){switch(Km(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return _a(De),xe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Gn(n),null;case 13:if(xa(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));oc()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(Oe),null;case 4:return xe(),null;case 10:return _a(n.type),null;case 22:case 23:return xa(n),ug(),t!==null&&tt(kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return _a(De),null;case 25:return null;default:return null}}function $A(t,n){switch(Km(n),n.tag){case 3:_a(De),xe();break;case 26:case 27:case 5:Gn(n);break;case 4:xe();break;case 13:xa(n);break;case 19:tt(Oe);break;case 10:_a(n.type);break;case 22:case 23:xa(n),ug(),t!==null&&tt(kr);break;case 24:_a(De)}}function xc(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&t)===t){o=void 0;var g=s.create,A=s.inst;o=g(),A.destroy=o}s=s.next}while(s!==d)}}catch(x){ne(n,n.return,x)}}function Ss(t,n,s){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&t)===t){var A=o.inst,x=A.destroy;if(x!==void 0){A.destroy=void 0,d=n;var M=s,H=x;try{H()}catch(V){ne(d,M,V)}}}o=o.next}while(o!==g)}}catch(V){ne(n,n.return,V)}}function KA(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{zy(n,s)}catch(o){ne(t,t.return,o)}}}function ZA(t,n,s){s.props=Dr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){ne(t,n,o)}}function Tc(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(d){ne(t,n,d)}}function Xn(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(d){ne(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){ne(t,n,d)}else s.current=null}function QA(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(d){ne(t,t.return,d)}}function Pg(t,n,s){try{var o=t.stateNode;uw(o,t.type,s,n),o[wi]=n}catch(d){ne(t,t.return,d)}}function WA(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ms(t.type)||t.tag===4}function Bg(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||WA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ug(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zf));else if(o!==4&&(o===27&&Ms(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Ug(t,n,s),t=t.sibling;t!==null;)Ug(t,n,s),t=t.sibling}function Tf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ms(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Tf(t,n,s),t=t.sibling;t!==null;)Tf(t,n,s),t=t.sibling}function JA(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ei(n,o,s),n[oi]=t,n[wi]=s}catch(g){ne(t,t.return,g)}}var Ra=!1,Se=!1,Hg=!1,t1=typeof WeakSet=="function"?WeakSet:Set,qe=null;function GT(t,n){if(t=t.containerInfo,cv=Gf,t=hy(t),Bm(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var d=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break t}var A=0,x=-1,M=-1,H=0,V=0,K=t,F=null;e:for(;;){for(var I;K!==s||d!==0&&K.nodeType!==3||(x=A+d),K!==g||o!==0&&K.nodeType!==3||(M=A+o),K.nodeType===3&&(A+=K.nodeValue.length),(I=K.firstChild)!==null;)F=K,K=I;for(;;){if(K===t)break e;if(F===s&&++H===d&&(x=A),F===g&&++V===o&&(M=A),(I=K.nextSibling)!==null)break;K=F,F=K.parentNode}K=I}s=x===-1||M===-1?null:{start:x,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(hv={focusedElem:t,selectionRange:s},Gf=!1,qe=n;qe!==null;)if(n=qe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,qe=t;else for(;qe!==null;){switch(n=qe,g=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=n,d=g.memoizedProps,g=g.memoizedState,o=s.stateNode;try{var At=Dr(s.type,d,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(At,g),o.__reactInternalSnapshotBeforeUpdate=t}catch(bt){ne(s,s.return,bt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)pv(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pv(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,qe=t;break}qe=n.return}}function e1(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:_s(t,s),o&4&&xc(5,s);break;case 1:if(_s(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(A){ne(s,s.return,A)}else{var d=Dr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(A){ne(s,s.return,A)}}o&64&&KA(s),o&512&&Tc(s,s.return);break;case 3:if(_s(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{zy(t,n)}catch(A){ne(s,s.return,A)}}break;case 27:n===null&&o&4&&JA(s);case 26:case 5:_s(t,s),n===null&&o&4&&QA(s),o&512&&Tc(s,s.return);break;case 12:_s(t,s);break;case 13:_s(t,s),o&4&&a1(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=WT.bind(null,s),gw(t,s))));break;case 22:if(o=s.memoizedState!==null||Ra,!o){n=n!==null&&n.memoizedState!==null||Se,d=Ra;var g=Se;Ra=o,(Se=n)&&!g?Es(t,s,(s.subtreeFlags&8772)!==0):_s(t,s),Ra=d,Se=g}break;case 30:break;default:_s(t,s)}}function i1(t){var n=t.alternate;n!==null&&(t.alternate=null,i1(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ym(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,Mi=!1;function Ca(t,n,s){for(s=s.child;s!==null;)n1(t,n,s),s=s.sibling}function n1(t,n,s){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(vr,s)}catch{}switch(s.tag){case 26:Se||Xn(s,n),Ca(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||Xn(s,n);var o=ue,d=Mi;Ms(s.type)&&(ue=s.stateNode,Mi=!1),Ca(t,n,s),Nc(s.stateNode),ue=o,Mi=d;break;case 5:Se||Xn(s,n);case 6:if(o=ue,d=Mi,ue=null,Ca(t,n,s),ue=o,Mi=d,ue!==null)if(Mi)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(g){ne(s,n,g)}else try{ue.removeChild(s.stateNode)}catch(g){ne(s,n,g)}break;case 18:ue!==null&&(Mi?(t=ue,V1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ic(t)):V1(ue,s.stateNode));break;case 4:o=ue,d=Mi,ue=s.stateNode.containerInfo,Mi=!0,Ca(t,n,s),ue=o,Mi=d;break;case 0:case 11:case 14:case 15:Se||Ss(2,s,n),Se||Ss(4,s,n),Ca(t,n,s);break;case 1:Se||(Xn(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ZA(s,n,o)),Ca(t,n,s);break;case 21:Ca(t,n,s);break;case 22:Se=(o=Se)||s.memoizedState!==null,Ca(t,n,s),Se=o;break;default:Ca(t,n,s)}}function a1(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ic(t)}catch(s){ne(n,n.return,s)}}function qT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new t1),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new t1),n;default:throw Error(a(435,t.tag))}}function Fg(t,n){var s=qT(t);n.forEach(function(o){var d=JT.bind(null,t,o);s.has(o)||(s.add(o),o.then(d,d))})}function Fi(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var d=s[o],g=t,A=n,x=A;t:for(;x!==null;){switch(x.tag){case 27:if(Ms(x.type)){ue=x.stateNode,Mi=!1;break t}break;case 5:ue=x.stateNode,Mi=!1;break t;case 3:case 4:ue=x.stateNode.containerInfo,Mi=!0;break t}x=x.return}if(ue===null)throw Error(a(160));n1(g,A,d),ue=null,Mi=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)s1(n,t),n=n.sibling}var Tn=null;function s1(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fi(n,t),Ii(t),o&4&&(Ss(3,t,t.return),xc(3,t),Ss(5,t,t.return));break;case 1:Fi(n,t),Ii(t),o&512&&(Se||s===null||Xn(s,s.return)),o&64&&Ra&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var d=Tn;if(Fi(n,t),Ii(t),o&512&&(Se||s===null||Xn(s,s.return)),o&4){var g=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){t:{o=t.type,s=t.memoizedProps,d=d.ownerDocument||d;e:switch(o){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ku]||g[oi]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(o),d.head.insertBefore(g,d.querySelector("head > title"))),ei(g,o,s),g[oi]=t,Ie(g),o=g;break t;case"link":var A=J1("link","href",d).get(o+(s.href||""));if(A){for(var x=0;x<A.length;x++)if(g=A[x],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(x,1);break e}}g=d.createElement(o),ei(g,o,s),d.head.appendChild(g);break;case"meta":if(A=J1("meta","content",d).get(o+(s.content||""))){for(x=0;x<A.length;x++)if(g=A[x],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(x,1);break e}}g=d.createElement(o),ei(g,o,s),d.head.appendChild(g);break;default:throw Error(a(468,o))}g[oi]=t,Ie(g),o=g}t.stateNode=o}else tS(d,t.type,t.stateNode);else t.stateNode=W1(d,o,t.memoizedProps);else g!==o?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,o===null?tS(d,t.type,t.stateNode):W1(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Pg(t,t.memoizedProps,s.memoizedProps)}break;case 27:Fi(n,t),Ii(t),o&512&&(Se||s===null||Xn(s,s.return)),s!==null&&o&4&&Pg(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Fi(n,t),Ii(t),o&512&&(Se||s===null||Xn(s,s.return)),t.flags&32){d=t.stateNode;try{il(d,"")}catch(I){ne(t,t.return,I)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,Pg(t,d,s!==null?s.memoizedProps:d)),o&1024&&(Hg=!0);break;case 6:if(Fi(n,t),Ii(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(I){ne(t,t.return,I)}}break;case 3:if(Hf=null,d=Tn,Tn=Bf(n.containerInfo),Fi(n,t),Tn=d,Ii(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ic(n.containerInfo)}catch(I){ne(t,t.return,I)}Hg&&(Hg=!1,r1(t));break;case 4:o=Tn,Tn=Bf(t.stateNode.containerInfo),Fi(n,t),Ii(t),Tn=o;break;case 12:Fi(n,t),Ii(t);break;case 13:Fi(n,t),Ii(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yg=We()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fg(t,o)));break;case 22:d=t.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,H=Ra,V=Se;if(Ra=H||d,Se=V||M,Fi(n,t),Se=V,Ra=H,Ii(t),o&8192)t:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(s===null||M||Ra||Se||Or(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){M=s=n;try{if(g=M.stateNode,d)A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{x=M.stateNode;var K=M.memoizedProps.style,F=K!=null&&K.hasOwnProperty("display")?K.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(I){ne(M,M.return,I)}}}else if(n.tag===6){if(s===null){M=n;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(I){ne(M,M.return,I)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Fg(t,s))));break;case 19:Fi(n,t),Ii(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Fg(t,o)));break;case 30:break;case 21:break;default:Fi(n,t),Ii(t)}}function Ii(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(WA(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var d=s.stateNode,g=Bg(t);Tf(t,g,d);break;case 5:var A=s.stateNode;s.flags&32&&(il(A,""),s.flags&=-33);var x=Bg(t);Tf(t,x,A);break;case 3:case 4:var M=s.stateNode.containerInfo,H=Bg(t);Ug(t,H,M);break;default:throw Error(a(161))}}catch(V){ne(t,t.return,V)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function r1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;r1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function _s(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)e1(t,n.alternate,n),n=n.sibling}function Or(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Or(n);break;case 1:Xn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ZA(n,n.return,s),Or(n);break;case 27:Nc(n.stateNode);case 26:case 5:Xn(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}t=t.sibling}}function Es(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=t,g=n,A=g.flags;switch(g.tag){case 0:case 11:case 15:Es(d,g,s),xc(4,g);break;case 1:if(Es(d,g,s),o=g,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){ne(o,o.return,H)}if(o=g,d=o.updateQueue,d!==null){var x=o.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)jy(M[d],x)}catch(H){ne(o,o.return,H)}}s&&A&64&&KA(g),Tc(g,g.return);break;case 27:JA(g);case 26:case 5:Es(d,g,s),s&&o===null&&A&4&&QA(g),Tc(g,g.return);break;case 12:Es(d,g,s);break;case 13:Es(d,g,s),s&&A&4&&a1(d,g);break;case 22:g.memoizedState===null&&Es(d,g,s),Tc(g,g.return);break;case 30:break;default:Es(d,g,s)}n=n.sibling}}function Ig(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&cc(s))}function Gg(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cc(t))}function Yn(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)o1(t,n,s,o),n=n.sibling}function o1(t,n,s,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,s,o),d&2048&&xc(9,n);break;case 1:Yn(t,n,s,o);break;case 3:Yn(t,n,s,o),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cc(t)));break;case 12:if(d&2048){Yn(t,n,s,o),t=n.stateNode;try{var g=n.memoizedProps,A=g.id,x=g.onPostCommit;typeof x=="function"&&x(A,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){ne(n,n.return,M)}}else Yn(t,n,s,o);break;case 13:Yn(t,n,s,o);break;case 23:break;case 22:g=n.stateNode,A=n.alternate,n.memoizedState!==null?g._visibility&2?Yn(t,n,s,o):wc(t,n):g._visibility&2?Yn(t,n,s,o):(g._visibility|=2,Sl(t,n,s,o,(n.subtreeFlags&10256)!==0)),d&2048&&Ig(A,n);break;case 24:Yn(t,n,s,o),d&2048&&Gg(n.alternate,n);break;default:Yn(t,n,s,o)}}function Sl(t,n,s,o,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var g=t,A=n,x=s,M=o,H=A.flags;switch(A.tag){case 0:case 11:case 15:Sl(g,A,x,M,d),xc(8,A);break;case 23:break;case 22:var V=A.stateNode;A.memoizedState!==null?V._visibility&2?Sl(g,A,x,M,d):wc(g,A):(V._visibility|=2,Sl(g,A,x,M,d)),d&&H&2048&&Ig(A.alternate,A);break;case 24:Sl(g,A,x,M,d),d&&H&2048&&Gg(A.alternate,A);break;default:Sl(g,A,x,M,d)}n=n.sibling}}function wc(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,d=o.flags;switch(o.tag){case 22:wc(s,o),d&2048&&Ig(o.alternate,o);break;case 24:wc(s,o),d&2048&&Gg(o.alternate,o);break;default:wc(s,o)}n=n.sibling}}var Rc=8192;function _l(t){if(t.subtreeFlags&Rc)for(t=t.child;t!==null;)l1(t),t=t.sibling}function l1(t){switch(t.tag){case 26:_l(t),t.flags&Rc&&t.memoizedState!==null&&Mw(Tn,t.memoizedState,t.memoizedProps);break;case 5:_l(t);break;case 3:case 4:var n=Tn;Tn=Bf(t.stateNode.containerInfo),_l(t),Tn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Rc,Rc=16777216,_l(t),Rc=n):_l(t));break;default:_l(t)}}function u1(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,h1(o,t)}u1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c1(t),t=t.sibling}function c1(t){switch(t.tag){case 0:case 11:case 15:Cc(t),t.flags&2048&&Ss(9,t,t.return);break;case 3:Cc(t);break;case 12:Cc(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,wf(t)):Cc(t);break;default:Cc(t)}}function wf(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,h1(o,t)}u1(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),wf(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,wf(n));break;default:wf(n)}t=t.sibling}}function h1(t,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:cc(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=t;qe!==null;){o=qe;var d=o.sibling,g=o.return;if(i1(o),o===s){qe=null;break t}if(d!==null){d.return=g,qe=d;break t}qe=g}}}var VT={getCacheForType:function(t){var n=li(De),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},XT=typeof WeakMap=="function"?WeakMap:Map,Xt=0,se=null,jt=null,Ht=0,Yt=0,Gi=null,xs=!1,El=!1,qg=!1,Ma=0,ve=0,Ts=0,Nr=0,Vg=0,dn=0,xl=0,Mc=null,ki=null,Xg=!1,Yg=0,Rf=1/0,Cf=null,ws=null,ti=0,Rs=null,Tl=null,wl=0,$g=0,Kg=null,d1=null,kc=0,Zg=null;function qi(){if((Xt&2)!==0&&Ht!==0)return Ht&-Ht;if(B.T!==null){var t=fl;return t!==0?t:nv()}return C0()}function f1(){dn===0&&(dn=(Ht&536870912)===0||It?x0():536870912);var t=hn.current;return t!==null&&(t.flags|=32),dn}function Vi(t,n,s){(t===se&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(Rl(t,0),Cs(t,Ht,dn,!1)),$u(t,s),((Xt&2)===0||t!==se)&&(t===se&&((Xt&2)===0&&(Nr|=s),ve===4&&Cs(t,Ht,dn,!1)),$n(t))}function p1(t,n,s){if((Xt&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Yu(t,n),d=o?KT(t,n):Jg(t,n,!0),g=o;do{if(d===0){El&&!o&&Cs(t,n,0,!1);break}else{if(s=t.current.alternate,g&&!YT(s)){d=Jg(t,n,!1),g=!1;continue}if(d===2){if(g=n,t.errorRecoveryDisabledLanes&g)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){n=A;t:{var x=t;d=Mc;var M=x.current.memoizedState.isDehydrated;if(M&&(Rl(x,A).flags|=256),A=Jg(x,A,!1),A!==2){if(qg&&!M){x.errorRecoveryDisabledLanes|=g,Nr|=g,d=4;break t}g=ki,ki=d,g!==null&&(ki===null?ki=g:ki.push.apply(ki,g))}d=A}if(g=!1,d!==2)continue}}if(d===1){Rl(t,0),Cs(t,n,0,!0);break}t:{switch(o=t,g=d,g){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cs(o,n,dn,!xs);break t;case 2:ki=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Yg+300-We(),10<d)){if(Cs(o,n,dn,!xs),Bd(o,0,!0)!==0)break t;o.timeoutHandle=G1(m1.bind(null,o,s,ki,Cf,Xg,n,dn,Nr,xl,xs,g,2,-0,0),d);break t}m1(o,s,ki,Cf,Xg,n,dn,Nr,xl,xs,g,0,-0,0)}}break}while(!0);$n(t)}function m1(t,n,s,o,d,g,A,x,M,H,V,K,F,I){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Pc={stylesheets:null,count:0,unsuspend:Cw},l1(n),K=kw(),K!==null)){t.cancelPendingCommit=K(_1.bind(null,t,n,g,s,o,d,A,x,M,V,1,F,I)),Cs(t,g,A,!H);return}_1(t,n,g,s,o,d,A,x,M)}function YT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var d=s[o],g=d.getSnapshot;d=d.value;try{if(!Ui(g(),d))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cs(t,n,s,o){n&=~Vg,n&=~Nr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var d=n;0<d;){var g=31-Fe(d),A=1<<g;o[g]=-1,d&=~A}s!==0&&w0(t,s,n)}function Mf(){return(Xt&6)===0?(Lc(0),!1):!0}function Qg(){if(jt!==null){if(Yt===0)var t=jt.return;else t=jt,Sa=Cr=null,pg(t),yl=null,Sc=0,t=jt;for(;t!==null;)$A(t.alternate,t),t=t.return;jt=null}}function Rl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,hw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Qg(),se=t,jt=s=ba(t.current,null),Ht=n,Yt=0,Gi=null,xs=!1,El=Yu(t,n),qg=!1,xl=dn=Vg=Nr=Ts=ve=0,ki=Mc=null,Xg=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var d=31-Fe(o),g=1<<d;n|=t[d],o&=~g}return Ma=n,Zd(),s}function g1(t,n){Lt=null,B.H=gf,n===dc||n===rf?(n=Oy(),Yt=3):n===ky?(n=Oy(),Yt=4):Yt=n===NA?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gi=n,jt===null&&(ve=1,Sf(t,on(n,t.current)))}function v1(){var t=B.H;return B.H=gf,t===null?gf:t}function b1(){var t=B.A;return B.A=VT,t}function Wg(){ve=4,xs||(Ht&4194048)!==Ht&&hn.current!==null||(El=!0),(Ts&134217727)===0&&(Nr&134217727)===0||se===null||Cs(se,Ht,dn,!1)}function Jg(t,n,s){var o=Xt;Xt|=2;var d=v1(),g=b1();(se!==t||Ht!==n)&&(Cf=null,Rl(t,n)),n=!1;var A=ve;t:do try{if(Yt!==0&&jt!==null){var x=jt,M=Gi;switch(Yt){case 8:Qg(),A=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(n=!0);var H=Yt;if(Yt=0,Gi=null,Cl(t,x,M,H),s&&El){A=0;break t}break;default:H=Yt,Yt=0,Gi=null,Cl(t,x,M,H)}}$T(),A=ve;break}catch(V){g1(t,V)}while(!0);return n&&t.shellSuspendCounter++,Sa=Cr=null,Xt=o,B.H=d,B.A=g,jt===null&&(se=null,Ht=0,Zd()),A}function $T(){for(;jt!==null;)y1(jt)}function KT(t,n){var s=Xt;Xt|=2;var o=v1(),d=b1();se!==t||Ht!==n?(Cf=null,Rf=We()+500,Rl(t,n)):El=Yu(t,n);t:do try{if(Yt!==0&&jt!==null){n=jt;var g=Gi;e:switch(Yt){case 1:Yt=0,Gi=null,Cl(t,n,g,1);break;case 2:case 9:if(Ly(g)){Yt=0,Gi=null,A1(n);break}n=function(){Yt!==2&&Yt!==9||se!==t||(Yt=7),$n(t)},g.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ly(g)?(Yt=0,Gi=null,A1(n)):(Yt=0,Gi=null,Cl(t,n,g,7));break;case 5:var A=null;switch(jt.tag){case 26:A=jt.memoizedState;case 5:case 27:var x=jt;if(!A||eS(A)){Yt=0,Gi=null;var M=x.sibling;if(M!==null)jt=M;else{var H=x.return;H!==null?(jt=H,kf(H)):jt=null}break e}}Yt=0,Gi=null,Cl(t,n,g,5);break;case 6:Yt=0,Gi=null,Cl(t,n,g,6);break;case 8:Qg(),ve=6;break t;default:throw Error(a(462))}}ZT();break}catch(V){g1(t,V)}while(!0);return Sa=Cr=null,B.H=o,B.A=d,Xt=s,jt!==null?0:(se=null,Ht=0,Zd(),ve)}function ZT(){for(;jt!==null&&!He();)y1(jt)}function y1(t){var n=XA(t.alternate,t,Ma);t.memoizedProps=t.pendingProps,n===null?kf(t):jt=n}function A1(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=HA(s,n,n.pendingProps,n.type,void 0,Ht);break;case 11:n=HA(s,n,n.pendingProps,n.type.render,n.ref,Ht);break;case 5:pg(n);default:$A(s,n),n=jt=Sy(n,Ma),n=XA(s,n,Ma)}t.memoizedProps=t.pendingProps,n===null?kf(t):jt=n}function Cl(t,n,s,o){Sa=Cr=null,pg(n),yl=null,Sc=0;var d=n.return;try{if(UT(t,d,n,s,Ht)){ve=1,Sf(t,on(s,t.current)),jt=null;return}}catch(g){if(d!==null)throw jt=d,g;ve=1,Sf(t,on(s,t.current)),jt=null;return}n.flags&32768?(It||o===1?t=!0:El||(Ht&536870912)!==0?t=!1:(xs=t=!0,(o===2||o===9||o===3||o===6)&&(o=hn.current,o!==null&&o.tag===13&&(o.flags|=16384))),S1(n,t)):kf(n)}function kf(t){var n=t;do{if((n.flags&32768)!==0){S1(n,xs);return}t=n.return;var s=FT(n.alternate,n,Ma);if(s!==null){jt=s;return}if(n=n.sibling,n!==null){jt=n;return}jt=n=t}while(n!==null);ve===0&&(ve=5)}function S1(t,n){do{var s=IT(t.alternate,t);if(s!==null){s.flags&=32767,jt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){jt=t;return}jt=t=s}while(t!==null);ve=6,jt=null}function _1(t,n,s,o,d,g,A,x,M){t.cancelPendingCommit=null;do Lf();while(ti!==0);if((Xt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(g=n.lanes|n.childLanes,g|=Gm,Cx(t,s,g,A,x,M),t===se&&(jt=se=null,Ht=0),Tl=n,Rs=t,wl=s,$g=g,Kg=d,d1=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tw(ma,function(){return R1(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,d=q.p,q.p=2,A=Xt,Xt|=4;try{GT(t,n,s)}finally{Xt=A,q.p=d,B.T=o}}ti=1,E1(),x1(),T1()}}function E1(){if(ti===1){ti=0;var t=Rs,n=Tl,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var o=q.p;q.p=2;var d=Xt;Xt|=4;try{s1(n,t);var g=hv,A=hy(t.containerInfo),x=g.focusedElem,M=g.selectionRange;if(A!==x&&x&&x.ownerDocument&&cy(x.ownerDocument.documentElement,x)){if(M!==null&&Bm(x)){var H=M.start,V=M.end;if(V===void 0&&(V=H),"selectionStart"in x)x.selectionStart=H,x.selectionEnd=Math.min(V,x.value.length);else{var K=x.ownerDocument||document,F=K&&K.defaultView||window;if(F.getSelection){var I=F.getSelection(),At=x.textContent.length,bt=Math.min(M.start,At),te=M.end===void 0?bt:Math.min(M.end,At);!I.extend&&bt>te&&(A=te,te=bt,bt=A);var j=uy(x,bt),O=uy(x,te);if(j&&O&&(I.rangeCount!==1||I.anchorNode!==j.node||I.anchorOffset!==j.offset||I.focusNode!==O.node||I.focusOffset!==O.offset)){var P=K.createRange();P.setStart(j.node,j.offset),I.removeAllRanges(),bt>te?(I.addRange(P),I.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),I.addRange(P))}}}}for(K=[],I=x;I=I.parentNode;)I.nodeType===1&&K.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<K.length;x++){var $=K[x];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Gf=!!cv,hv=cv=null}finally{Xt=d,q.p=o,B.T=s}}t.current=n,ti=2}}function x1(){if(ti===2){ti=0;var t=Rs,n=Tl,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var o=q.p;q.p=2;var d=Xt;Xt|=4;try{e1(t,n.alternate,n)}finally{Xt=d,q.p=o,B.T=s}}ti=3}}function T1(){if(ti===4||ti===3){ti=0,Te();var t=Rs,n=Tl,s=wl,o=d1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ti=5:(ti=0,Tl=Rs=null,w1(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ws=null),vm(s),n=n.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(vr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=B.T,d=q.p,q.p=2,B.T=null;try{for(var g=t.onRecoverableError,A=0;A<o.length;A++){var x=o[A];g(x.value,{componentStack:x.stack})}}finally{B.T=n,q.p=d}}(wl&3)!==0&&Lf(),$n(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===Zg?kc++:(kc=0,Zg=t):kc=0,Lc(0)}}function w1(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cc(n)))}function Lf(t){return E1(),x1(),T1(),R1()}function R1(){if(ti!==5)return!1;var t=Rs,n=$g;$g=0;var s=vm(wl),o=B.T,d=q.p;try{q.p=32>s?32:s,B.T=null,s=Kg,Kg=null;var g=Rs,A=wl;if(ti=0,Tl=Rs=null,wl=0,(Xt&6)!==0)throw Error(a(331));var x=Xt;if(Xt|=4,c1(g.current),o1(g,g.current,A,s),Xt=x,Lc(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(vr,g)}catch{}return!0}finally{q.p=d,B.T=o,w1(t,n)}}function C1(t,n,s){n=on(s,n),n=Cg(t.stateNode,n,2),t=vs(t,n,2),t!==null&&($u(t,2),$n(t))}function ne(t,n,s){if(t.tag===3)C1(t,t,s);else for(;n!==null;){if(n.tag===3){C1(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ws===null||!ws.has(o))){t=on(s,t),s=DA(2),o=vs(n,s,2),o!==null&&(OA(s,o,n,t),$u(o,2),$n(o));break}}n=n.return}}function tv(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new XT;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(s)||(qg=!0,d.add(s),t=QT.bind(null,t,n,s),n.then(t,t))}function QT(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,se===t&&(Ht&s)===s&&(ve===4||ve===3&&(Ht&62914560)===Ht&&300>We()-Yg?(Xt&2)===0&&Rl(t,0):Vg|=s,xl===Ht&&(xl=0)),$n(t)}function M1(t,n){n===0&&(n=T0()),t=ul(t,n),t!==null&&($u(t,n),$n(t))}function WT(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),M1(t,s)}function JT(t,n){var s=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),M1(t,s)}function tw(t,n){return qt(t,n)}var Df=null,Ml=null,ev=!1,Of=!1,iv=!1,jr=0;function $n(t){t!==Ml&&t.next===null&&(Ml===null?Df=Ml=t:Ml=Ml.next=t),Of=!0,ev||(ev=!0,iw())}function Lc(t,n){if(!iv&&Of){iv=!0;do for(var s=!1,o=Df;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var g=0;else{var A=o.suspendedLanes,x=o.pingedLanes;g=(1<<31-Fe(42|t)+1)-1,g&=d&~(A&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,O1(o,g))}else g=Ht,g=Bd(o,o===se?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||Yu(o,g)||(s=!0,O1(o,g));o=o.next}while(s);iv=!1}}function ew(){k1()}function k1(){Of=ev=!1;var t=0;jr!==0&&(cw()&&(t=jr),jr=0);for(var n=We(),s=null,o=Df;o!==null;){var d=o.next,g=L1(o,n);g===0?(o.next=null,s===null?Df=d:s.next=d,d===null&&(Ml=s)):(s=o,(t!==0||(g&3)!==0)&&(Of=!0)),o=d}Lc(t)}function L1(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var A=31-Fe(g),x=1<<A,M=d[A];M===-1?((x&s)===0||(x&o)!==0)&&(d[A]=Rx(x,n)):M<=n&&(t.expiredLanes|=x),g&=~x}if(n=se,s=Ht,s=Bd(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&le(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Yu(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&le(o),vm(s)){case 2:case 8:s=Nd;break;case 32:s=ma;break;case 268435456:s=jd;break;default:s=ma}return o=D1.bind(null,t),s=qt(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&le(o),t.callbackPriority=2,t.callbackNode=null,2}function D1(t,n){if(ti!==0&&ti!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Lf()&&t.callbackNode!==s)return null;var o=Ht;return o=Bd(t,t===se?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(p1(t,o,n),L1(t,We()),t.callbackNode!=null&&t.callbackNode===s?D1.bind(null,t):null)}function O1(t,n){if(Lf())return null;p1(t,n,!0)}function iw(){dw(function(){(Xt&6)!==0?qt(Od,ew):k1()})}function nv(){return jr===0&&(jr=x0()),jr}function N1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gd(""+t)}function j1(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function nw(t,n,s,o,d){if(n==="submit"&&s&&s.stateNode===d){var g=N1((d[wi]||null).action),A=o.submitter;A&&(n=(n=A[wi]||null)?N1(n.formAction):A.getAttribute("formAction"),n!==null&&(g=n,A=null));var x=new Yd("action","action",null,o,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(jr!==0){var M=A?j1(d,A):new FormData(d);Eg(s,{pending:!0,data:M,method:d.method,action:g},null,M)}}else typeof g=="function"&&(x.preventDefault(),M=A?j1(d,A):new FormData(d),Eg(s,{pending:!0,data:M,method:d.method,action:g},g,M))},currentTarget:d}]})}}for(var av=0;av<Im.length;av++){var sv=Im[av],aw=sv.toLowerCase(),sw=sv[0].toUpperCase()+sv.slice(1);xn(aw,"on"+sw)}xn(py,"onAnimationEnd"),xn(my,"onAnimationIteration"),xn(gy,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(_T,"onTransitionRun"),xn(ET,"onTransitionStart"),xn(xT,"onTransitionCancel"),xn(vy,"onTransitionEnd"),Jo("onMouseEnter",["mouseout","mouseover"]),Jo("onMouseLeave",["mouseout","mouseover"]),Jo("onPointerEnter",["pointerout","pointerover"]),Jo("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function z1(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],d=o.event;o=o.listeners;t:{var g=void 0;if(n)for(var A=o.length-1;0<=A;A--){var x=o[A],M=x.instance,H=x.currentTarget;if(x=x.listener,M!==g&&d.isPropagationStopped())break t;g=x,d.currentTarget=H;try{g(d)}catch(V){Af(V)}d.currentTarget=null,g=M}else for(A=0;A<o.length;A++){if(x=o[A],M=x.instance,H=x.currentTarget,x=x.listener,M!==g&&d.isPropagationStopped())break t;g=x,d.currentTarget=H;try{g(d)}catch(V){Af(V)}d.currentTarget=null,g=M}}}}function zt(t,n){var s=n[bm];s===void 0&&(s=n[bm]=new Set);var o=t+"__bubble";s.has(o)||(P1(n,t,2,!1),s.add(o))}function rv(t,n,s){var o=0;n&&(o|=4),P1(s,t,o,n)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function ov(t){if(!t[Nf]){t[Nf]=!0,k0.forEach(function(s){s!=="selectionchange"&&(rw.has(s)||rv(s,!1,t),rv(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Nf]||(n[Nf]=!0,rv("selectionchange",!1,n))}}function P1(t,n,s,o){switch(oS(n)){case 2:var d=Ow;break;case 8:d=Nw;break;default:d=Sv}s=d.bind(null,n,s,t),d=void 0,!Mm||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(n,s,{capture:!0,passive:d}):t.addEventListener(n,s,!0):d!==void 0?t.addEventListener(n,s,{passive:d}):t.addEventListener(n,s,!1)}function lv(t,n,s,o,d){var g=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var A=o.tag;if(A===3||A===4){var x=o.stateNode.containerInfo;if(x===d)break;if(A===4)for(A=o.return;A!==null;){var M=A.tag;if((M===3||M===4)&&A.stateNode.containerInfo===d)return;A=A.return}for(;x!==null;){if(A=Zo(x),A===null)return;if(M=A.tag,M===5||M===6||M===26||M===27){o=g=A;continue t}x=x.parentNode}}o=o.return}q0(function(){var H=g,V=Rm(s),K=[];t:{var F=by.get(t);if(F!==void 0){var I=Yd,At=t;switch(t){case"keypress":if(Vd(s)===0)break t;case"keydown":case"keyup":I=tT;break;case"focusin":At="focus",I=Om;break;case"focusout":At="blur",I=Om;break;case"beforeblur":case"afterblur":I=Om;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=nT;break;case py:case my:case gy:I=Vx;break;case vy:I=sT;break;case"scroll":case"scrollend":I=Hx;break;case"wheel":I=oT;break;case"copy":case"cut":case"paste":I=Yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=K0;break;case"toggle":case"beforetoggle":I=uT}var bt=(n&4)!==0,te=!bt&&(t==="scroll"||t==="scrollend"),j=bt?F!==null?F+"Capture":null:F;bt=[];for(var O=H,P;O!==null;){var $=O;if(P=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||P===null||j===null||($=Qu(O,j),$!=null&&bt.push(Oc(O,$,P))),te)break;O=O.return}0<bt.length&&(F=new I(F,At,null,s,V),K.push({event:F,listeners:bt}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",F&&s!==wm&&(At=s.relatedTarget||s.fromElement)&&(Zo(At)||At[Ko]))break t;if((I||F)&&(F=V.window===V?V:(F=V.ownerDocument)?F.defaultView||F.parentWindow:window,I?(At=s.relatedTarget||s.toElement,I=H,At=At?Zo(At):null,At!==null&&(te=l(At),bt=At.tag,At!==te||bt!==5&&bt!==27&&bt!==6)&&(At=null)):(I=null,At=H),I!==At)){if(bt=Y0,$="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(bt=K0,$="onPointerLeave",j="onPointerEnter",O="pointer"),te=I==null?F:Zu(I),P=At==null?F:Zu(At),F=new bt($,O+"leave",I,s,V),F.target=te,F.relatedTarget=P,$=null,Zo(V)===H&&(bt=new bt(j,O+"enter",At,s,V),bt.target=P,bt.relatedTarget=te,$=bt),te=$,I&&At)e:{for(bt=I,j=At,O=0,P=bt;P;P=kl(P))O++;for(P=0,$=j;$;$=kl($))P++;for(;0<O-P;)bt=kl(bt),O--;for(;0<P-O;)j=kl(j),P--;for(;O--;){if(bt===j||j!==null&&bt===j.alternate)break e;bt=kl(bt),j=kl(j)}bt=null}else bt=null;I!==null&&B1(K,F,I,bt,!1),At!==null&&te!==null&&B1(K,te,At,bt,!0)}}t:{if(F=H?Zu(H):window,I=F.nodeName&&F.nodeName.toLowerCase(),I==="select"||I==="input"&&F.type==="file")var ct=ny;else if(ey(F))if(ay)ct=yT;else{ct=vT;var Ot=gT}else I=F.nodeName,!I||I.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Tm(H.elementType)&&(ct=ny):ct=bT;if(ct&&(ct=ct(t,H))){iy(K,ct,s,V);break t}Ot&&Ot(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&xm(F,"number",F.value)}switch(Ot=H?Zu(H):window,t){case"focusin":(ey(Ot)||Ot.contentEditable==="true")&&(rl=Ot,Um=H,sc=null);break;case"focusout":sc=Um=rl=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,dy(K,s,V);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":dy(K,s,V)}var pt;if(jm)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else sl?J0(t,s)&&(yt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(yt="onCompositionStart");yt&&(Z0&&s.locale!=="ko"&&(sl||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&sl&&(pt=V0()):(fs=V,km="value"in fs?fs.value:fs.textContent,sl=!0)),Ot=jf(H,yt),0<Ot.length&&(yt=new $0(yt,t,null,s,V),K.push({event:yt,listeners:Ot}),pt?yt.data=pt:(pt=ty(s),pt!==null&&(yt.data=pt)))),(pt=hT?dT(t,s):fT(t,s))&&(yt=jf(H,"onBeforeInput"),0<yt.length&&(Ot=new $0("onBeforeInput","beforeinput",null,s,V),K.push({event:Ot,listeners:yt}),Ot.data=pt)),nw(K,t,H,s,V)}z1(K,n)})}function Oc(t,n,s){return{instance:t,listener:n,currentTarget:s}}function jf(t,n){for(var s=n+"Capture",o=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Qu(t,s),d!=null&&o.unshift(Oc(t,d,g)),d=Qu(t,n),d!=null&&o.push(Oc(t,d,g))),t.tag===3)return o;t=t.return}return[]}function kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B1(t,n,s,o,d){for(var g=n._reactName,A=[];s!==null&&s!==o;){var x=s,M=x.alternate,H=x.stateNode;if(x=x.tag,M!==null&&M===o)break;x!==5&&x!==26&&x!==27||H===null||(M=H,d?(H=Qu(s,g),H!=null&&A.unshift(Oc(s,H,M))):d||(H=Qu(s,g),H!=null&&A.push(Oc(s,H,M)))),s=s.return}A.length!==0&&t.push({event:n,listeners:A})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function U1(t){return(typeof t=="string"?t:""+t).replace(ow,`
`).replace(lw,"")}function H1(t,n){return n=U1(n),U1(t)===n}function zf(){}function Jt(t,n,s,o,d,g){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||il(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&il(t,""+o);break;case"className":Hd(t,"class",o);break;case"tabIndex":Hd(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hd(t,s,o);break;case"style":I0(t,o,g);break;case"data":if(n!=="object"){Hd(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Gd(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(n!=="input"&&Jt(t,n,"name",d.name,d,null),Jt(t,n,"formEncType",d.formEncType,d,null),Jt(t,n,"formMethod",d.formMethod,d,null),Jt(t,n,"formTarget",d.formTarget,d,null)):(Jt(t,n,"encType",d.encType,d,null),Jt(t,n,"method",d.method,d,null),Jt(t,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Gd(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=zf);break;case"onScroll":o!=null&&zt("scroll",t);break;case"onScrollEnd":o!=null&&zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Gd(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":zt("beforetoggle",t),zt("toggle",t),Ud(t,"popover",o);break;case"xlinkActuate":ga(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ga(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ga(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ga(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ga(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ga(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ga(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ga(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ga(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ud(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Bx.get(s)||s,Ud(t,s,o))}}function uv(t,n,s,o,d,g){switch(s){case"style":I0(t,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?il(t,o):(typeof o=="number"||typeof o=="bigint")&&il(t,""+o);break;case"onScroll":o!=null&&zt("scroll",t);break;case"onScrollEnd":o!=null&&zt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!L0.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),n=s.slice(2,d?s.length-7:void 0),g=t[wi]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(n,g,d),typeof o=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,d);break t}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Ud(t,s,o)}}}function ei(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",t),zt("load",t);var o=!1,d=!1,g;for(g in s)if(s.hasOwnProperty(g)){var A=s[g];if(A!=null)switch(g){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(t,n,g,A,s,null)}}d&&Jt(t,n,"srcSet",s.srcSet,s,null),o&&Jt(t,n,"src",s.src,s,null);return;case"input":zt("invalid",t);var x=g=A=d=null,M=null,H=null;for(o in s)if(s.hasOwnProperty(o)){var V=s[o];if(V!=null)switch(o){case"name":d=V;break;case"type":A=V;break;case"checked":M=V;break;case"defaultChecked":H=V;break;case"value":g=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:Jt(t,n,o,V,s,null)}}B0(t,g,x,M,H,A,d,!1),Fd(t);return;case"select":zt("invalid",t),o=A=g=null;for(d in s)if(s.hasOwnProperty(d)&&(x=s[d],x!=null))switch(d){case"value":g=x;break;case"defaultValue":A=x;break;case"multiple":o=x;default:Jt(t,n,d,x,s,null)}n=g,s=A,t.multiple=!!o,n!=null?el(t,!!o,n,!1):s!=null&&el(t,!!o,s,!0);return;case"textarea":zt("invalid",t),g=d=o=null;for(A in s)if(s.hasOwnProperty(A)&&(x=s[A],x!=null))switch(A){case"value":o=x;break;case"defaultValue":d=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:Jt(t,n,A,x,s,null)}H0(t,o,d,g),Fd(t);return;case"option":for(M in s)if(s.hasOwnProperty(M)&&(o=s[M],o!=null))switch(M){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(t,n,M,o,s,null)}return;case"dialog":zt("beforetoggle",t),zt("toggle",t),zt("cancel",t),zt("close",t);break;case"iframe":case"object":zt("load",t);break;case"video":case"audio":for(o=0;o<Dc.length;o++)zt(Dc[o],t);break;case"image":zt("error",t),zt("load",t);break;case"details":zt("toggle",t);break;case"embed":case"source":case"link":zt("error",t),zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(o=s[H],o!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(t,n,H,o,s,null)}return;default:if(Tm(n)){for(V in s)s.hasOwnProperty(V)&&(o=s[V],o!==void 0&&uv(t,n,V,o,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(o=s[x],o!=null&&Jt(t,n,x,o,s,null))}function uw(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,A=null,x=null,M=null,H=null,V=null;for(I in s){var K=s[I];if(s.hasOwnProperty(I)&&K!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":M=K;default:o.hasOwnProperty(I)||Jt(t,n,I,null,o,K)}}for(var F in o){var I=o[F];if(K=s[F],o.hasOwnProperty(F)&&(I!=null||K!=null))switch(F){case"type":g=I;break;case"name":d=I;break;case"checked":H=I;break;case"defaultChecked":V=I;break;case"value":A=I;break;case"defaultValue":x=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:I!==K&&Jt(t,n,F,I,o,K)}}Em(t,A,x,M,H,V,g,d);return;case"select":I=A=x=F=null;for(g in s)if(M=s[g],s.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":I=M;default:o.hasOwnProperty(g)||Jt(t,n,g,null,o,M)}for(d in o)if(g=o[d],M=s[d],o.hasOwnProperty(d)&&(g!=null||M!=null))switch(d){case"value":F=g;break;case"defaultValue":x=g;break;case"multiple":A=g;default:g!==M&&Jt(t,n,d,g,o,M)}n=x,s=A,o=I,F!=null?el(t,!!s,F,!1):!!o!=!!s&&(n!=null?el(t,!!s,n,!0):el(t,!!s,s?[]:"",!1));return;case"textarea":I=F=null;for(x in s)if(d=s[x],s.hasOwnProperty(x)&&d!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Jt(t,n,x,null,o,d)}for(A in o)if(d=o[A],g=s[A],o.hasOwnProperty(A)&&(d!=null||g!=null))switch(A){case"value":F=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==g&&Jt(t,n,A,d,o,g)}U0(t,F,I);return;case"option":for(var At in s)if(F=s[At],s.hasOwnProperty(At)&&F!=null&&!o.hasOwnProperty(At))switch(At){case"selected":t.selected=!1;break;default:Jt(t,n,At,null,o,F)}for(M in o)if(F=o[M],I=s[M],o.hasOwnProperty(M)&&F!==I&&(F!=null||I!=null))switch(M){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Jt(t,n,M,F,o,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in s)F=s[bt],s.hasOwnProperty(bt)&&F!=null&&!o.hasOwnProperty(bt)&&Jt(t,n,bt,null,o,F);for(H in o)if(F=o[H],I=s[H],o.hasOwnProperty(H)&&F!==I&&(F!=null||I!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Jt(t,n,H,F,o,I)}return;default:if(Tm(n)){for(var te in s)F=s[te],s.hasOwnProperty(te)&&F!==void 0&&!o.hasOwnProperty(te)&&uv(t,n,te,void 0,o,F);for(V in o)F=o[V],I=s[V],!o.hasOwnProperty(V)||F===I||F===void 0&&I===void 0||uv(t,n,V,F,o,I);return}}for(var j in s)F=s[j],s.hasOwnProperty(j)&&F!=null&&!o.hasOwnProperty(j)&&Jt(t,n,j,null,o,F);for(K in o)F=o[K],I=s[K],!o.hasOwnProperty(K)||F===I||F==null&&I==null||Jt(t,n,K,F,o,I)}var cv=null,hv=null;function Pf(t){return t.nodeType===9?t:t.ownerDocument}function F1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I1(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function dv(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fv=null;function cw(){var t=window.event;return t&&t.type==="popstate"?t===fv?!1:(fv=t,!0):(fv=null,!1)}var G1=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,dw=typeof queueMicrotask=="function"?queueMicrotask:typeof q1<"u"?function(t){return q1.resolve(null).then(t).catch(fw)}:G1;function fw(t){setTimeout(function(){throw t})}function Ms(t){return t==="head"}function V1(t,n){var s=n,o=0,d=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<o&&8>o){s=o;var A=t.ownerDocument;if(s&1&&Nc(A.documentElement),s&2&&Nc(A.body),s&4)for(s=A.head,Nc(s),A=s.firstChild;A;){var x=A.nextSibling,M=A.nodeName;A[Ku]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&A.rel.toLowerCase()==="stylesheet"||s.removeChild(A),A=x}}if(d===0){t.removeChild(g),Ic(n);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:o=s.charCodeAt(0)-48;else o=0;s=g}while(s);Ic(n)}function pv(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pv(s),ym(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function pw(t,n,s,o){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ku])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=wn(t.nextSibling),t===null)break}return null}function mw(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=wn(t.nextSibling),t===null))return null;return t}function mv(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function gw(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var gv=null;function X1(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Y1(t,n,s){switch(n=Pf(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Nc(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ym(t)}var fn=new Map,$1=new Set;function Bf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ka=q.d;q.d={f:vw,r:bw,D:yw,C:Aw,L:Sw,m:_w,X:xw,S:Ew,M:Tw};function vw(){var t=ka.f(),n=Mf();return t||n}function bw(t){var n=Qo(t);n!==null&&n.tag===5&&n.type==="form"?pA(n):ka.r(t)}var Ll=typeof document>"u"?null:document;function K1(t,n,s){var o=Ll;if(o&&typeof n=="string"&&n){var d=rn(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),$1.has(d)||($1.add(d),t={rel:t,crossOrigin:s,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),ei(n,"link",t),Ie(n),o.head.appendChild(n)))}}function yw(t){ka.D(t),K1("dns-prefetch",t,null)}function Aw(t,n){ka.C(t,n),K1("preconnect",t,n)}function Sw(t,n,s){ka.L(t,n,s);var o=Ll;if(o&&t&&n){var d='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+rn(s.imageSizes)+'"]')):d+='[href="'+rn(t)+'"]';var g=d;switch(n){case"style":g=Dl(t);break;case"script":g=Ol(t)}fn.has(g)||(t=v({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),fn.set(g,t),o.querySelector(d)!==null||n==="style"&&o.querySelector(jc(g))||n==="script"&&o.querySelector(zc(g))||(n=o.createElement("link"),ei(n,"link",t),Ie(n),o.head.appendChild(n)))}}function _w(t,n){ka.m(t,n);var s=Ll;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',g=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ol(t)}if(!fn.has(g)&&(t=v({rel:"modulepreload",href:t},n),fn.set(g,t),s.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(zc(g)))return}o=s.createElement("link"),ei(o,"link",t),Ie(o),s.head.appendChild(o)}}}function Ew(t,n,s){ka.S(t,n,s);var o=Ll;if(o&&t){var d=Wo(o).hoistableStyles,g=Dl(t);n=n||"default";var A=d.get(g);if(!A){var x={loading:0,preload:null};if(A=o.querySelector(jc(g)))x.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":n},s),(s=fn.get(g))&&vv(t,s);var M=A=o.createElement("link");Ie(M),ei(M,"link",t),M._p=new Promise(function(H,V){M.onload=H,M.onerror=V}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Uf(A,n,o)}A={type:"stylesheet",instance:A,count:1,state:x},d.set(g,A)}}}function xw(t,n){ka.X(t,n);var s=Ll;if(s&&t){var o=Wo(s).hoistableScripts,d=Ol(t),g=o.get(d);g||(g=s.querySelector(zc(d)),g||(t=v({src:t,async:!0},n),(n=fn.get(d))&&bv(t,n),g=s.createElement("script"),Ie(g),ei(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function Tw(t,n){ka.M(t,n);var s=Ll;if(s&&t){var o=Wo(s).hoistableScripts,d=Ol(t),g=o.get(d);g||(g=s.querySelector(zc(d)),g||(t=v({src:t,async:!0,type:"module"},n),(n=fn.get(d))&&bv(t,n),g=s.createElement("script"),Ie(g),ei(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function Z1(t,n,s,o){var d=(d=ut.current)?Bf(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Dl(s.href),s=Wo(d).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Dl(s.href);var g=Wo(d).hoistableStyles,A=g.get(t);if(A||(d=d.ownerDocument||d,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,A),(g=d.querySelector(jc(t)))&&!g._p&&(A.instance=g,A.state.loading=5),fn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},fn.set(t,s),g||ww(d,t,s,A.state))),n&&o===null)throw Error(a(528,""));return A}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ol(s),s=Wo(d).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Dl(t){return'href="'+rn(t)+'"'}function jc(t){return'link[rel="stylesheet"]['+t+"]"}function Q1(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function ww(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ei(n,"link",s),Ie(n),t.head.appendChild(n))}function Ol(t){return'[src="'+rn(t)+'"]'}function zc(t){return"script[async]"+t}function W1(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,Ie(o),o;var d=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ie(o),ei(o,"style",d),Uf(o,s.precedence,t),n.instance=o;case"stylesheet":d=Dl(s.href);var g=t.querySelector(jc(d));if(g)return n.state.loading|=4,n.instance=g,Ie(g),g;o=Q1(s),(d=fn.get(d))&&vv(o,d),g=(t.ownerDocument||t).createElement("link"),Ie(g);var A=g;return A._p=new Promise(function(x,M){A.onload=x,A.onerror=M}),ei(g,"link",o),n.state.loading|=4,Uf(g,s.precedence,t),n.instance=g;case"script":return g=Ol(s.src),(d=t.querySelector(zc(g)))?(n.instance=d,Ie(d),d):(o=s,(d=fn.get(g))&&(o=v({},s),bv(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Ie(d),ei(d,"link",o),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Uf(o,s.precedence,t));return n.instance}function Uf(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,g=d,A=0;A<o.length;A++){var x=o[A];if(x.dataset.precedence===n)g=x;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function vv(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bv(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Hf=null;function J1(t,n,s){if(Hf===null){var o=new Map,d=Hf=new Map;d.set(s,o)}else d=Hf,o=d.get(s),o||(o=new Map,d.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var g=s[d];if(!(g[Ku]||g[oi]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(n)||"";A=t+A;var x=o.get(A);x?x.push(g):o.set(A,[g])}}return o}function tS(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Rw(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function eS(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pc=null;function Cw(){}function Mw(t,n,s){if(Pc===null)throw Error(a(475));var o=Pc;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Dl(s.href),g=t.querySelector(jc(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Ff.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=g,Ie(g);return}g=t.ownerDocument||t,s=Q1(s),(d=fn.get(d))&&vv(s,d),g=g.createElement("link"),Ie(g);var A=g;A._p=new Promise(function(x,M){A.onload=x,A.onerror=M}),ei(g,"link",s),n.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Ff.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function kw(){if(Pc===null)throw Error(a(475));var t=Pc;return t.stylesheets&&t.count===0&&yv(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&yv(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Ff(){if(this.count--,this.count===0){if(this.stylesheets)yv(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var If=null;function yv(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,If=new Map,n.forEach(Lw,t),If=null,Ff.call(t))}function Lw(t,n){if(!(n.state.loading&4)){var s=If.get(t);if(s)var o=s.get(null);else{s=new Map,If.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var A=d[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),o=A)}o&&s.set(null,o)}d=n.instance,A=d.getAttribute("data-precedence"),g=s.get(A)||o,g===o&&s.set(null,d),s.set(A,d),this.count++,o=Ff.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var Bc={$$typeof:N,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Dw(t,n,s,o,d,g,A,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.hiddenUpdates=mm(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function iS(t,n,s,o,d,g,A,x,M,H,V,K){return t=new Dw(t,n,s,A,x,M,H,K),n=1,g===!0&&(n|=24),g=Hi(3,null,null,n),t.current=g,g.stateNode=t,n=tg(),n.refCount++,t.pooledCache=n,n.refCount++,g.memoizedState={element:o,isDehydrated:s,cache:n},ag(g),t}function nS(t){return t?(t=cl,t):cl}function aS(t,n,s,o,d,g){d=nS(d),o.context===null?o.context=d:o.pendingContext=d,o=gs(n),o.payload={element:s},g=g===void 0?null:g,g!==null&&(o.callback=g),s=vs(t,o,n),s!==null&&(Vi(s,t,n),pc(s,t,n))}function sS(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Av(t,n){sS(t,n),(t=t.alternate)&&sS(t,n)}function rS(t){if(t.tag===13){var n=ul(t,67108864);n!==null&&Vi(n,t,67108864),Av(t,67108864)}}var Gf=!0;function Ow(t,n,s,o){var d=B.T;B.T=null;var g=q.p;try{q.p=2,Sv(t,n,s,o)}finally{q.p=g,B.T=d}}function Nw(t,n,s,o){var d=B.T;B.T=null;var g=q.p;try{q.p=8,Sv(t,n,s,o)}finally{q.p=g,B.T=d}}function Sv(t,n,s,o){if(Gf){var d=_v(o);if(d===null)lv(t,n,o,qf,s),lS(t,o);else if(zw(d,t,n,s,o))o.stopPropagation();else if(lS(t,o),n&4&&-1<jw.indexOf(t)){for(;d!==null;){var g=Qo(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=br(g.pendingLanes);if(A!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;A;){var M=1<<31-Fe(A);x.entanglements[1]|=M,A&=~M}$n(g),(Xt&6)===0&&(Rf=We()+500,Lc(0))}}break;case 13:x=ul(g,2),x!==null&&Vi(x,g,2),Mf(),Av(g,2)}if(g=_v(o),g===null&&lv(t,n,o,qf,s),g===d)break;d=g}d!==null&&o.stopPropagation()}else lv(t,n,o,null,s)}}function _v(t){return t=Rm(t),Ev(t)}var qf=null;function Ev(t){if(qf=null,t=Zo(t),t!==null){var n=l(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=c(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qf=t,null}function oS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gr()){case Od:return 2;case Nd:return 8;case ma:case dm:return 32;case jd:return 268435456;default:return 32}default:return 32}}var xv=!1,ks=null,Ls=null,Ds=null,Uc=new Map,Hc=new Map,Os=[],jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lS(t,n){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Uc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hc.delete(n.pointerId)}}function Fc(t,n,s,o,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:g,targetContainers:[d]},n!==null&&(n=Qo(n),n!==null&&rS(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function zw(t,n,s,o,d){switch(n){case"focusin":return ks=Fc(ks,t,n,s,o,d),!0;case"dragenter":return Ls=Fc(Ls,t,n,s,o,d),!0;case"mouseover":return Ds=Fc(Ds,t,n,s,o,d),!0;case"pointerover":var g=d.pointerId;return Uc.set(g,Fc(Uc.get(g)||null,t,n,s,o,d)),!0;case"gotpointercapture":return g=d.pointerId,Hc.set(g,Fc(Hc.get(g)||null,t,n,s,o,d)),!0}return!1}function uS(t){var n=Zo(t.target);if(n!==null){var s=l(n);if(s!==null){if(n=s.tag,n===13){if(n=c(s),n!==null){t.blockedOn=n,Mx(t.priority,function(){if(s.tag===13){var o=qi();o=gm(o);var d=ul(s,o);d!==null&&Vi(d,s,o),Av(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vf(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=_v(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);wm=o,s.target.dispatchEvent(o),wm=null}else return n=Qo(s),n!==null&&rS(n),t.blockedOn=s,!1;n.shift()}return!0}function cS(t,n,s){Vf(t)&&s.delete(n)}function Pw(){xv=!1,ks!==null&&Vf(ks)&&(ks=null),Ls!==null&&Vf(Ls)&&(Ls=null),Ds!==null&&Vf(Ds)&&(Ds=null),Uc.forEach(cS),Hc.forEach(cS)}function Xf(t,n){t.blockedOn===n&&(t.blockedOn=null,xv||(xv=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,Pw)))}var Yf=null;function hS(t){Yf!==t&&(Yf=t,m.unstable_scheduleCallback(m.unstable_NormalPriority,function(){Yf===t&&(Yf=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],d=t[n+2];if(typeof o!="function"){if(Ev(o||s)===null)continue;break}var g=Qo(s);g!==null&&(t.splice(n,3),n-=3,Eg(g,{pending:!0,data:d,method:s.method,action:o},o,d))}}))}function Ic(t){function n(M){return Xf(M,t)}ks!==null&&Xf(ks,t),Ls!==null&&Xf(Ls,t),Ds!==null&&Xf(Ds,t),Uc.forEach(n),Hc.forEach(n);for(var s=0;s<Os.length;s++){var o=Os[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Os.length&&(s=Os[0],s.blockedOn===null);)uS(s),s.blockedOn===null&&Os.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var d=s[o],g=s[o+1],A=d[wi]||null;if(typeof g=="function")A||hS(s);else if(A){var x=null;if(g&&g.hasAttribute("formAction")){if(d=g,A=g[wi]||null)x=A.formAction;else if(Ev(d)!==null)continue}else x=A.action;typeof x=="function"?s[o+1]=x:(s.splice(o,3),o-=3),hS(s)}}}function Tv(t){this._internalRoot=t}$f.prototype.render=Tv.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=qi();aS(s,o,t,n,null,null)},$f.prototype.unmount=Tv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;aS(t.current,2,null,t,null,null),Mf(),n[Ko]=null}};function $f(t){this._internalRoot=t}$f.prototype.unstable_scheduleHydration=function(t){if(t){var n=C0();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Os.length&&n!==0&&n<Os[s].priority;s++);Os.splice(s,0,t),s===0&&uS(t)}};var dS=e.version;if(dS!=="19.1.0")throw Error(a(527,dS,"19.1.0"));q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=f(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Bw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{vr=Kf.inject(Bw),we=Kf}catch{}}return qc.createRoot=function(t,n){if(!r(t))throw Error(a(299));var s=!1,o="",d=CA,g=MA,A=kA,x=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks)),n=iS(t,1,!1,null,null,s,o,d,g,A,x,null),t[Ko]=n.current,ov(t),new Tv(n)},qc.hydrateRoot=function(t,n,s){if(!r(t))throw Error(a(299));var o=!1,d="",g=CA,A=MA,x=kA,M=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),n=iS(t,1,!0,n,s??null,o,d,g,A,x,M,H),n.context=nS(null),s=n.current,o=qi(),o=gm(o),d=gs(o),d.callback=null,vs(s,d,o),s=o,n.current.lanes=s,$u(n,s),$n(n),t[Ko]=n.current,ov(t),new $f(n)},qc.version="19.1.0",qc}var ES;function Zw(){if(ES)return Mv.exports;ES=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(e){console.error(e)}}return m(),Mv.exports=Kw(),Mv.exports}var Qw=Zw();const a_=Z.createContext(null);function Ww({children:m}){const[e,i]=Z.useState("light");Z.useEffect(()=>{const r=localStorage.getItem("theme");if(r==="light"||r==="dark")i(r),document.documentElement.classList.toggle("dark",r==="dark");else{const l=window.matchMedia("(prefers-color-scheme: dark)").matches;i(l?"dark":"light"),document.documentElement.classList.toggle("dark",l)}},[]);const a=()=>{const r=e==="dark"?"light":"dark";i(r),document.documentElement.classList.toggle("dark",r==="dark"),localStorage.setItem("theme",r)};return et.jsx(a_.Provider,{value:{theme:e,toggleTheme:a},children:m})}const Jw=()=>{const m=Z.useContext(a_);if(!m)throw new Error("useTheme must be used within a ThemeProvider");return m};function tR({title:m,titleId:e,...i},a){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),m?Z.createElement("title",{id:e},m):null,Z.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}const eR=Z.forwardRef(tR);function iR({title:m,titleId:e,...i},a){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),m?Z.createElement("title",{id:e},m):null,Z.createElement("path",{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"}))}const nR=Z.forwardRef(iR),aR=()=>{const{theme:m,toggleTheme:e}=Jw();return et.jsx("button",{onClick:e,className:`cursor-pointer fixed top-4 right-4 z-50 p-2 rounded-full \r
        bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 \r
        text-gray-800 dark:text-gray-200 shadow transition-all duration-300 ease-in-out`,children:m==="dark"?et.jsx(nR,{className:"w-5 h-5"}):et.jsx(eR,{className:"w-5 h-5"})})},sR="modulepreload",rR=function(m){return"/ucimo_srpski/"+m},xS={},Zf=function(e,i,a){let r=Promise.resolve();if(i&&i.length>0){let c=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=c(i.map(p=>{if(p=rR(p),p in xS)return;xS[p]=!0;const v=p.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const y=document.createElement("link");if(y.rel=v?"stylesheet":sR,v||(y.as="script"),y.crossOrigin="",y.href=p,f&&y.setAttribute("nonce",f),document.head.appendChild(y),v)return new Promise((_,T)=>{y.addEventListener("load",_),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var ch={};ch.d=(m,e)=>{for(var i in e)ch.o(e,i)&&!ch.o(m,i)&&Object.defineProperty(m,i,{enumerable:!0,get:e[i]})};ch.o=(m,e)=>Object.prototype.hasOwnProperty.call(m,e);var wt=globalThis.pdfjsLib={};ch.d(wt,{AbortException:()=>Yo,AnnotationEditorLayer:()=>Qb,AnnotationEditorParamsType:()=>_t,AnnotationEditorType:()=>Mt,AnnotationEditorUIManager:()=>Fo,AnnotationLayer:()=>aC,AnnotationMode:()=>Ps,ColorPicker:()=>jp,DOMSVGFactory:()=>b0,DrawLayer:()=>e0,FeatureTest:()=>Ei,GlobalWorkerOptions:()=>rs,ImageKind:()=>ip,InvalidPDFException:()=>r_,MissingPDFException:()=>Xo,OPS:()=>Cn,OutputScale:()=>qv,PDFDataRangeTransport:()=>iE,PDFDateString:()=>h0,PDFWorker:()=>ql,PasswordResponses:()=>cR,PermissionFlag:()=>uR,PixelsPerInch:()=>hr,RenderingCancelledException:()=>u0,TextLayer:()=>bb,UnexpectedResponseException:()=>nm,Util:()=>dt,VerbosityLevel:()=>tm,XfaLayer:()=>aE,build:()=>B2,createValidAbsoluteUrl:()=>pR,fetchData:()=>sm,getDocument:()=>M2,getFilenameFromUrl:()=>ER,getPdfFilenameFromUrl:()=>xR,getXfaPageViewport:()=>TR,isDataScheme:()=>rm,isPdfFile:()=>c0,noContextMenu:()=>En,normalizeUnicode:()=>AR,setLayerDimensions:()=>Ho,shadow:()=>Ut,version:()=>P2});const vi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),s_=[1,0,0,1,0,0],Hv=[.001,0,0,.001,0,0],oR=1e7,Ov=1.35,en={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ps={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},lR="pdfjs_internal_editor_",Mt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},_t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},uR={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ci={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ip={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ne={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Vc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},tm={ERRORS:0,WARNINGS:1,INFOS:5},Cn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},cR={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let em=tm.WARNINGS;function hR(m){Number.isInteger(m)&&(em=m)}function dR(){return em}function im(m){em>=tm.INFOS&&console.log(`Info: ${m}`)}function Dt(m){em>=tm.WARNINGS&&console.log(`Warning: ${m}`)}function oe(m){throw new Error(m)}function Be(m,e){m||oe(e)}function fR(m){switch(m==null?void 0:m.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function pR(m,e=null,i=null){if(!m)return null;try{if(i&&typeof m=="string"){if(i.addDefaultProtocol&&m.startsWith("www.")){const r=m.match(/\./g);(r==null?void 0:r.length)>=2&&(m=`http://${m}`)}if(i.tryConvertEncoding)try{m=yR(m)}catch{}}const a=e?new URL(m,e):new URL(m);if(fR(a))return a}catch{}return null}function Ut(m,e,i,a=!1){return Object.defineProperty(m,e,{value:i,enumerable:!a,configurable:!0,writable:!1}),i}const mr=function(){function e(i,a){this.message=i,this.name=a}return e.prototype=new Error,e.constructor=e,e}();class Fv extends mr{constructor(e,i){super(e,"PasswordException"),this.code=i}}class Iv extends mr{constructor(e,i){super(e,"UnknownErrorException"),this.details=i}}class r_ extends mr{constructor(e){super(e,"InvalidPDFException")}}class Xo extends mr{constructor(e){super(e,"MissingPDFException")}}class nm extends mr{constructor(e,i){super(e,"UnexpectedResponseException"),this.status=i}}class mR extends mr{constructor(e){super(e,"FormatError")}}class Yo extends mr{constructor(e){super(e,"AbortException")}}function o_(m){(typeof m!="object"||(m==null?void 0:m.length)===void 0)&&oe("Invalid argument for bytesToString");const e=m.length,i=8192;if(e<i)return String.fromCharCode.apply(null,m);const a=[];for(let r=0;r<e;r+=i){const l=Math.min(r+i,e),c=m.subarray(r,l);a.push(String.fromCharCode.apply(null,c))}return a.join("")}function am(m){typeof m!="string"&&oe("Invalid argument for stringToBytes");const e=m.length,i=new Uint8Array(e);for(let a=0;a<e;++a)i[a]=m.charCodeAt(a)&255;return i}function gR(m){return String.fromCharCode(m>>24&255,m>>16&255,m>>8&255,m&255)}function o0(m){const e=Object.create(null);for(const[i,a]of m)e[i]=a;return e}function vR(){const m=new Uint8Array(4);return m[0]=1,new Uint32Array(m.buffer,0,1)[0]===1}function bR(){try{return new Function(""),!0}catch{return!1}}class Ei{static get isLittleEndian(){return Ut(this,"isLittleEndian",vR())}static get isEvalSupported(){return Ut(this,"isEvalSupported",bR())}static get isOffscreenCanvasSupported(){return Ut(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ut(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ut(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,i;return Ut(this,"isCSSRoundSupported",(i=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:i.call(e,"width: round(1.5px, 1px)"))}}const Nv=Array.from(Array(256).keys(),m=>m.toString(16).padStart(2,"0"));var ls,np,Gv;class dt{static makeHexColor(e,i,a){return`#${Nv[e]}${Nv[i]}${Nv[a]}`}static scaleMinMax(e,i){let a;e[0]?(e[0]<0&&(a=i[0],i[0]=i[2],i[2]=a),i[0]*=e[0],i[2]*=e[0],e[3]<0&&(a=i[1],i[1]=i[3],i[3]=a),i[1]*=e[3],i[3]*=e[3]):(a=i[0],i[0]=i[1],i[1]=a,a=i[2],i[2]=i[3],i[3]=a,e[1]<0&&(a=i[1],i[1]=i[3],i[3]=a),i[1]*=e[1],i[3]*=e[1],e[2]<0&&(a=i[0],i[0]=i[2],i[2]=a),i[0]*=e[2],i[2]*=e[2]),i[0]+=e[4],i[1]+=e[5],i[2]+=e[4],i[3]+=e[5]}static transform(e,i){return[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]]}static applyTransform(e,i){const a=e[0]*i[0]+e[1]*i[2]+i[4],r=e[0]*i[1]+e[1]*i[3]+i[5];return[a,r]}static applyInverseTransform(e,i){const a=i[0]*i[3]-i[1]*i[2],r=(e[0]*i[3]-e[1]*i[2]+i[2]*i[5]-i[4]*i[3])/a,l=(-e[0]*i[1]+e[1]*i[0]+i[4]*i[1]-i[5]*i[0])/a;return[r,l]}static getAxialAlignedBoundingBox(e,i){const a=this.applyTransform(e,i),r=this.applyTransform(e.slice(2,4),i),l=this.applyTransform([e[0],e[3]],i),c=this.applyTransform([e[2],e[1]],i);return[Math.min(a[0],r[0],l[0],c[0]),Math.min(a[1],r[1],l[1],c[1]),Math.max(a[0],r[0],l[0],c[0]),Math.max(a[1],r[1],l[1],c[1])]}static inverseTransform(e){const i=e[0]*e[3]-e[1]*e[2];return[e[3]/i,-e[1]/i,-e[2]/i,e[0]/i,(e[2]*e[5]-e[4]*e[3])/i,(e[4]*e[1]-e[5]*e[0])/i]}static singularValueDecompose2dScale(e){const i=[e[0],e[2],e[1],e[3]],a=e[0]*i[0]+e[1]*i[2],r=e[0]*i[1]+e[1]*i[3],l=e[2]*i[0]+e[3]*i[2],c=e[2]*i[1]+e[3]*i[3],h=(a+c)/2,f=Math.sqrt((a+c)**2-4*(a*c-l*r))/2,p=h+f||1,v=h-f||1;return[Math.sqrt(p),Math.sqrt(v)]}static normalizeRect(e){const i=e.slice(0);return e[0]>e[2]&&(i[0]=e[2],i[2]=e[0]),e[1]>e[3]&&(i[1]=e[3],i[3]=e[1]),i}static intersect(e,i){const a=Math.max(Math.min(e[0],e[2]),Math.min(i[0],i[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(i[0],i[2]));if(a>r)return null;const l=Math.max(Math.min(e[1],e[3]),Math.min(i[1],i[3])),c=Math.min(Math.max(e[1],e[3]),Math.max(i[1],i[3]));return l>c?null:[a,l,r,c]}static bezierBoundingBox(e,i,a,r,l,c,h,f,p){return p?(p[0]=Math.min(p[0],e,h),p[1]=Math.min(p[1],i,f),p[2]=Math.max(p[2],e,h),p[3]=Math.max(p[3],i,f)):p=[Math.min(e,h),Math.min(i,f),Math.max(e,h),Math.max(i,f)],E(this,ls,Gv).call(this,e,a,l,h,i,r,c,f,3*(-e+3*(a-l)+h),6*(e-2*a+l),3*(a-e),p),E(this,ls,Gv).call(this,e,a,l,h,i,r,c,f,3*(-i+3*(r-c)+f),6*(i-2*r+c),3*(r-i),p),p}}ls=new WeakSet,np=function(e,i,a,r,l,c,h,f,p,v){if(p<=0||p>=1)return;const b=1-p,y=p*p,_=y*p,T=b*(b*(b*e+3*p*i)+3*y*a)+_*r,R=b*(b*(b*l+3*p*c)+3*y*h)+_*f;v[0]=Math.min(v[0],T),v[1]=Math.min(v[1],R),v[2]=Math.max(v[2],T),v[3]=Math.max(v[3],R)},Gv=function(e,i,a,r,l,c,h,f,p,v,b,y){if(Math.abs(p)<1e-12){Math.abs(v)>=1e-12&&E(this,ls,np).call(this,e,i,a,r,l,c,h,f,-b/v,y);return}const _=v**2-4*b*p;if(_<0)return;const T=Math.sqrt(_),R=2*p;E(this,ls,np).call(this,e,i,a,r,l,c,h,f,(-v+T)/R,y),E(this,ls,np).call(this,e,i,a,r,l,c,h,f,(-v-T)/R,y)},w(dt,ls);function yR(m){return decodeURIComponent(escape(m))}let jv=null,TS=null;function AR(m){return jv||(jv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,TS=new Map([["","t"]])),m.replaceAll(jv,(e,i,a)=>i?i.normalize("NFKC"):TS.get(a))}function SR(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const m=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(m);else for(let e=0;e<32;e++)m[e]=Math.floor(Math.random()*255);return o_(m)}const l0="pdfjs_internal_id_",La={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function _R(m){return Uint8Array.prototype.toBase64?m.toBase64():btoa(o_(m))}const Oa="http://www.w3.org/2000/svg",Fr=class Fr{};St(Fr,"CSS",96),St(Fr,"PDF",72),St(Fr,"PDF_TO_CSS_UNITS",Fr.CSS/Fr.PDF);let hr=Fr;async function sm(m,e="text"){if($c(m,document.baseURI)){const i=await fetch(m);if(!i.ok)throw new Error(i.statusText);switch(e){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,a)=>{const r=new XMLHttpRequest;r.open("GET",m,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":i(r.response);return}i(r.responseText);return}a(new Error(r.statusText))}},r.send(null)})}class Md{constructor({viewBox:e,scale:i,rotation:a,offsetX:r=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=e,this.scale=i,this.rotation=a,this.offsetX=r,this.offsetY=l;const h=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,v,b,y;switch(a%=360,a<0&&(a+=360),a){case 180:p=-1,v=0,b=0,y=1;break;case 90:p=0,v=1,b=1,y=0;break;case 270:p=0,v=-1,b=-1,y=0;break;case 0:p=1,v=0,b=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(b=-b,y=-y);let _,T,R,k;p===0?(_=Math.abs(f-e[1])*i+r,T=Math.abs(h-e[0])*i+l,R=(e[3]-e[1])*i,k=(e[2]-e[0])*i):(_=Math.abs(h-e[0])*i+r,T=Math.abs(f-e[1])*i+l,R=(e[2]-e[0])*i,k=(e[3]-e[1])*i),this.transform=[p*i,v*i,b*i,y*i,_-p*i*h-b*i*f,T-v*i*h-y*i*f],this.width=R,this.height=k}get rawDims(){const{viewBox:e}=this;return Ut(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:i=this.rotation,offsetX:a=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Md({viewBox:this.viewBox.slice(),scale:e,rotation:i,offsetX:a,offsetY:r,dontFlip:l})}convertToViewportPoint(e,i){return dt.applyTransform([e,i],this.transform)}convertToViewportRectangle(e){const i=dt.applyTransform([e[0],e[1]],this.transform),a=dt.applyTransform([e[2],e[3]],this.transform);return[i[0],i[1],a[0],a[1]]}convertToPdfPoint(e,i){return dt.applyInverseTransform([e,i],this.transform)}}class u0 extends mr{constructor(e,i=0){super(e,"RenderingCancelledException"),this.extraDelay=i}}function rm(m){const e=m.length;let i=0;for(;i<e&&m[i].trim()==="";)i++;return m.substring(i,i+5).toLowerCase()==="data:"}function c0(m){return typeof m=="string"&&/\.pdf$/i.test(m)}function ER(m){return[m]=m.split(/[#?]/,1),m.substring(m.lastIndexOf("/")+1)}function xR(m,e="document.pdf"){if(typeof m!="string")return e;if(rm(m))return Dt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,a=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=i.exec(m);let l=a.exec(r[1])||a.exec(r[2])||a.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=a.exec(decodeURIComponent(l))[0]}catch{}return l||e}class wS{constructor(){St(this,"started",Object.create(null));St(this,"times",[])}time(e){e in this.started&&Dt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Dt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let i=0;for(const{name:a}of this.times)i=Math.max(a.length,i);for(const{name:a,start:r,end:l}of this.times)e.push(`${a.padEnd(i)} ${l-r}ms
`);return e.join("")}}function $c(m,e){try{const{protocol:i}=e?new URL(m,e):new URL(m);return i==="http:"||i==="https:"}catch{return!1}}function En(m){m.preventDefault()}function RS(m){console.log("Deprecated API usage: "+m)}var ph;class h0{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,ph)||S(this,ph,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=u(this,ph).exec(e);if(!i)return null;const a=parseInt(i[1],10);let r=parseInt(i[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(i[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(i[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(i[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(i[6],10);f=f>=0&&f<=59?f:0;const p=i[7]||"Z";let v=parseInt(i[8],10);v=v>=0&&v<=23?v:0;let b=parseInt(i[9],10)||0;return b=b>=0&&b<=59?b:0,p==="-"?(c+=v,h+=b):p==="+"&&(c-=v,h-=b),new Date(Date.UTC(a,r,l,c,h,f))}}ph=new WeakMap,w(h0,ph);function TR(m,{scale:e=1,rotation:i=0}){const{width:a,height:r}=m.attributes.style,l=[0,0,parseInt(a),parseInt(r)];return new Md({viewBox:l,scale:e,rotation:i})}function d0(m){if(m.startsWith("#")){const e=parseInt(m.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return m.startsWith("rgb(")?m.slice(4,-1).split(",").map(e=>parseInt(e)):m.startsWith("rgba(")?m.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Dt(`Not a valid color format: "${m}"`),[0,0,0])}function wR(m){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const i of m.keys()){e.style.color=i;const a=window.getComputedStyle(e).color;m.set(i,d0(a))}e.remove()}function me(m){const{a:e,b:i,c:a,d:r,e:l,f:c}=m.getTransform();return[e,i,a,r,l,c]}function Da(m){const{a:e,b:i,c:a,d:r,e:l,f:c}=m.getTransform().invertSelf();return[e,i,a,r,l,c]}function Ho(m,e,i=!1,a=!0){if(e instanceof Md){const{pageWidth:r,pageHeight:l}=e.rawDims,{style:c}=m,h=Ei.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${l}px`,v=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,b=h?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!i||e.rotation%180===0?(c.width=v,c.height=b):(c.width=b,c.height=v)}a&&m.setAttribute("data-main-rotation",e.rotation)}class qv{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Bs,Gr,Mn,qr,mh,gh,Pp,l_,xi,u_,c_,ap,h_,Xv;const Na=class Na{constructor(e){w(this,xi);w(this,Bs,null);w(this,Gr,null);w(this,Mn);w(this,qr,null);w(this,mh,null);S(this,Mn,e),u(Na,gh)||S(Na,gh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=S(this,Bs,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const i=u(this,Mn)._uiManager._signal;e.addEventListener("contextmenu",En,{signal:i}),e.addEventListener("pointerdown",E(Na,Pp,l_),{signal:i});const a=S(this,qr,document.createElement("div"));a.className="buttons",e.append(a);const r=u(this,Mn).toolbarPosition;if(r){const{style:l}=e,c=u(this,Mn)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return E(this,xi,h_).call(this),e}get div(){return u(this,Bs)}hide(){var e;u(this,Bs).classList.add("hidden"),(e=u(this,Gr))==null||e.hideDropdown()}show(){var e;u(this,Bs).classList.remove("hidden"),(e=u(this,mh))==null||e.shown()}async addAltText(e){const i=await e.render();E(this,xi,ap).call(this,i),u(this,qr).prepend(i,u(this,xi,Xv)),S(this,mh,e)}addColorPicker(e){S(this,Gr,e);const i=e.renderButton();E(this,xi,ap).call(this,i),u(this,qr).prepend(i,u(this,xi,Xv))}remove(){var e;u(this,Bs).remove(),(e=u(this,Gr))==null||e.destroy(),S(this,Gr,null)}};Bs=new WeakMap,Gr=new WeakMap,Mn=new WeakMap,qr=new WeakMap,mh=new WeakMap,gh=new WeakMap,Pp=new WeakSet,l_=function(e){e.stopPropagation()},xi=new WeakSet,u_=function(e){u(this,Mn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},c_=function(e){u(this,Mn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},ap=function(e){const i=u(this,Mn)._uiManager._signal;e.addEventListener("focusin",E(this,xi,u_).bind(this),{capture:!0,signal:i}),e.addEventListener("focusout",E(this,xi,c_).bind(this),{capture:!0,signal:i}),e.addEventListener("contextmenu",En,{signal:i})},h_=function(){const{editorType:e,_uiManager:i}=u(this,Mn),a=document.createElement("button");a.className="delete",a.tabIndex=0,a.setAttribute("data-l10n-id",u(Na,gh)[e]),E(this,xi,ap).call(this,a),a.addEventListener("click",r=>{i.delete()},{signal:i._signal}),u(this,qr).append(a)},Xv=function(){const e=document.createElement("div");return e.className="divider",e},w(Na,Pp),w(Na,gh,null);let Vv=Na;var vh,Vr,Xr,fr,d_,f_,p_;class RR{constructor(e){w(this,fr);w(this,vh,null);w(this,Vr,null);w(this,Xr);S(this,Xr,e)}show(e,i,a){const[r,l]=E(this,fr,f_).call(this,i,a),{style:c}=u(this,Vr)||S(this,Vr,E(this,fr,d_).call(this));e.append(u(this,Vr)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Vr).remove()}}vh=new WeakMap,Vr=new WeakMap,Xr=new WeakMap,fr=new WeakSet,d_=function(){const e=S(this,Vr,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",En,{signal:u(this,Xr)._signal});const i=S(this,vh,document.createElement("div"));return i.className="buttons",e.append(i),E(this,fr,p_).call(this),e},f_=function(e,i){let a=0,r=0;for(const l of e){const c=l.y+l.height;if(c<a)continue;const h=l.x+(i?l.width:0);if(c>a){r=h,a=c;continue}i?h>r&&(r=h):h<r&&(r=h)}return[i?1-r:r,a]},p_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");e.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const a=u(this,Xr)._signal;e.addEventListener("contextmenu",En,{signal:a}),e.addEventListener("click",()=>{u(this,Xr).highlightSelection("floating_button")},{signal:a}),u(this,vh).append(e)};function Dp(m,e,i){for(const a of i)e.addEventListener(a,m[a].bind(m))}function CR(m){return Math.round(Math.min(255,Math.max(1,255*m))).toString(16).padStart(2,"0")}var Bp;class MR{constructor(){w(this,Bp,0)}get id(){return`${lR}${yi(this,Bp)._++}`}}Bp=new WeakMap;var Yl,bh,di,$l,sp;const S0=class S0{constructor(){w(this,$l);w(this,Yl,SR());w(this,bh,0);w(this,di,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const l=r.decode().then(()=>(a.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0]===0));return Ut(this,"_isSVGFittingCanvas",l)}async getFromFile(e){const{lastModified:i,name:a,size:r,type:l}=e;return E(this,$l,sp).call(this,`${i}_${a}_${r}_${l}`,e)}async getFromUrl(e){return E(this,$l,sp).call(this,e,e)}async getFromBlob(e,i){const a=await i;return E(this,$l,sp).call(this,e,a)}async getFromId(e){u(this,di)||S(this,di,new Map);const i=u(this,di).get(e);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:a}=i;return delete i.blobPromise,this.getFromBlob(i.id,a)}return this.getFromUrl(i.url)}getFromCanvas(e,i){u(this,di)||S(this,di,new Map);let a=u(this,di).get(e);if(a!=null&&a.bitmap)return a.refCounter+=1,a;const r=new OffscreenCanvas(i.width,i.height);return r.getContext("2d").drawImage(i,0,0),a={bitmap:r.transferToImageBitmap(),id:`image_${u(this,Yl)}_${yi(this,bh)._++}`,refCounter:1,isSvg:!1},u(this,di).set(e,a),u(this,di).set(a.id,a),a}getSvgUrl(e){const i=u(this,di).get(e);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(e){var r;u(this,di)||S(this,di,new Map);const i=u(this,di).get(e);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:a}=i;if(!i.url&&!i.file){const l=new OffscreenCanvas(a.width,a.height);l.getContext("bitmaprenderer").transferFromImageBitmap(a),i.blobPromise=l.convertToBlob()}(r=a.close)==null||r.call(a),i.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,Yl)}_`)}};Yl=new WeakMap,bh=new WeakMap,di=new WeakMap,$l=new WeakSet,sp=async function(e,i){u(this,di)||S(this,di,new Map);let a=u(this,di).get(e);if(a===null)return null;if(a!=null&&a.bitmap)return a.refCounter+=1,a;try{a||(a={bitmap:null,id:`image_${u(this,Yl)}_${yi(this,bh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof i=="string"?(a.url=i,r=await sm(i,"blob")):i instanceof File?r=a.file=i:i instanceof Blob&&(r=i),r.type==="image/svg+xml"){const l=S0._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((p,v)=>{h.onload=()=>{a.bitmap=h,a.isSvg=!0,p()},c.onload=async()=>{const b=a.svgUrl=c.result;h.src=await l?`${b}#svgView(preserveAspectRatio(none))`:b},h.onerror=c.onerror=v});c.readAsDataURL(r),await f}else a.bitmap=await createImageBitmap(r);a.refCounter=1}catch(r){console.error(r),a=null}return u(this,di).set(e,a),a&&u(this,di).set(a.id,a),a};let Yv=S0;var Ye,Us,yh,$e;class kR{constructor(e=128){w(this,Ye,[]);w(this,Us,!1);w(this,yh);w(this,$e,-1);S(this,yh,e)}add({cmd:e,undo:i,post:a,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&e(),u(this,Us))return;const f={cmd:e,undo:i,post:a,type:l};if(u(this,$e)===-1){u(this,Ye).length>0&&(u(this,Ye).length=0),S(this,$e,0),u(this,Ye).push(f);return}if(c&&u(this,Ye)[u(this,$e)].type===l){h&&(f.undo=u(this,Ye)[u(this,$e)].undo),u(this,Ye)[u(this,$e)]=f;return}const p=u(this,$e)+1;p===u(this,yh)?u(this,Ye).splice(0,1):(S(this,$e,p),p<u(this,Ye).length&&u(this,Ye).splice(p)),u(this,Ye).push(f)}undo(){if(u(this,$e)===-1)return;S(this,Us,!0);const{undo:e,post:i}=u(this,Ye)[u(this,$e)];e(),i==null||i(),S(this,Us,!1),S(this,$e,u(this,$e)-1)}redo(){if(u(this,$e)<u(this,Ye).length-1){S(this,$e,u(this,$e)+1),S(this,Us,!0);const{cmd:e,post:i}=u(this,Ye)[u(this,$e)];e(),i==null||i(),S(this,Us,!1)}}hasSomethingToUndo(){return u(this,$e)!==-1}hasSomethingToRedo(){return u(this,$e)<u(this,Ye).length-1}destroy(){S(this,Ye,null)}}Ye=new WeakMap,Us=new WeakMap,yh=new WeakMap,$e=new WeakMap;var Up,m_;class kd{constructor(e){w(this,Up);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=Ei.platform;for(const[a,r,l={}]of e)for(const c of a){const h=c.startsWith("mac+");i&&h?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!i&&!h&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(e,i){if(!this.allKeys.has(i.key))return;const a=this.callbacks.get(E(this,Up,m_).call(this,i));if(!a)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:h=null}}=a;h&&!h(e,i)||(r.bind(e,...c,i)(),l||(i.stopPropagation(),i.preventDefault()))}}Up=new WeakSet,m_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const Hp=class Hp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return wR(e),Ut(this,"_colors",e)}convert(e){const i=d0(e);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[a,r]of this._colors)if(r.every((l,c)=>l===i[c]))return Hp._colorsMapping.get(a);return i}getHexCode(e){const i=this._colors.get(e);return i?dt.makeHexColor(...i):e}};St(Hp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let $v=Hp;var Kl,Yi,je,ni,Zl,za,Ql,kn,Hs,Wl,Yr,Zn,Ln,$r,Ah,Sh,Jl,_h,Qn,Fs,tu,Is,Wn,Fp,Gs,Eh,qs,Kr,xh,Th,Ke,$t,Pa,Zr,wh,Rh,Vs,Jn,Ba,Ch,mn,at,rp,Kv,g_,v_,op,b_,y_,A_,Zv,S_,Qv,Wv,__,Ai,js,E_,x_,Jv,T_,Kc,tb;const Il=class Il{constructor(e,i,a,r,l,c,h,f,p,v,b){w(this,at);w(this,Kl,new AbortController);w(this,Yi,null);w(this,je,new Map);w(this,ni,new Map);w(this,Zl,null);w(this,za,null);w(this,Ql,null);w(this,kn,new kR);w(this,Hs,null);w(this,Wl,0);w(this,Yr,new Set);w(this,Zn,null);w(this,Ln,null);w(this,$r,new Set);w(this,Ah,!1);w(this,Sh,!1);w(this,Jl,!1);w(this,_h,null);w(this,Qn,null);w(this,Fs,null);w(this,tu,null);w(this,Is,!1);w(this,Wn,null);w(this,Fp,new MR);w(this,Gs,!1);w(this,Eh,!1);w(this,qs,null);w(this,Kr,null);w(this,xh,null);w(this,Th,null);w(this,Ke,Mt.NONE);w(this,$t,new Set);w(this,Pa,null);w(this,Zr,null);w(this,wh,null);w(this,Rh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});w(this,Vs,[0,0]);w(this,Jn,null);w(this,Ba,null);w(this,Ch,null);w(this,mn,null);const y=this._signal=u(this,Kl).signal;S(this,Ba,e),S(this,Ch,i),S(this,Zl,a),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:y}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),r._on("setpreference",this.onSetPreference.bind(this),{signal:y}),r._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:y}),E(this,at,b_).call(this),E(this,at,__).call(this),E(this,at,Zv).call(this),S(this,za,l.annotationStorage),S(this,_h,l.filterFactory),S(this,Zr,c),S(this,tu,h||null),S(this,Ah,f),S(this,Sh,p),S(this,Jl,v),S(this,Th,b||null),this.viewParameters={realScale:hr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Il.prototype,i=c=>u(c,Ba).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),a=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new kd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],e.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:a}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&u(c,Ba).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&u(c,Ba).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-l,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[l,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-l],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,l],checker:i}]]))}destroy(){var e,i,a,r;(e=u(this,mn))==null||e.resolve(),S(this,mn,null),(i=u(this,Kl))==null||i.abort(),S(this,Kl,null),this._signal=null;for(const l of u(this,ni).values())l.destroy();u(this,ni).clear(),u(this,je).clear(),u(this,$r).clear(),S(this,Yi,null),u(this,$t).clear(),u(this,kn).destroy(),(a=u(this,Zl))==null||a.destroy(),(r=u(this,Wn))==null||r.hide(),S(this,Wn,null),u(this,Qn)&&(clearTimeout(u(this,Qn)),S(this,Qn,null)),u(this,Jn)&&(clearTimeout(u(this,Jn)),S(this,Jn,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,Th)}get useNewAltTextFlow(){return u(this,Sh)}get useNewAltTextWhenAddingImage(){return u(this,Jl)}get hcmFilter(){return Ut(this,"hcmFilter",u(this,Zr)?u(this,_h).addHCMFilter(u(this,Zr).foreground,u(this,Zr).background):"none")}get direction(){return Ut(this,"direction",getComputedStyle(u(this,Ba)).direction)}get highlightColors(){return Ut(this,"highlightColors",u(this,tu)?new Map(u(this,tu).split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return Ut(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){S(this,xh,e)}editAltText(e,i=!1){var a;(a=u(this,Zl))==null||a.editAltText(this,e,i)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){switch(e){case"enableNewAltTextWhenAddingImage":S(this,Jl,i);break}}onPageChanging({pageNumber:e}){S(this,Wl,e-1)}focusMainContainer(){u(this,Ba).focus()}findParent(e,i){for(const a of u(this,ni).values()){const{x:r,y:l,width:c,height:h}=a.div.getBoundingClientRect();if(e>=r&&e<=r+c&&i>=l&&i<=l+h)return a}return null}disableUserSelect(e=!1){u(this,Ch).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,$r).add(e)}removeShouldRescale(e){u(this,$r).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*hr.PDF_TO_CSS_UNITS;for(const i of u(this,$r))i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:a,anchorOffset:r,focusNode:l,focusOffset:c}=i,h=i.toString(),p=E(this,at,rp).call(this,i).closest(".textLayer"),v=this.getSelectionBoxes(p);if(!v)return;i.empty();const b=E(this,at,Kv).call(this,p),y=u(this,Ke)===Mt.NONE,_=()=>{b==null||b.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:v,anchorNode:a,anchorOffset:r,focusNode:l,focusOffset:c,text:h}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Mt.HIGHLIGHT,_);return}_()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,za)&&!u(this,za).has(e.id)&&u(this,za).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,Is)&&(S(this,Is,!1),E(this,at,op).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of u(this,$t))if(i.div.contains(e)){S(this,Kr,[i,e]),i._focusEventsAllowed=!1;break}}focus(){if(!u(this,Kr))return;const[e,i]=u(this,Kr);S(this,Kr,null),i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){E(this,at,Zv).call(this),E(this,at,Qv).call(this)}removeEditListeners(){E(this,at,S_).call(this),E(this,at,Wv).call(this)}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const a of u(this,Ln))if(a.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const i of e.dataTransfer.items)for(const a of u(this,Ln))if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){var a;if(e.preventDefault(),(a=u(this,Yi))==null||a.commitOrRemove(),!this.hasSelection)return;const i=[];for(const r of u(this,$t)){const l=r.serialize(!0);l&&i.push(l)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:i}=e;for(const l of i.items)for(const c of u(this,Ln))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let a=i.getData("application/pdfjs");if(!a)return;try{a=JSON.parse(a)}catch(l){Dt(`paste: "${l.message}".`);return}if(!Array.isArray(a))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of a){const p=await r.deserialize(f);if(!p)return;l.push(p)}const c=()=>{for(const f of l)E(this,at,Jv).call(this,f);E(this,at,tb).call(this,l)},h=()=>{for(const f of l)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(l){Dt(`paste: "${l.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,Ke)!==Mt.NONE&&!this.isEditorHandlingKeyboard&&Il._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,Is)&&(S(this,Is,!1),E(this,at,op).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(E(this,at,y_).call(this),E(this,at,Qv).call(this),E(this,at,Ai).call(this,{isEditing:u(this,Ke)!==Mt.NONE,isEmpty:E(this,at,Kc).call(this),hasSomethingToUndo:u(this,kn).hasSomethingToUndo(),hasSomethingToRedo:u(this,kn).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,at,A_).call(this),E(this,at,Wv).call(this),E(this,at,Ai).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,Ln)){S(this,Ln,e);for(const i of u(this,Ln))E(this,at,js).call(this,i.defaultPropertiesToUpdate)}}getId(){return u(this,Fp).id}get currentLayer(){return u(this,ni).get(u(this,Wl))}getLayer(e){return u(this,ni).get(e)}get currentPageIndex(){return u(this,Wl)}addLayer(e){u(this,ni).set(e.pageIndex,e),u(this,Gs)?e.enable():e.disable()}removeLayer(e){u(this,ni).delete(e.pageIndex)}async updateMode(e,i=null,a=!1){if(u(this,Ke)!==e&&!(u(this,mn)&&(await u(this,mn).promise,!u(this,mn)))){if(S(this,mn,Promise.withResolvers()),S(this,Ke,e),e===Mt.NONE){this.setEditingState(!1),E(this,at,x_).call(this),u(this,mn).resolve();return}this.setEditingState(!0),await E(this,at,E_).call(this),this.unselectAll();for(const r of u(this,ni).values())r.updateMode(e);if(!i){a&&this.addNewEditorFromKeyboard(),u(this,mn).resolve();return}for(const r of u(this,je).values())r.annotationElementId===i?(this.setSelected(r),r.enterInEditMode()):r.unselect();u(this,mn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,Ke)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){var a;if(u(this,Ln)){switch(e){case _t.CREATE:this.currentLayer.addNewEditor();return;case _t.HIGHLIGHT_DEFAULT_COLOR:(a=u(this,xh))==null||a.updateColor(i);break;case _t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,wh)||S(this,wh,new Map)).set(e,i),this.showAllEditors("highlight",i);break}for(const r of u(this,$t))r.updateParams(e,i);for(const r of u(this,Ln))r.updateDefaultParams(e,i)}}showAllEditors(e,i,a=!1){var l;for(const c of u(this,je).values())c.editorType===e&&c.show(i);(((l=u(this,wh))==null?void 0:l.get(_t.HIGHLIGHT_SHOW_ALL))??!0)!==i&&E(this,at,js).call(this,[[_t.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(u(this,Eh)!==e){S(this,Eh,e);for(const i of u(this,ni).values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}getEditors(e){const i=[];for(const a of u(this,je).values())a.pageIndex===e&&i.push(a);return i}getEditor(e){return u(this,je).get(e)}addEditor(e){u(this,je).set(e.id,e)}removeEditor(e){var i;e.div.contains(document.activeElement)&&(u(this,Qn)&&clearTimeout(u(this,Qn)),S(this,Qn,setTimeout(()=>{this.focusMainContainer(),S(this,Qn,null)},0))),u(this,je).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,Yr).has(e.annotationElementId))&&((i=u(this,za))==null||i.remove(e.id))}addDeletedAnnotationElement(e){u(this,Yr).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,Yr).has(e)}removeDeletedAnnotationElement(e){u(this,Yr).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,Yi)!==e&&(S(this,Yi,e),e&&E(this,at,js).call(this,e.propertiesToUpdate))}updateUI(e){u(this,at,T_)===e&&E(this,at,js).call(this,e.propertiesToUpdate)}toggleSelected(e){if(u(this,$t).has(e)){u(this,$t).delete(e),e.unselect(),E(this,at,Ai).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,$t).add(e),e.select(),E(this,at,js).call(this,e.propertiesToUpdate),E(this,at,Ai).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const i of u(this,$t))i!==e&&i.unselect();u(this,$t).clear(),u(this,$t).add(e),e.select(),E(this,at,js).call(this,e.propertiesToUpdate),E(this,at,Ai).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,$t).has(e)}get firstSelectedEditor(){return u(this,$t).values().next().value}unselect(e){e.unselect(),u(this,$t).delete(e),E(this,at,Ai).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,$t).size!==0}get isEnterHandled(){return u(this,$t).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,kn).undo(),E(this,at,Ai).call(this,{hasSomethingToUndo:u(this,kn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,at,Kc).call(this)})}redo(){u(this,kn).redo(),E(this,at,Ai).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,kn).hasSomethingToRedo(),isEmpty:E(this,at,Kc).call(this)})}addCommands(e){u(this,kn).add(e),E(this,at,Ai).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,at,Kc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...u(this,$t)],i=()=>{for(const r of e)r.remove()},a=()=>{for(const r of e)E(this,at,Jv).call(this,r)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){var e;(e=u(this,Yi))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,Yi)||this.hasSelection}selectAll(){for(const e of u(this,$t))e.commit();E(this,at,tb).call(this,u(this,je).values())}unselectAll(){if(!(u(this,Yi)&&(u(this,Yi).commitOrRemove(),u(this,Ke)!==Mt.NONE))&&this.hasSelection){for(const e of u(this,$t))e.unselect();u(this,$t).clear(),E(this,at,Ai).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,i,a=!1){if(a||this.commitOrRemove(),!this.hasSelection)return;u(this,Vs)[0]+=e,u(this,Vs)[1]+=i;const[r,l]=u(this,Vs),c=[...u(this,$t)],h=1e3;u(this,Jn)&&clearTimeout(u(this,Jn)),S(this,Jn,setTimeout(()=>{S(this,Jn,null),u(this,Vs)[0]=u(this,Vs)[1]=0,this.addCommands({cmd:()=>{for(const f of c)u(this,je).has(f.id)&&f.translateInPage(r,l)},undo:()=>{for(const f of c)u(this,je).has(f.id)&&f.translateInPage(-r,-l)},mustExec:!1})},h));for(const f of c)f.translateInPage(e,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),S(this,Zn,new Map);for(const e of u(this,$t))u(this,Zn).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Zn))return!1;this.disableUserSelect(!1);const e=u(this,Zn);S(this,Zn,null);let i=!1;for(const[{x:r,y:l,pageIndex:c},h]of e)h.newX=r,h.newY=l,h.newPageIndex=c,i||(i=r!==h.savedX||l!==h.savedY||c!==h.savedPageIndex);if(!i)return!1;const a=(r,l,c,h)=>{if(u(this,je).has(r.id)){const f=u(this,ni).get(h);f?r._setParentAndPosition(f,l,c):(r.pageIndex=h,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:h}]of e)a(r,l,c,h)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:h}]of e)a(r,l,c,h)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(u(this,Zn))for(const a of u(this,Zn).keys())a.drag(e,i)}rebuild(e){if(e.parent===null){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,$t).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,Yi)===e}getActive(){return u(this,Yi)}getMode(){return u(this,Ke)}get imageManager(){return Ut(this,"imageManager",new Yv)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let p=0,v=i.rangeCount;p<v;p++)if(!e.contains(i.getRangeAt(p).commonAncestorContainer))return null;const{x:a,y:r,width:l,height:c}=e.getBoundingClientRect();let h;switch(e.getAttribute("data-main-rotation")){case"90":h=(p,v,b,y)=>({x:(v-r)/c,y:1-(p+b-a)/l,width:y/c,height:b/l});break;case"180":h=(p,v,b,y)=>({x:1-(p+b-a)/l,y:1-(v+y-r)/c,width:b/l,height:y/c});break;case"270":h=(p,v,b,y)=>({x:1-(v+y-r)/c,y:(p-a)/l,width:y/c,height:b/l});break;default:h=(p,v,b,y)=>({x:(p-a)/l,y:(v-r)/c,width:b/l,height:y/c});break}const f=[];for(let p=0,v=i.rangeCount;p<v;p++){const b=i.getRangeAt(p);if(!b.collapsed)for(const{x:y,y:_,width:T,height:R}of b.getClientRects())T===0||R===0||f.push(h(y,_,T,R))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:e,id:i}){(u(this,Ql)||S(this,Ql,new Map)).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){var i;(i=u(this,Ql))==null||i.delete(e)}renderAnnotationElement(e){var r;const i=(r=u(this,Ql))==null?void 0:r.get(e.data.id);if(!i)return;const a=u(this,za).getRawValue(i);a&&(u(this,Ke)===Mt.NONE&&!a.hasBeenModified||a.renderAnnotationElement(e))}};Kl=new WeakMap,Yi=new WeakMap,je=new WeakMap,ni=new WeakMap,Zl=new WeakMap,za=new WeakMap,Ql=new WeakMap,kn=new WeakMap,Hs=new WeakMap,Wl=new WeakMap,Yr=new WeakMap,Zn=new WeakMap,Ln=new WeakMap,$r=new WeakMap,Ah=new WeakMap,Sh=new WeakMap,Jl=new WeakMap,_h=new WeakMap,Qn=new WeakMap,Fs=new WeakMap,tu=new WeakMap,Is=new WeakMap,Wn=new WeakMap,Fp=new WeakMap,Gs=new WeakMap,Eh=new WeakMap,qs=new WeakMap,Kr=new WeakMap,xh=new WeakMap,Th=new WeakMap,Ke=new WeakMap,$t=new WeakMap,Pa=new WeakMap,Zr=new WeakMap,wh=new WeakMap,Rh=new WeakMap,Vs=new WeakMap,Jn=new WeakMap,Ba=new WeakMap,Ch=new WeakMap,mn=new WeakMap,at=new WeakSet,rp=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Kv=function(e){const{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(const a of u(this,ni).values())if(a.hasTextLayer(e))return a;return null},g_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const a=E(this,at,rp).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(a);r&&(u(this,Wn)||S(this,Wn,new RR(this)),u(this,Wn).show(a,r,this.direction==="ltr"))},v_=function(){var l,c,h;const e=document.getSelection();if(!e||e.isCollapsed){u(this,Pa)&&((l=u(this,Wn))==null||l.hide(),S(this,Pa,null),E(this,at,Ai).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=e;if(i===u(this,Pa))return;const r=E(this,at,rp).call(this,e).closest(".textLayer");if(!r){u(this,Pa)&&((c=u(this,Wn))==null||c.hide(),S(this,Pa,null),E(this,at,Ai).call(this,{hasSelectedText:!1}));return}if((h=u(this,Wn))==null||h.hide(),S(this,Pa,i),E(this,at,Ai).call(this,{hasSelectedText:!0}),!(u(this,Ke)!==Mt.HIGHLIGHT&&u(this,Ke)!==Mt.NONE)&&(u(this,Ke)===Mt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),S(this,Is,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=u(this,Ke)===Mt.HIGHLIGHT?E(this,at,Kv).call(this,r):null;f==null||f.toggleDrawing();const p=new AbortController,v=this.combinedSignal(p),b=y=>{y.type==="pointerup"&&y.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),y.type==="pointerup"&&E(this,at,op).call(this,"main_toolbar"))};window.addEventListener("pointerup",b,{signal:v}),window.addEventListener("blur",b,{signal:v})}},op=function(e=""){u(this,Ke)===Mt.HIGHLIGHT?this.highlightSelection(e):u(this,Ah)&&E(this,at,g_).call(this)},b_=function(){document.addEventListener("selectionchange",E(this,at,v_).bind(this),{signal:this._signal})},y_=function(){if(u(this,Fs))return;S(this,Fs,new AbortController);const e=this.combinedSignal(u(this,Fs));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},A_=function(){var e;(e=u(this,Fs))==null||e.abort(),S(this,Fs,null)},Zv=function(){if(u(this,qs))return;S(this,qs,new AbortController);const e=this.combinedSignal(u(this,qs));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},S_=function(){var e;(e=u(this,qs))==null||e.abort(),S(this,qs,null)},Qv=function(){if(u(this,Hs))return;S(this,Hs,new AbortController);const e=this.combinedSignal(u(this,Hs));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Wv=function(){var e;(e=u(this,Hs))==null||e.abort(),S(this,Hs,null)},__=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ai=function(e){Object.entries(e).some(([a,r])=>u(this,Rh)[a]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Rh),e)}),u(this,Ke)===Mt.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,at,js).call(this,[[_t.HIGHLIGHT_FREE,!0]]))},js=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},E_=async function(){if(!u(this,Gs)){S(this,Gs,!0);const e=[];for(const i of u(this,ni).values())e.push(i.enable());await Promise.all(e);for(const i of u(this,je).values())i.enable()}},x_=function(){if(this.unselectAll(),u(this,Gs)){S(this,Gs,!1);for(const e of u(this,ni).values())e.disable();for(const e of u(this,je).values())e.disable()}},Jv=function(e){const i=u(this,ni).get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},T_=function(){let e=null;for(e of u(this,$t));return e},Kc=function(){if(u(this,je).size===0)return!0;if(u(this,je).size===1)for(const e of u(this,je).values())return e.isEmpty();return!1},tb=function(e){for(const i of u(this,$t))i.unselect();u(this,$t).clear();for(const i of e)i.isEmpty()||(u(this,$t).add(i),i.select());E(this,at,Ai).call(this,{hasSelectedEditor:this.hasSelection})},St(Il,"TRANSLATE_SMALL",1),St(Il,"TRANSLATE_BIG",10);let Fo=Il;var Ze,ta,Dn,eu,ea,$i,iu,ia,Oi,Ua,Qr,na,Xs,In,Zc,lp;const Si=class Si{constructor(e){w(this,In);w(this,Ze,null);w(this,ta,!1);w(this,Dn,null);w(this,eu,null);w(this,ea,null);w(this,$i,null);w(this,iu,!1);w(this,ia,null);w(this,Oi,null);w(this,Ua,null);w(this,Qr,null);w(this,na,!1);S(this,Oi,e),S(this,na,e._uiManager.useNewAltTextFlow),u(Si,Xs)||S(Si,Xs,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Si._l10n??(Si._l10n=e)}async render(){const e=S(this,Dn,document.createElement("button"));e.className="altText",e.tabIndex="0";const i=S(this,eu,document.createElement("span"));e.append(i),u(this,na)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(Si,Xs).missing),i.setAttribute("data-l10n-id",u(Si,Xs)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const a=u(this,Oi)._uiManager._signal;e.addEventListener("contextmenu",En,{signal:a}),e.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:a});const r=l=>{l.preventDefault(),u(this,Oi)._uiManager.editAltText(u(this,Oi)),u(this,na)&&u(this,Oi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,In,Zc)}})};return e.addEventListener("click",r,{capture:!0,signal:a}),e.addEventListener("keydown",l=>{l.target===e&&l.key==="Enter"&&(S(this,iu,!0),r(l))},{signal:a}),await E(this,In,lp).call(this),e}finish(){u(this,Dn)&&(u(this,Dn).focus({focusVisible:u(this,iu)}),S(this,iu,!1))}isEmpty(){return u(this,na)?u(this,Ze)===null:!u(this,Ze)&&!u(this,ta)}hasData(){return u(this,na)?u(this,Ze)!==null||!!u(this,Ua):this.isEmpty()}get guessedText(){return u(this,Ua)}async setGuessedText(e){u(this,Ze)===null&&(S(this,Ua,e),S(this,Qr,await Si._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),E(this,In,lp).call(this))}toggleAltTextBadge(e=!1){var i;if(!u(this,na)||u(this,Ze)){(i=u(this,ia))==null||i.remove(),S(this,ia,null);return}if(!u(this,ia)){const a=S(this,ia,document.createElement("div"));a.className="noAltTextBadge",u(this,Oi).div.append(a)}u(this,ia).classList.toggle("hidden",!e)}serialize(e){let i=u(this,Ze);return!e&&u(this,Ua)===i&&(i=u(this,Qr)),{altText:i,decorative:u(this,ta),guessedText:u(this,Ua),textWithDisclaimer:u(this,Qr)}}get data(){return{altText:u(this,Ze),decorative:u(this,ta)}}set data({altText:e,decorative:i,guessedText:a,textWithDisclaimer:r,cancel:l=!1}){a&&(S(this,Ua,a),S(this,Qr,r)),!(u(this,Ze)===e&&u(this,ta)===i)&&(l||(S(this,Ze,e),S(this,ta,i)),E(this,In,lp).call(this))}toggle(e=!1){u(this,Dn)&&(!e&&u(this,$i)&&(clearTimeout(u(this,$i)),S(this,$i,null)),u(this,Dn).disabled=!e)}shown(){u(this,Oi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,In,Zc)}})}destroy(){var e,i;(e=u(this,Dn))==null||e.remove(),S(this,Dn,null),S(this,eu,null),S(this,ea,null),(i=u(this,ia))==null||i.remove(),S(this,ia,null)}};Ze=new WeakMap,ta=new WeakMap,Dn=new WeakMap,eu=new WeakMap,ea=new WeakMap,$i=new WeakMap,iu=new WeakMap,ia=new WeakMap,Oi=new WeakMap,Ua=new WeakMap,Qr=new WeakMap,na=new WeakMap,Xs=new WeakMap,In=new WeakSet,Zc=function(){return u(this,Ze)&&"added"||u(this,Ze)===null&&this.guessedText&&"review"||"missing"},lp=async function(){var r,l,c;const e=u(this,Dn);if(!e)return;if(u(this,na)){if(e.classList.toggle("done",!!u(this,Ze)),e.setAttribute("data-l10n-id",u(Si,Xs)[u(this,In,Zc)]),(r=u(this,eu))==null||r.setAttribute("data-l10n-id",u(Si,Xs)[`${u(this,In,Zc)}-label`]),!u(this,Ze)){(l=u(this,ea))==null||l.remove();return}}else{if(!u(this,Ze)&&!u(this,ta)){e.classList.remove("done"),(c=u(this,ea))==null||c.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=u(this,ea);if(!i){S(this,ea,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${u(this,Oi).id}`;const h=100,f=u(this,Oi)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(u(this,$i)),S(this,$i,null)},{once:!0}),e.addEventListener("mouseenter",()=>{S(this,$i,setTimeout(()=>{S(this,$i,null),u(this,ea).classList.add("show"),u(this,Oi)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),e.addEventListener("mouseleave",()=>{var p;u(this,$i)&&(clearTimeout(u(this,$i)),S(this,$i,null)),(p=u(this,ea))==null||p.classList.remove("show")},{signal:f})}u(this,ta)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=u(this,Ze)),i.parentNode||e.append(i);const a=u(this,Oi).getImageForAltText();a==null||a.setAttribute("aria-describedby",i.id)},w(Si,Xs,null),St(Si,"_l10n",null);let Op=Si;var Wr,On,fe,nu,Jr,ai,to,Ys,Mh,eo,$s,kh,io,Ha,aa,au,su,gn,Lh,Ip,kt,eb,Dh,ib,nb,w_,R_,ab,sb,rb,C_,ob,M_,k_,L_,lb,Qc;const Vt=class Vt{constructor(e){w(this,kt);w(this,Wr,null);w(this,On,null);w(this,fe,null);w(this,nu,!1);w(this,Jr,!1);w(this,ai,null);w(this,to,null);w(this,Ys,null);w(this,Mh,"");w(this,eo,!1);w(this,$s,null);w(this,kh,!1);w(this,io,!1);w(this,Ha,!1);w(this,aa,null);w(this,au,0);w(this,su,0);w(this,gn,null);St(this,"_editToolbar",null);St(this,"_initialOptions",Object.create(null));St(this,"_initialData",null);St(this,"_isVisible",!0);St(this,"_uiManager",null);St(this,"_focusEventsAllowed",!0);w(this,Lh,!1);w(this,Ip,Vt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:a,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,r],this.pageTranslation=[l,c];const[h,f]=this.parentDimensions;this.x=e.x/h,this.y=e.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Vt.prototype._resizeWithKeyboard,i=Fo.TRANSLATE_SMALL,a=Fo.TRANSLATE_BIG;return Ut(this,"_resizerKeyboardManager",new kd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,a]}],[["Escape","mac+Escape"],Vt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ut(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const i=new LR({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});i.annotationElementId=e.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(e,i){if(Vt._l10n??(Vt._l10n=e),Vt._l10nResizer||(Vt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Vt._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);Vt._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,i){oe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Lh)}set _isDraggable(e){var i;S(this,Lh,e),(i=this.div)==null||i.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(e*2),this.y+=this.width*e/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(e*2),this.y-=this.width*e/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,Ip)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):E(this,kt,Qc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,eo)?S(this,eo,!1):this.parent.setSelected(this))}focusout(e){var a;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(e.preventDefault(),(a=this.parent)!=null&&a.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,i,a,r){const[l,c]=this.parentDimensions;[a,r]=this.screenToPageTranslation(a,r),this.x=(e+a)/l,this.y=(i+r)/c,this.fixAndSetPosition()}translate(e,i){E(this,kt,eb).call(this,this.parentDimensions,e,i)}translateInPage(e,i){u(this,$s)||S(this,$s,[this.x,this.y]),E(this,kt,eb).call(this,this.pageDimensions,e,i),this.div.scrollIntoView({block:"nearest"})}drag(e,i){u(this,$s)||S(this,$s,[this.x,this.y]);const[a,r]=this.parentDimensions;if(this.x+=e/a,this.y+=i/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,f]=this.getBaseTranslation();l+=h,c+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,$s)&&(u(this,$s)[0]!==this.x||u(this,$s)[1]!==this.y)}getBaseTranslation(){const[e,i]=this.parentDimensions,{_borderLineWidth:a}=Vt,r=a/e,l=a/i;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[i,a]=this.pageDimensions;let{x:r,y:l,width:c,height:h}=this;if(c*=i,h*=a,r*=i,l*=a,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(i-c,r)),l=Math.max(0,Math.min(a-h,l));break;case 90:r=Math.max(0,Math.min(i-h,r)),l=Math.min(a,Math.max(c,l));break;case 180:r=Math.min(i,Math.max(c,r)),l=Math.min(a,Math.max(h,l));break;case 270:r=Math.min(i,Math.max(h,r)),l=Math.max(0,Math.min(a-c,l));break}this.x=r/=i,this.y=l/=a;const[f,p]=this.getBaseTranslation();r+=f,l+=p;const{style:v}=this.div;v.left=`${(100*r).toFixed(2)}%`,v.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,i){var a;return E(a=Vt,Dh,ib).call(a,e,i,this.parentRotation)}pageTranslationToScreen(e,i){var a;return E(a=Vt,Dh,ib).call(a,e,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[i,a]}=this;return[i*e,a*e]}setDims(e,i){const[a,r]=this.parentDimensions;this.div.style.width=`${(100*e/a).toFixed(2)}%`,u(this,Jr)||(this.div.style.height=`${(100*i/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:i,width:a}=e,r=a.endsWith("%"),l=!u(this,Jr)&&i.endsWith("%");if(r&&l)return;const[c,h]=this.parentDimensions;r||(e.width=`${(100*parseFloat(a)/c).toFixed(2)}%`),!u(this,Jr)&&!l&&(e.height=`${(100*parseFloat(i)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=u(this,fe))==null||e.finish()}async addEditToolbar(){return this._editToolbar||u(this,io)?this._editToolbar:(this._editToolbar=new Vv(this),this.div.append(this._editToolbar.render()),u(this,fe)&&await this._editToolbar.addAltText(u(this,fe)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,fe))==null||e.destroy())}addContainer(e){var a;const i=(a=this._editToolbar)==null?void 0:a.div;i?i.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,fe)||(Op.initialize(Vt._l10n),S(this,fe,new Op(this)),u(this,Wr)&&(u(this,fe).data=u(this,Wr),S(this,Wr,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,fe))==null?void 0:e.data}set altTextData(e){u(this,fe)&&(u(this,fe).data=e)}get guessedAltText(){var e;return(e=u(this,fe))==null?void 0:e.guessedText}async setGuessedAltText(e){var i;await((i=u(this,fe))==null?void 0:i.setGuessedText(e))}serializeAltText(e){var i;return(i=u(this,fe))==null?void 0:i.serialize(e)}hasAltText(){return!!u(this,fe)&&!u(this,fe).isEmpty()}hasAltTextData(){var e;return((e=u(this,fe))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,nu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),E(this,kt,ob).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[a,r]=this.getInitialTranslation();return this.translate(a,r),Dp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:i}=Ei.platform;if(e.button!==0||e.ctrlKey&&i){e.preventDefault();return}if(S(this,eo,!0),this._isDraggable){E(this,kt,C_).call(this,e);return}E(this,kt,rb).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){u(this,aa)&&clearTimeout(u(this,aa)),S(this,aa,setTimeout(()=>{var e;S(this,aa,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,i,a){e.changeParent(this),this.x=i,this.y=a,this.fixAndSetPosition()}getRect(e,i,a=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[h,f]=this.pageTranslation,p=e/r,v=i/r,b=this.x*l,y=this.y*c,_=this.width*l,T=this.height*c;switch(a){case 0:return[b+p+h,c-y-v-T+f,b+p+_+h,c-y-v+f];case 90:return[b+v+h,c-y+p+f,b+v+T+h,c-y+p+_+f];case 180:return[b-p-_+h,c-y+v+f,b-p+h,c-y+v+T+f];case 270:return[b-v-T+h,c-y-p-_+f,b-v+h,c-y-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,i){const[a,r,l,c]=e,h=l-a,f=c-r;switch(this.rotation){case 0:return[a,i-c,h,f];case 90:return[a,i-r,f,h];case 180:return[l,i-r,h,f];case 270:return[l,i-c,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){S(this,io,!0)}disableEditMode(){S(this,io,!1)}isInEditMode(){return u(this,io)}shouldGetKeyboardEvents(){return u(this,Ha)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){E(this,kt,ob).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,i=null){oe("An editor must be serializable")}static async deserialize(e,i,a){const r=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:a});r.rotation=e.rotation,S(r,Wr,e.accessibilityData);const[l,c]=r.pageDimensions,[h,f,p,v]=r.getRectInCurrentCoords(e.rect,c);return r.x=h/l,r.y=f/c,r.width=p/l,r.height=v/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=u(this,Ys))==null||e.abort(),S(this,Ys,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,aa)&&(clearTimeout(u(this,aa)),S(this,aa,null)),E(this,kt,Qc).call(this),this.removeEditToolbar(),u(this,gn)){for(const i of u(this,gn).values())clearTimeout(i);S(this,gn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,kt,w_).call(this),u(this,ai).classList.remove("hidden"),Dp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),S(this,to,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=u(this,ai).children;if(!u(this,On)){S(this,On,Array.from(i));const c=E(this,kt,M_).bind(this),h=E(this,kt,k_).bind(this),f=this._uiManager._signal;for(const p of u(this,On)){const v=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:f}),p.addEventListener("blur",h,{signal:f}),p.addEventListener("focus",E(this,kt,L_).bind(this,v),{signal:f}),p.setAttribute("data-l10n-id",Vt._l10nResizer[v])}}const a=u(this,On)[0];let r=0;for(const c of i){if(c===a)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(u(this,On).length/4);if(l!==r){if(l<r)for(let h=0;h<r-l;h++)u(this,ai).append(u(this,ai).firstChild);else if(l>r)for(let h=0;h<l-r;h++)u(this,ai).firstChild.before(u(this,ai).lastChild);let c=0;for(const h of i){const p=u(this,On)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Vt._l10nResizer[p])}}E(this,kt,lb).call(this,0),S(this,Ha,!0),u(this,ai).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,i){u(this,Ha)&&E(this,kt,sb).call(this,u(this,Mh),{movementX:e,movementY:i})}_stopResizingWithKeyboard(){E(this,kt,Qc).call(this),this.div.focus()}select(){var e,i,a;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(i=this._editToolbar)==null||i.show(),(a=u(this,fe))==null||a.toggleAltTextBadge(!1)}unselect(){var e,i,a,r,l;(e=u(this,ai))==null||e.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(a=this.div)!=null&&a.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=u(this,fe))==null||l.toggleAltTextBadge(!0)}updateParams(e,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,kh)}set isEditing(e){S(this,kh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,i){S(this,Jr,!0);const a=e/i,{style:r}=this.div;r.aspectRatio=a,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,i=!1){if(i){u(this,gn)||S(this,gn,new Map);const{action:a}=e;let r=u(this,gn).get(a);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),u(this,gn).delete(a),u(this,gn).size===0&&S(this,gn,null)},Vt._telemetryTimeout),u(this,gn).set(a,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),S(this,nu,!1)}disable(){this.div&&(this.div.tabIndex=-1),S(this,nu,!0)}renderAnnotationElement(e){let i=e.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),e.container.prepend(i);else if(i.nodeName==="CANVAS"){const a=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),a.before(i)}return i}resetAnnotationElement(e){const{firstChild:i}=e.container;(i==null?void 0:i.nodeName)==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};Wr=new WeakMap,On=new WeakMap,fe=new WeakMap,nu=new WeakMap,Jr=new WeakMap,ai=new WeakMap,to=new WeakMap,Ys=new WeakMap,Mh=new WeakMap,eo=new WeakMap,$s=new WeakMap,kh=new WeakMap,io=new WeakMap,Ha=new WeakMap,aa=new WeakMap,au=new WeakMap,su=new WeakMap,gn=new WeakMap,Lh=new WeakMap,Ip=new WeakMap,kt=new WeakSet,eb=function([e,i],a,r){[a,r]=this.screenToPageTranslation(a,r),this.x+=a/e,this.y+=r/i,this.fixAndSetPosition()},Dh=new WeakSet,ib=function(e,i,a){switch(a){case 90:return[i,-e];case 180:return[-e,-i];case 270:return[-i,e];default:return[e,i]}},nb=function(e){switch(e){case 90:{const[i,a]=this.pageDimensions;return[0,-i/a,a/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,a]=this.pageDimensions;return[0,i/a,-a/i,0]}default:return[1,0,0,1]}},w_=function(){if(u(this,ai))return;S(this,ai,document.createElement("div")),u(this,ai).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const a of e){const r=document.createElement("div");u(this,ai).append(r),r.classList.add("resizer",a),r.setAttribute("data-resizer-name",a),r.addEventListener("pointerdown",E(this,kt,R_).bind(this,a),{signal:i}),r.addEventListener("contextmenu",En,{signal:i}),r.tabIndex=-1}this.div.prepend(u(this,ai))},R_=function(e,i){var T;i.preventDefault();const{isMac:a}=Ei.platform;if(i.button!==0||i.ctrlKey&&a)return;(T=u(this,fe))==null||T.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,kt,sb).bind(this,e),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",En,{signal:c});const h=this.x,f=this.y,p=this.width,v=this.height,b=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const _=()=>{var R;l.abort(),this.parent.togglePointerEvents(!0),(R=u(this,fe))==null||R.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=b,this.div.style.cursor=y,E(this,kt,ab).call(this,h,f,p,v)};window.addEventListener("pointerup",_,{signal:c}),window.addEventListener("blur",_,{signal:c})},ab=function(e,i,a,r){const l=this.x,c=this.y,h=this.width,f=this.height;l===e&&c===i&&h===a&&f===r||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=l,this.y=c;const[p,v]=this.parentDimensions;this.setDims(p*h,v*f),this.fixAndSetPosition()},undo:()=>{this.width=a,this.height=r,this.x=e,this.y=i;const[p,v]=this.parentDimensions;this.setDims(p*a,v*r),this.fixAndSetPosition()},mustExec:!0})},sb=function(e,i){const[a,r]=this.parentDimensions,l=this.x,c=this.y,h=this.width,f=this.height,p=Vt.MIN_SIZE/a,v=Vt.MIN_SIZE/r,b=q=>Math.round(q*1e4)/1e4,y=E(this,kt,nb).call(this,this.rotation),_=(q,W)=>[y[0]*q+y[2]*W,y[1]*q+y[3]*W],T=E(this,kt,nb).call(this,360-this.rotation),R=(q,W)=>[T[0]*q+T[2]*W,T[1]*q+T[3]*W];let k,C,D=!1,N=!1;switch(e){case"topLeft":D=!0,k=(q,W)=>[0,0],C=(q,W)=>[q,W];break;case"topMiddle":k=(q,W)=>[q/2,0],C=(q,W)=>[q/2,W];break;case"topRight":D=!0,k=(q,W)=>[q,0],C=(q,W)=>[0,W];break;case"middleRight":N=!0,k=(q,W)=>[q,W/2],C=(q,W)=>[0,W/2];break;case"bottomRight":D=!0,k=(q,W)=>[q,W],C=(q,W)=>[0,0];break;case"bottomMiddle":k=(q,W)=>[q/2,W],C=(q,W)=>[q/2,0];break;case"bottomLeft":D=!0,k=(q,W)=>[0,W],C=(q,W)=>[q,0];break;case"middleLeft":N=!0,k=(q,W)=>[0,W/2],C=(q,W)=>[q,W/2];break}const z=k(h,f),U=C(h,f);let G=_(...U);const X=b(l+G[0]),Q=b(c+G[1]);let it=1,ot=1,[st,mt]=this.screenToPageTranslation(i.movementX,i.movementY);if([st,mt]=R(st/a,mt/r),D){const q=Math.hypot(h,f);it=ot=Math.max(Math.min(Math.hypot(U[0]-z[0]-st,U[1]-z[1]-mt)/q,1/h,1/f),p/h,v/f)}else N?it=Math.max(p,Math.min(1,Math.abs(U[0]-z[0]-st)))/h:ot=Math.max(v,Math.min(1,Math.abs(U[1]-z[1]-mt)))/f;const vt=b(h*it),ft=b(f*ot);G=_(...C(vt,ft));const ht=X-G[0],B=Q-G[1];this.width=vt,this.height=ft,this.x=ht,this.y=B,this.setDims(a*vt,r*ft),this.fixAndSetPosition()},rb=function(e){const{isMac:i}=Ei.platform;e.ctrlKey&&!i||e.shiftKey||e.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},C_=function(e){const{isSelected:i}=this;this._uiManager.setUpDragSession();const a=new AbortController,r=this._uiManager.combinedSignal(a);if(i){this.div.classList.add("moving"),S(this,au,e.clientX),S(this,su,e.clientY);const c=h=>{const{clientX:f,clientY:p}=h,[v,b]=this.screenToPageTranslation(f-u(this,au),p-u(this,su));S(this,au,f),S(this,su,p),this._uiManager.dragSelectedEditors(v,b)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const l=()=>{a.abort(),i&&this.div.classList.remove("moving"),S(this,eo,!1),this._uiManager.endDragSession()||E(this,kt,rb).call(this,e)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},ob=function(){if(u(this,Ys)||!this.div)return;S(this,Ys,new AbortController);const e=this._uiManager.combinedSignal(u(this,Ys));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},M_=function(e){Vt._resizerKeyboardManager.exec(this,e)},k_=function(e){var i;u(this,Ha)&&((i=e.relatedTarget)==null?void 0:i.parentNode)!==u(this,ai)&&E(this,kt,Qc).call(this)},L_=function(e){S(this,Mh,u(this,Ha)?e:"")},lb=function(e){if(u(this,On))for(const i of u(this,On))i.tabIndex=e},Qc=function(){if(S(this,Ha,!1),E(this,kt,lb).call(this,-1),u(this,to)){const{savedX:e,savedY:i,savedWidth:a,savedHeight:r}=u(this,to);E(this,kt,ab).call(this,e,i,a,r),S(this,to,null)}},w(Vt,Dh),St(Vt,"_l10n",null),St(Vt,"_l10nResizer",null),St(Vt,"_borderLineWidth",-1),St(Vt,"_colorManager",new $v),St(Vt,"_zIndex",1),St(Vt,"_telemetryTimeout",1e3);let Zt=Vt;class LR extends Zt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const CS=3285377520,pn=4294901760,Kn=65535;class D_{constructor(e){this.h1=e?e&4294967295:CS,this.h2=e?e&4294967295:CS}update(e){let i,a;if(typeof e=="string"){i=new Uint8Array(e.length*2),a=0;for(let R=0,k=e.length;R<k;R++){const C=e.charCodeAt(R);C<=255?i[a++]=C:(i[a++]=C>>>8,i[a++]=C&255)}}else if(ArrayBuffer.isView(e))i=e.slice(),a=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=a>>2,l=a-r*4,c=new Uint32Array(i.buffer,0,r);let h=0,f=0,p=this.h1,v=this.h2;const b=3432918353,y=461845907,_=b&Kn,T=y&Kn;for(let R=0;R<r;R++)R&1?(h=c[R],h=h*b&pn|h*_&Kn,h=h<<15|h>>>17,h=h*y&pn|h*T&Kn,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(f=c[R],f=f*b&pn|f*_&Kn,f=f<<15|f>>>17,f=f*y&pn|f*T&Kn,v^=f,v=v<<13|v>>>19,v=v*5+3864292196);switch(h=0,l){case 3:h^=i[r*4+2]<<16;case 2:h^=i[r*4+1]<<8;case 1:h^=i[r*4],h=h*b&pn|h*_&Kn,h=h<<15|h>>>17,h=h*y&pn|h*T&Kn,r&1?p^=h:v^=h}this.h1=p,this.h2=v}hexdigest(){let e=this.h1,i=this.h2;return e^=i>>>1,e=e*3981806797&pn|e*36045&Kn,i=i*4283543511&pn|((i<<16|e>>>16)*2950163797&pn)>>>16,e^=i>>>1,e=e*444984403&pn|e*60499&Kn,i=i*3301882366&pn|((i<<16|e>>>16)*3120437893&pn)>>>16,e^=i>>>1,(e>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const ub=Object.freeze({map:null,hash:"",transfer:void 0});var no,ao,Qe,Gp,O_;class f0{constructor(){w(this,Gp);w(this,no,!1);w(this,ao,null);w(this,Qe,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,i){const a=u(this,Qe).get(e);return a===void 0?i:Object.assign(i,a)}getRawValue(e){return u(this,Qe).get(e)}remove(e){if(u(this,Qe).delete(e),u(this,Qe).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of u(this,Qe).values())if(i instanceof Zt)return;this.onAnnotationEditor(null)}}setValue(e,i){const a=u(this,Qe).get(e);let r=!1;if(a!==void 0)for(const[l,c]of Object.entries(i))a[l]!==c&&(r=!0,a[l]=c);else r=!0,u(this,Qe).set(e,i);r&&E(this,Gp,O_).call(this),i instanceof Zt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(e){return u(this,Qe).has(e)}getAll(){return u(this,Qe).size>0?o0(u(this,Qe)):null}setAll(e){for(const[i,a]of Object.entries(e))this.setValue(i,a)}get size(){return u(this,Qe).size}resetModified(){u(this,no)&&(S(this,no,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new N_(this)}get serializable(){if(u(this,Qe).size===0)return ub;const e=new Map,i=new D_,a=[],r=Object.create(null);let l=!1;for(const[c,h]of u(this,Qe)){const f=h instanceof Zt?h.serialize(!1,r):h;f&&(e.set(c,f),i.update(`${c}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const c of e.values())c.bitmap&&a.push(c.bitmap);return e.size>0?{map:e,hash:i.hexdigest(),transfer:a}:ub}get editorStats(){let e=null;const i=new Map;for(const a of u(this,Qe).values()){if(!(a instanceof Zt))continue;const r=a.telemetryFinalData;if(!r)continue;const{type:l}=r;i.has(l)||i.set(l,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const c=e[l]||(e[l]=new Map);for(const[h,f]of Object.entries(r)){if(h==="type")continue;let p=c.get(h);p||(p=new Map,c.set(h,p));const v=p.get(f)??0;p.set(f,v+1)}}for(const[a,r]of i)e[a]=r.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){S(this,ao,null)}get modifiedIds(){if(u(this,ao))return u(this,ao);const e=[];for(const i of u(this,Qe).values())!(i instanceof Zt)||!i.annotationElementId||!i.serialize()||e.push(i.annotationElementId);return S(this,ao,{ids:new Set(e),hash:e.join(",")})}}no=new WeakMap,ao=new WeakMap,Qe=new WeakMap,Gp=new WeakSet,O_=function(){u(this,no)||(S(this,no,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Oh;class N_ extends f0{constructor(i){super();w(this,Oh);const{map:a,hash:r,transfer:l}=i.serializable,c=structuredClone(a,l?{transfer:l}:null);S(this,Oh,{map:c,hash:r,transfer:l})}get print(){oe("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Oh)}get modifiedIds(){return Ut(this,"modifiedIds",{ids:new Set,hash:""})}}Oh=new WeakMap;var ru;class DR{constructor({ownerDocument:e=globalThis.document,styleElement:i=null}){w(this,ru,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(e,i.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,ru).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:i}){if(!(!e||u(this,ru).has(e.loadedName))){if(Be(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:r,style:l}=e,c=new FontFace(a,r,l);this.addNativeFontFace(c);try{await c.load(),u(this,ru).add(a),i==null||i(e)}catch{Dt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}oe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const a=e.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(r){throw Dt(`Failed to load font '${a.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const i=e.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const r=this._queueLoadingCallback(a);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var i;const e=!!((i=this._document)!=null&&i.fonts);return Ut(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(vi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ut(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function i(){for(Be(!r.done,"completeRequest() cannot be called twice."),r.done=!0;a.length>0&&a[0].done;){const l=a.shift();setTimeout(l.callback,0)}}const{loadingRequests:a}=this,r={done:!1,complete:i,callback:e};return a.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ut(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,i){function a(z,U){return z.charCodeAt(U)<<24|z.charCodeAt(U+1)<<16|z.charCodeAt(U+2)<<8|z.charCodeAt(U+3)&255}function r(z,U,G,X){const Q=z.substring(0,U),it=z.substring(U+G);return Q+X+it}let l,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let p=0;function v(z,U){if(++p>30){Dt("Load test font never loaded."),U();return}if(f.font="30px "+z,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(v.bind(null,z,U))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,b.length,b);const T=16,R=1482184792;let k=a(y,T);for(l=0,c=b.length-3;l<c;l+=4)k=k-R+a(b,l)|0;l<b.length&&(k=k-R+a(b+"XXX",l)|0),y=r(y,T,4,gR(k));const C=`url(data:font/opentype;base64,${btoa(y)});`,D=`@font-face {font-family:"${b}";src:${C}}`;this.insertRule(D);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const z of[e.loadedName,b]){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=z,N.append(U)}this._document.body.append(N),v(b,()=>{N.remove(),i.complete()})}}ru=new WeakMap;class OR{constructor(e,{disableFontFace:i=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=i===!0,this._inspectFont=a}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const a={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(a.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,a)}return(i=this._inspectFont)==null||i.call(this,this),e}createFontFaceRule(){var a;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${_R(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(a=this._inspectFont)==null||a.call(this,this,e),i}getPathGenerator(e,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let a;try{a=e.get(this.loadedName+"_path_"+i)}catch(l){Dt(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(a)||a.length===0)return this.compiledGlyphs[i]=function(l,c){};const r=[];for(let l=0,c=a.length;l<c;)switch(a[l++]){case La.BEZIER_CURVE_TO:{const[h,f,p,v,b,y]=a.slice(l,l+6);r.push(_=>_.bezierCurveTo(h,f,p,v,b,y)),l+=6}break;case La.MOVE_TO:{const[h,f]=a.slice(l,l+2);r.push(p=>p.moveTo(h,f)),l+=2}break;case La.LINE_TO:{const[h,f]=a.slice(l,l+2);r.push(p=>p.lineTo(h,f)),l+=2}break;case La.QUADRATIC_CURVE_TO:{const[h,f,p,v]=a.slice(l,l+4);r.push(b=>b.quadraticCurveTo(h,f,p,v)),l+=4}break;case La.RESTORE:r.push(h=>h.restore());break;case La.SAVE:r.push(h=>h.save());break;case La.SCALE:Be(r.length===2,"Scale command is only valid at the third position.");break;case La.TRANSFORM:{const[h,f,p,v,b,y]=a.slice(l,l+6);r.push(_=>_.transform(h,f,p,v,b,y)),l+=6}break;case La.TRANSLATE:{const[h,f]=a.slice(l,l+2);r.push(p=>p.translate(h,f)),l+=2}break}return this.compiledGlyphs[i]=function(c,h){r[0](c),r[1](c),c.scale(h,-h);for(let f=2,p=r.length;f<p;f++)r[f](c)}}}var Nh;class j_{constructor({enableHWA:e=!1}){w(this,Nh,!1);S(this,Nh,e)}create(e,i){if(e<=0||i<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(e,i);return{canvas:a,context:a.getContext("2d",{willReadFrequently:!u(this,Nh)})}}reset(e,i,a){if(!e.canvas)throw new Error("Canvas is not specified");if(i<=0||a<=0)throw new Error("Invalid canvas size");e.canvas.width=i,e.canvas.height=a}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,i){oe("Abstract method `_createCanvas` called.")}}Nh=new WeakMap;class NR extends j_{constructor({ownerDocument:e=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=e}_createCanvas(e,i){const a=this._document.createElement("canvas");return a.width=e,a.height=i,a}}class z_{constructor({baseUrl:e=null,isCompressed:i=!0}){this.baseUrl=e,this.isCompressed=i}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const i=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(i).then(a=>({cMapData:a,isCompressed:this.isCompressed})).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(e){oe("Abstract method `_fetch` called.")}}class P_ extends z_{async _fetch(e){const i=await sm(e,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):am(i)}}class B_{addFilter(e){return"none"}addHCMFilter(e,i){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,i,a,r,l){return"none"}destroy(e=!1){}}var so,ro,sa,Fa,fi,qp,oo,rt,hi,Nl,jl,up,zl,U_,cb,Pl,Wc,Jc,hb,th;class jR extends B_{constructor({docId:i,ownerDocument:a=globalThis.document}){super();w(this,rt);w(this,so);w(this,ro);w(this,sa);w(this,Fa);w(this,fi);w(this,qp);w(this,oo,0);S(this,Fa,i),S(this,fi,a)}addFilter(i){if(!i)return"none";let a=u(this,rt,hi).get(i);if(a)return a;const[r,l,c]=E(this,rt,up).call(this,i),h=i.length===1?r:`${r}${l}${c}`;if(a=u(this,rt,hi).get(h),a)return u(this,rt,hi).set(i,a),a;const f=`g_${u(this,Fa)}_transfer_map_${yi(this,oo)._++}`,p=E(this,rt,zl).call(this,f);u(this,rt,hi).set(i,p),u(this,rt,hi).set(h,p);const v=E(this,rt,Pl).call(this,f);return E(this,rt,Jc).call(this,r,l,c,v),p}addHCMFilter(i,a){var T;const r=`${i}-${a}`,l="base";let c=u(this,rt,Nl).get(l);if((c==null?void 0:c.key)===r||(c?((T=c.filter)==null||T.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},u(this,rt,Nl).set(l,c)),!i||!a))return c.url;const h=E(this,rt,th).call(this,i);i=dt.makeHexColor(...h);const f=E(this,rt,th).call(this,a);if(a=dt.makeHexColor(...f),u(this,rt,jl).style.color="",i==="#000000"&&a==="#ffffff"||i===a)return c.url;const p=new Array(256);for(let R=0;R<=255;R++){const k=R/255;p[R]=k<=.03928?k/12.92:((k+.055)/1.055)**2.4}const v=p.join(","),b=`g_${u(this,Fa)}_hcm_filter`,y=c.filter=E(this,rt,Pl).call(this,b);E(this,rt,Jc).call(this,v,v,v,y),E(this,rt,cb).call(this,y);const _=(R,k)=>{const C=h[R]/255,D=f[R]/255,N=new Array(k+1);for(let z=0;z<=k;z++)N[z]=C+z/k*(D-C);return N.join(",")};return E(this,rt,Jc).call(this,_(0,5),_(1,5),_(2,5),y),c.url=E(this,rt,zl).call(this,b),c.url}addAlphaFilter(i){let a=u(this,rt,hi).get(i);if(a)return a;const[r]=E(this,rt,up).call(this,[i]),l=`alpha_${r}`;if(a=u(this,rt,hi).get(l),a)return u(this,rt,hi).set(i,a),a;const c=`g_${u(this,Fa)}_alpha_map_${yi(this,oo)._++}`,h=E(this,rt,zl).call(this,c);u(this,rt,hi).set(i,h),u(this,rt,hi).set(l,h);const f=E(this,rt,Pl).call(this,c);return E(this,rt,hb).call(this,r,f),h}addLuminosityFilter(i){let a=u(this,rt,hi).get(i||"luminosity");if(a)return a;let r,l;if(i?([r]=E(this,rt,up).call(this,[i]),l=`luminosity_${r}`):l="luminosity",a=u(this,rt,hi).get(l),a)return u(this,rt,hi).set(i,a),a;const c=`g_${u(this,Fa)}_luminosity_map_${yi(this,oo)._++}`,h=E(this,rt,zl).call(this,c);u(this,rt,hi).set(i,h),u(this,rt,hi).set(l,h);const f=E(this,rt,Pl).call(this,c);return E(this,rt,U_).call(this,f),i&&E(this,rt,hb).call(this,r,f),h}addHighlightHCMFilter(i,a,r,l,c){var D;const h=`${a}-${r}-${l}-${c}`;let f=u(this,rt,Nl).get(i);if((f==null?void 0:f.key)===h||(f?((D=f.filter)==null||D.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},u(this,rt,Nl).set(i,f)),!a||!r))return f.url;const[p,v]=[a,r].map(E(this,rt,th).bind(this));let b=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),y=Math.round(.2126*v[0]+.7152*v[1]+.0722*v[2]),[_,T]=[l,c].map(E(this,rt,th).bind(this));y<b&&([b,y,_,T]=[y,b,T,_]),u(this,rt,jl).style.color="";const R=(N,z,U)=>{const G=new Array(256),X=(y-b)/U,Q=N/255,it=(z-N)/(255*U);let ot=0;for(let st=0;st<=U;st++){const mt=Math.round(b+st*X),vt=Q+st*it;for(let ft=ot;ft<=mt;ft++)G[ft]=vt;ot=mt+1}for(let st=ot;st<256;st++)G[st]=G[ot-1];return G.join(",")},k=`g_${u(this,Fa)}_hcm_${i}_filter`,C=f.filter=E(this,rt,Pl).call(this,k);return E(this,rt,cb).call(this,C),E(this,rt,Jc).call(this,R(_[0],T[0],5),R(_[1],T[1],5),R(_[2],T[2],5),C),f.url=E(this,rt,zl).call(this,k),f.url}destroy(i=!1){i&&u(this,rt,Nl).size!==0||(u(this,sa)&&(u(this,sa).parentNode.parentNode.remove(),S(this,sa,null)),u(this,ro)&&(u(this,ro).clear(),S(this,ro,null)),S(this,oo,0))}}so=new WeakMap,ro=new WeakMap,sa=new WeakMap,Fa=new WeakMap,fi=new WeakMap,qp=new WeakMap,oo=new WeakMap,rt=new WeakSet,hi=function(){return u(this,ro)||S(this,ro,new Map)},Nl=function(){return u(this,qp)||S(this,qp,new Map)},jl=function(){if(!u(this,sa)){const i=u(this,fi).createElement("div"),{style:a}=i;a.visibility="hidden",a.contain="strict",a.width=a.height=0,a.position="absolute",a.top=a.left=0,a.zIndex=-1;const r=u(this,fi).createElementNS(Oa,"svg");r.setAttribute("width",0),r.setAttribute("height",0),S(this,sa,u(this,fi).createElementNS(Oa,"defs")),i.append(r),r.append(u(this,sa)),u(this,fi).body.append(i)}return u(this,sa)},up=function(i){if(i.length===1){const p=i[0],v=new Array(256);for(let y=0;y<256;y++)v[y]=p[y]/255;const b=v.join(",");return[b,b,b]}const[a,r,l]=i,c=new Array(256),h=new Array(256),f=new Array(256);for(let p=0;p<256;p++)c[p]=a[p]/255,h[p]=r[p]/255,f[p]=l[p]/255;return[c.join(","),h.join(","),f.join(",")]},zl=function(i){if(u(this,so)===void 0){S(this,so,"");const a=u(this,fi).URL;a!==u(this,fi).baseURI&&(rm(a)?Dt('#createUrl: ignore "data:"-URL for performance reasons.'):S(this,so,a.split("#",1)[0]))}return`url(${u(this,so)}#${i})`},U_=function(i){const a=u(this,fi).createElementNS(Oa,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(a)},cb=function(i){const a=u(this,fi).createElementNS(Oa,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(a)},Pl=function(i){const a=u(this,fi).createElementNS(Oa,"filter");return a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("id",i),u(this,rt,jl).append(a),a},Wc=function(i,a,r){const l=u(this,fi).createElementNS(Oa,a);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),i.append(l)},Jc=function(i,a,r,l){const c=u(this,fi).createElementNS(Oa,"feComponentTransfer");l.append(c),E(this,rt,Wc).call(this,c,"feFuncR",i),E(this,rt,Wc).call(this,c,"feFuncG",a),E(this,rt,Wc).call(this,c,"feFuncB",r)},hb=function(i,a){const r=u(this,fi).createElementNS(Oa,"feComponentTransfer");a.append(r),E(this,rt,Wc).call(this,r,"feFuncA",i)},th=function(i){return u(this,rt,jl).style.color=i,d0(getComputedStyle(u(this,rt,jl)).getPropertyValue("color"))};class H_{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(a=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(e){oe("Abstract method `_fetch` called.")}}class F_ extends H_{async _fetch(e){const i=await sm(e,"arraybuffer");return new Uint8Array(i)}}if(vi){var db=Promise.withResolvers(),hh=null;(async()=>{const e=await Zf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Zf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await Zf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Zf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,c;return new Map(Object.entries({fs:e,http:i,https:a,url:r,canvas:l,path2d:c}))})().then(e=>{hh=e,db.resolve()},e=>{Dt(`loadPackages: ${e}`),hh=new Map,db.resolve()})}class dr{static get promise(){return db.promise}static get(e){return hh==null?void 0:hh.get(e)}}async function I_(m){const i=await dr.get("fs").promises.readFile(m);return new Uint8Array(i)}class zR extends B_{}class PR extends j_{_createCanvas(e,i){return dr.get("canvas").createCanvas(e,i)}}class BR extends z_{async _fetch(e){return I_(e)}}class UR extends H_{async _fetch(e){return I_(e)}}const _i={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function fb(m,e){if(!e)return;const i=e[2]-e[0],a=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],i,a),m.clip(r)}class p0{getPattern(){oe("Abstract method `getPattern` called.")}}class HR extends p0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let i;this._type==="axial"?i=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)i.addColorStop(a[0],a[1]);return i}getPattern(e,i,a,r){let l;if(r===_i.STROKE||r===_i.FILL){const c=i.current.getClippedPathBoundingBox(r,me(e))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,p=i.cachedCanvases.getCanvas("pattern",h,f),v=p.context;v.clearRect(0,0,v.canvas.width,v.canvas.height),v.beginPath(),v.rect(0,0,v.canvas.width,v.canvas.height),v.translate(-c[0],-c[1]),a=dt.transform(a,[1,0,0,1,c[0],c[1]]),v.transform(...i.baseTransform),this.matrix&&v.transform(...this.matrix),fb(v,this._bbox),v.fillStyle=this._createGradient(v),v.fill(),l=e.createPattern(p.canvas,"no-repeat");const b=new DOMMatrix(a);l.setTransform(b)}else fb(e,this._bbox),l=this._createGradient(e);return l}}function zv(m,e,i,a,r,l,c,h){const f=e.coords,p=e.colors,v=m.data,b=m.width*4;let y;f[i+1]>f[a+1]&&(y=i,i=a,a=y,y=l,l=c,c=y),f[a+1]>f[r+1]&&(y=a,a=r,r=y,y=c,c=h,h=y),f[i+1]>f[a+1]&&(y=i,i=a,a=y,y=l,l=c,c=y);const _=(f[i]+e.offsetX)*e.scaleX,T=(f[i+1]+e.offsetY)*e.scaleY,R=(f[a]+e.offsetX)*e.scaleX,k=(f[a+1]+e.offsetY)*e.scaleY,C=(f[r]+e.offsetX)*e.scaleX,D=(f[r+1]+e.offsetY)*e.scaleY;if(T>=D)return;const N=p[l],z=p[l+1],U=p[l+2],G=p[c],X=p[c+1],Q=p[c+2],it=p[h],ot=p[h+1],st=p[h+2],mt=Math.round(T),vt=Math.round(D);let ft,ht,B,q,W,Et,L,Y;for(let tt=mt;tt<=vt;tt++){if(tt<k){const Tt=tt<T?0:(T-tt)/(T-k);ft=_-(_-R)*Tt,ht=N-(N-G)*Tt,B=z-(z-X)*Tt,q=U-(U-Q)*Tt}else{let Tt;tt>D?Tt=1:k===D?Tt=0:Tt=(k-tt)/(k-D),ft=R-(R-C)*Tt,ht=G-(G-it)*Tt,B=X-(X-ot)*Tt,q=Q-(Q-st)*Tt}let J;tt<T?J=0:tt>D?J=1:J=(T-tt)/(T-D),W=_-(_-C)*J,Et=N-(N-it)*J,L=z-(z-ot)*J,Y=U-(U-st)*J;const lt=Math.round(Math.min(ft,W)),xt=Math.round(Math.max(ft,W));let ut=b*tt+lt*4;for(let Tt=lt;Tt<=xt;Tt++)J=(ft-Tt)/(ft-W),J<0?J=0:J>1&&(J=1),v[ut++]=ht-(ht-Et)*J|0,v[ut++]=B-(B-L)*J|0,v[ut++]=q-(q-Y)*J|0,v[ut++]=255}}function FR(m,e,i){const a=e.coords,r=e.colors;let l,c;switch(e.type){case"lattice":const h=e.verticesPerRow,f=Math.floor(a.length/h)-1,p=h-1;for(l=0;l<f;l++){let v=l*h;for(let b=0;b<p;b++,v++)zv(m,i,a[v],a[v+1],a[v+h],r[v],r[v+1],r[v+h]),zv(m,i,a[v+h+1],a[v+1],a[v+h],r[v+h+1],r[v+1],r[v+h])}break;case"triangles":for(l=0,c=a.length;l<c;l+=3)zv(m,i,a[l],a[l+1],a[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class IR extends p0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,i,a){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,v=Math.ceil(this._bounds[3])-f,b=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(v*e[1]*1.1)),3e3),_=p/b,T=v/y,R={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/_,scaleY:1/T},k=b+2*2,C=y+2*2,D=a.getCanvas("mesh",k,C),N=D.context,z=N.createImageData(b,y);if(i){const G=z.data;for(let X=0,Q=G.length;X<Q;X+=4)G[X]=i[0],G[X+1]=i[1],G[X+2]=i[2],G[X+3]=255}for(const G of this._figures)FR(z,G,R);return N.putImageData(z,2,2),{canvas:D.canvas,offsetX:h-2*_,offsetY:f-2*T,scaleX:_,scaleY:T}}getPattern(e,i,a,r){fb(e,this._bbox);let l;if(r===_i.SHADING)l=dt.singularValueDecompose2dScale(me(e));else if(l=dt.singularValueDecompose2dScale(i.baseTransform),this.matrix){const h=dt.singularValueDecompose2dScale(this.matrix);l=[l[0]*h[0],l[1]*h[1]]}const c=this._createMeshCanvas(l,r===_i.SHADING?null:this._background,i.cachedCanvases);return r!==_i.SHADING&&(e.setTransform(...i.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class GR extends p0{getPattern(){return"hotpink"}}function qR(m){switch(m[0]){case"RadialAxial":return new HR(m);case"Mesh":return new IR(m);case"Dummy":return new GR}throw new Error(`Unknown IR type: ${m[0]}`)}const MS={COLORED:1,UNCOLORED:2},Vp=class Vp{constructor(e,i,a,r,l){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=i,this.ctx=a,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(e){const{bbox:i,operatorList:a,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),im("TilingType: "+l);const v=i[0],b=i[1],y=i[2],_=i[3],T=y-v,R=_-b,k=dt.singularValueDecompose2dScale(this.matrix),C=dt.singularValueDecompose2dScale(this.baseTransform),D=k[0]*C[0],N=k[1]*C[1];let z=T,U=R,G=!1,X=!1;const Q=Math.ceil(f*D),it=Math.ceil(p*N),ot=Math.ceil(T*D),st=Math.ceil(R*N);Q>=ot?z=f:G=!0,it>=st?U=p:X=!0;const mt=this.getSizeAndScale(z,this.ctx.canvas.width,D),vt=this.getSizeAndScale(U,this.ctx.canvas.height,N),ft=e.cachedCanvases.getCanvas("pattern",mt.size,vt.size),ht=ft.context,B=h.createCanvasGraphics(ht);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,r,c),ht.translate(-mt.scale*v,-vt.scale*b),B.transform(mt.scale,0,0,vt.scale,0,0),ht.save(),this.clipBbox(B,v,b,y,_),B.baseTransform=me(B.ctx),B.executeOperatorList(a),B.endDrawing(),ht.restore(),G||X){const q=ft.canvas;G&&(z=f),X&&(U=p);const W=this.getSizeAndScale(z,this.ctx.canvas.width,D),Et=this.getSizeAndScale(U,this.ctx.canvas.height,N),L=W.size,Y=Et.size,tt=e.cachedCanvases.getCanvas("pattern-workaround",L,Y),J=tt.context,lt=G?Math.floor(T/f):0,xt=X?Math.floor(R/p):0;for(let ut=0;ut<=lt;ut++)for(let Tt=0;Tt<=xt;Tt++)J.drawImage(q,L*ut,Y*Tt,L,Y,0,0,L,Y);return{canvas:tt.canvas,scaleX:W.scale,scaleY:Et.scale,offsetX:v,offsetY:b}}return{canvas:ft.canvas,scaleX:mt.scale,scaleY:vt.scale,offsetX:v,offsetY:b}}getSizeAndScale(e,i,a){const r=Math.max(Vp.MAX_PATTERN_SIZE,i);let l=Math.ceil(e*a);return l>=r?l=r:a=l/e,{scale:a,size:l}}clipBbox(e,i,a,r,l){const c=r-i,h=l-a;e.ctx.rect(i,a,c,h),e.current.updateRectMinMax(me(e.ctx),[i,a,r,l]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,a){const r=e.ctx,l=e.current;switch(i){case MS.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case MS.UNCOLORED:const h=dt.makeHexColor(a[0],a[1],a[2]);r.fillStyle=h,r.strokeStyle=h,l.fillColor=h,l.strokeColor=h;break;default:throw new mR(`Unsupported paint type: ${i}`)}}getPattern(e,i,a,r){let l=a;r!==_i.SHADING&&(l=dt.transform(l,i.baseTransform),this.matrix&&(l=dt.transform(l,this.matrix)));const c=this.createPatternCanvas(i);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=e.createPattern(c.canvas,"repeat");return f.setTransform(h),f}};St(Vp,"MAX_PATTERN_SIZE",3e3);let pb=Vp;function VR({src:m,srcPos:e=0,dest:i,width:a,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const h=Ei.isLittleEndian?4278190080:255,[f,p]=c?[l,h]:[h,l],v=a>>3,b=a&7,y=m.length;i=new Uint32Array(i.buffer);let _=0;for(let T=0;T<r;T++){for(const k=e+v;e<k;e++){const C=e<y?m[e]:255;i[_++]=C&128?p:f,i[_++]=C&64?p:f,i[_++]=C&32?p:f,i[_++]=C&16?p:f,i[_++]=C&8?p:f,i[_++]=C&4?p:f,i[_++]=C&2?p:f,i[_++]=C&1?p:f}if(b===0)continue;const R=e<y?m[e++]:255;for(let k=0;k<b;k++)i[_++]=R&1<<7-k?p:f}return{srcPos:e,destPos:_}}const kS=16,LS=100,XR=15,DS=10,OS=1e3,zi=16;function YR(m,e){if(m._removeMirroring)throw new Error("Context is already forwarding operations.");m.__originalSave=m.save,m.__originalRestore=m.restore,m.__originalRotate=m.rotate,m.__originalScale=m.scale,m.__originalTranslate=m.translate,m.__originalTransform=m.transform,m.__originalSetTransform=m.setTransform,m.__originalResetTransform=m.resetTransform,m.__originalClip=m.clip,m.__originalMoveTo=m.moveTo,m.__originalLineTo=m.lineTo,m.__originalBezierCurveTo=m.bezierCurveTo,m.__originalRect=m.rect,m.__originalClosePath=m.closePath,m.__originalBeginPath=m.beginPath,m._removeMirroring=()=>{m.save=m.__originalSave,m.restore=m.__originalRestore,m.rotate=m.__originalRotate,m.scale=m.__originalScale,m.translate=m.__originalTranslate,m.transform=m.__originalTransform,m.setTransform=m.__originalSetTransform,m.resetTransform=m.__originalResetTransform,m.clip=m.__originalClip,m.moveTo=m.__originalMoveTo,m.lineTo=m.__originalLineTo,m.bezierCurveTo=m.__originalBezierCurveTo,m.rect=m.__originalRect,m.closePath=m.__originalClosePath,m.beginPath=m.__originalBeginPath,delete m._removeMirroring},m.save=function(){e.save(),this.__originalSave()},m.restore=function(){e.restore(),this.__originalRestore()},m.translate=function(a,r){e.translate(a,r),this.__originalTranslate(a,r)},m.scale=function(a,r){e.scale(a,r),this.__originalScale(a,r)},m.transform=function(a,r,l,c,h,f){e.transform(a,r,l,c,h,f),this.__originalTransform(a,r,l,c,h,f)},m.setTransform=function(a,r,l,c,h,f){e.setTransform(a,r,l,c,h,f),this.__originalSetTransform(a,r,l,c,h,f)},m.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},m.rotate=function(a){e.rotate(a),this.__originalRotate(a)},m.clip=function(a){e.clip(a),this.__originalClip(a)},m.moveTo=function(i,a){e.moveTo(i,a),this.__originalMoveTo(i,a)},m.lineTo=function(i,a){e.lineTo(i,a),this.__originalLineTo(i,a)},m.bezierCurveTo=function(i,a,r,l,c,h){e.bezierCurveTo(i,a,r,l,c,h),this.__originalBezierCurveTo(i,a,r,l,c,h)},m.rect=function(i,a,r,l){e.rect(i,a,r,l),this.__originalRect(i,a,r,l)},m.closePath=function(){e.closePath(),this.__originalClosePath()},m.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class $R{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,i,a){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,i,a)):(r=this.canvasFactory.create(i,a),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const i=this.cache[e];this.canvasFactory.destroy(i),delete this.cache[e]}}}function Qf(m,e,i,a,r,l,c,h,f,p){const[v,b,y,_,T,R]=me(m);if(b===0&&y===0){const D=c*v+T,N=Math.round(D),z=h*_+R,U=Math.round(z),G=(c+f)*v+T,X=Math.abs(Math.round(G)-N)||1,Q=(h+p)*_+R,it=Math.abs(Math.round(Q)-U)||1;return m.setTransform(Math.sign(v),0,0,Math.sign(_),N,U),m.drawImage(e,i,a,r,l,0,0,X,it),m.setTransform(v,b,y,_,T,R),[X,it]}if(v===0&&_===0){const D=h*y+T,N=Math.round(D),z=c*b+R,U=Math.round(z),G=(h+p)*y+T,X=Math.abs(Math.round(G)-N)||1,Q=(c+f)*b+R,it=Math.abs(Math.round(Q)-U)||1;return m.setTransform(0,Math.sign(b),Math.sign(y),0,N,U),m.drawImage(e,i,a,r,l,0,0,it,X),m.setTransform(v,b,y,_,T,R),[it,X]}m.drawImage(e,i,a,r,l,c,h,f,p);const k=Math.hypot(v,b),C=Math.hypot(y,_);return[k*f,C*p]}function KR(m){const{width:e,height:i}=m;if(e>OS||i>OS)return null;const a=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=e+1;let c=new Uint8Array(l*(i+1)),h,f,p;const v=e+7&-8;let b=new Uint8Array(v*i),y=0;for(const C of m.data){let D=128;for(;D>0;)b[y++]=C&D?0:255,D>>=1}let _=0;for(y=0,b[y]!==0&&(c[0]=1,++_),f=1;f<e;f++)b[y]!==b[y+1]&&(c[f]=b[y]?2:1,++_),y++;for(b[y]!==0&&(c[f]=2,++_),h=1;h<i;h++){y=h*v,p=h*l,b[y-v]!==b[y]&&(c[p]=b[y]?1:8,++_);let C=(b[y]?4:0)+(b[y-v]?8:0);for(f=1;f<e;f++)C=(C>>2)+(b[y+1]?4:0)+(b[y-v+1]?8:0),r[C]&&(c[p+f]=r[C],++_),y++;if(b[y-v]!==b[y]&&(c[p+f]=b[y]?2:4,++_),_>a)return null}for(y=v*(i-1),p=h*l,b[y]!==0&&(c[p]=8,++_),f=1;f<e;f++)b[y]!==b[y+1]&&(c[p+f]=b[y]?4:8,++_),y++;if(b[y]!==0&&(c[p+f]=4,++_),_>a)return null;const T=new Int32Array([0,l,-1,0,-l,0,0,0,1]),R=new Path2D;for(h=0;_&&h<=i;h++){let C=h*l;const D=C+e;for(;C<D&&!c[C];)C++;if(C===D)continue;R.moveTo(C%l,h);const N=C;let z=c[C];do{const U=T[z];do C+=U;while(!c[C]);const G=c[C];G!==5&&G!==10?(z=G,c[C]=0):(z=G&51*z>>4,c[C]&=z>>2|z<<2),R.lineTo(C%l,C/l|0),c[C]||--_}while(N!==C);--h}return b=null,c=null,function(C){C.save(),C.scale(1/e,-1/i),C.translate(0,-i),C.fill(R),C.beginPath(),C.restore()}}class NS{constructor(e,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s_,this.textMatrixScale=1,this.fontMatrix=Hv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ci.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,i])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,i){this.x=e,this.y=i}updatePathMinMax(e,i,a){[i,a]=dt.applyTransform([i,a],e),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,a),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,a)}updateRectMinMax(e,i){const a=dt.applyTransform(i,e),r=dt.applyTransform(i.slice(2),e),l=dt.applyTransform([i[0],i[3]],e),c=dt.applyTransform([i[2],i[1]],e);this.minX=Math.min(this.minX,a[0],r[0],l[0],c[0]),this.minY=Math.min(this.minY,a[1],r[1],l[1],c[1]),this.maxX=Math.max(this.maxX,a[0],r[0],l[0],c[0]),this.maxY=Math.max(this.maxY,a[1],r[1],l[1],c[1])}updateScalingPathMinMax(e,i){dt.scaleMinMax(e,i),this.minX=Math.min(this.minX,i[0]),this.minY=Math.min(this.minY,i[1]),this.maxX=Math.max(this.maxX,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(e,i,a,r,l,c,h,f,p,v){const b=dt.bezierBoundingBox(i,a,r,l,c,h,f,p,v);v||this.updateRectMinMax(e,b)}getPathBoundingBox(e=_i.FILL,i=null){const a=[this.minX,this.minY,this.maxX,this.maxY];if(e===_i.STROKE){i||oe("Stroke bounding box must include transform.");const r=dt.singularValueDecompose2dScale(i),l=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;a[0]-=l,a[1]-=c,a[2]+=l,a[3]+=c}return a}updateClipFromPath(){const e=dt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=_i.FILL,i=null){return dt.intersect(this.clipBox,this.getPathBoundingBox(e,i))}}function jS(m,e){if(typeof ImageData<"u"&&e instanceof ImageData){m.putImageData(e,0,0);return}const i=e.height,a=e.width,r=i%zi,l=(i-r)/zi,c=r===0?l:l+1,h=m.createImageData(a,zi);let f=0,p;const v=e.data,b=h.data;let y,_,T,R;if(e.kind===ip.GRAYSCALE_1BPP){const k=v.byteLength,C=new Uint32Array(b.buffer,0,b.byteLength>>2),D=C.length,N=a+7>>3,z=4294967295,U=Ei.isLittleEndian?4278190080:255;for(y=0;y<c;y++){for(T=y<l?zi:r,p=0,_=0;_<T;_++){const G=k-f;let X=0;const Q=G>N?a:G*8-7,it=Q&-8;let ot=0,st=0;for(;X<it;X+=8)st=v[f++],C[p++]=st&128?z:U,C[p++]=st&64?z:U,C[p++]=st&32?z:U,C[p++]=st&16?z:U,C[p++]=st&8?z:U,C[p++]=st&4?z:U,C[p++]=st&2?z:U,C[p++]=st&1?z:U;for(;X<Q;X++)ot===0&&(st=v[f++],ot=128),C[p++]=st&ot?z:U,ot>>=1}for(;p<D;)C[p++]=0;m.putImageData(h,0,y*zi)}}else if(e.kind===ip.RGBA_32BPP){for(_=0,R=a*zi*4,y=0;y<l;y++)b.set(v.subarray(f,f+R)),f+=R,m.putImageData(h,0,_),_+=zi;y<c&&(R=a*r*4,b.set(v.subarray(f,f+R)),m.putImageData(h,0,_))}else if(e.kind===ip.RGB_24BPP)for(T=zi,R=a*T,y=0;y<c;y++){for(y>=l&&(T=r,R=a*T),p=0,_=R;_--;)b[p++]=v[f++],b[p++]=v[f++],b[p++]=v[f++],b[p++]=255;m.putImageData(h,0,y*zi)}else throw new Error(`bad image kind: ${e.kind}`)}function zS(m,e){if(e.bitmap){m.drawImage(e.bitmap,0,0);return}const i=e.height,a=e.width,r=i%zi,l=(i-r)/zi,c=r===0?l:l+1,h=m.createImageData(a,zi);let f=0;const p=e.data,v=h.data;for(let b=0;b<c;b++){const y=b<l?zi:r;({srcPos:f}=VR({src:p,srcPos:f,dest:v,width:a,height:y,nonBlackColor:0})),m.putImageData(h,0,b*zi)}}function Xc(m,e){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of i)m[a]!==void 0&&(e[a]=m[a]);m.setLineDash!==void 0&&(e.setLineDash(m.getLineDash()),e.lineDashOffset=m.lineDashOffset)}function Wf(m){if(m.strokeStyle=m.fillStyle="#000000",m.fillRule="nonzero",m.globalAlpha=1,m.lineWidth=1,m.lineCap="butt",m.lineJoin="miter",m.miterLimit=10,m.globalCompositeOperation="source-over",m.font="10px sans-serif",m.setLineDash!==void 0&&(m.setLineDash([]),m.lineDashOffset=0),!vi){const{filter:e}=m;e!=="none"&&e!==""&&(m.filter="none")}}function PS(m,e){if(e)return!0;const i=dt.singularValueDecompose2dScale(m);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*hr.PDF_TO_CSS_UNITS);return i[0]<=a&&i[1]<=a}const ZR=["butt","round","square"],QR=["miter","round","bevel"],WR={},BS={};var pr,mb,gb;const _0=class _0{constructor(e,i,a,r,l,{optionalContentConfig:c,markedContentStack:h=null},f,p){w(this,pr);this.ctx=e,this.current=new NS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=a,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new $R(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,i=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):i}beginDrawing({transform:e,viewport:i,transparency:a=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,a){const f=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...me(this.compositeCtx))}this.ctx.save(),Wf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=me(this.ctx)}executeOperatorList(e,i,a,r){const l=e.argsArray,c=e.fnArray;let h=i||0;const f=l.length;if(f===h)return h;const p=f-h>DS&&typeof a=="function",v=p?Date.now()+XR:0;let b=0;const y=this.commonObjs,_=this.objs;let T;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,a),h;if(T=c[h],T!==Cn.dependency)this[T].apply(this,l[h]);else for(const R of l[h]){const k=R.startsWith("g_")?y:_;if(!k.has(R))return k.get(R,a),h}if(h++,h===f)return h;if(p&&++b>DS){if(Date.now()>v)return a(),h;b=0}}}endDrawing(){E(this,pr,mb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const i of e.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,pr,gb).call(this)}_scaleImage(e,i){const a=e.width??e.displayWidth,r=e.height??e.displayHeight;let l=Math.max(Math.hypot(i[0],i[1]),1),c=Math.max(Math.hypot(i[2],i[3]),1),h=a,f=r,p="prescale1",v,b;for(;l>2&&h>1||c>2&&f>1;){let y=h,_=f;l>2&&h>1&&(y=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/y),c>2&&f>1&&(_=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/_),v=this.cachedCanvases.getCanvas(p,y,_),b=v.context,b.clearRect(0,0,y,_),b.drawImage(e,0,0,h,f,0,0,y,_),e=v.canvas,h=y,f=_,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:h,paintHeight:f}}_createMaskCanvas(e){const i=this.ctx,{width:a,height:r}=e,l=this.current.fillColor,c=this.current.patternFill,h=me(i);let f,p,v,b;if((e.bitmap||e.data)&&e.count>1){const Q=e.bitmap||e.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get(Q),f||(f=new Map,this._cachedBitmapsMap.set(Q,f));const it=f.get(p);if(it&&!c){const ot=Math.round(Math.min(h[0],h[2])+h[4]),st=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:it,offsetX:ot,offsetY:st}}v=it}v||(b=this.cachedCanvases.getCanvas("maskCanvas",a,r),zS(b.context,e));let y=dt.transform(h,[1/a,0,0,-1/r,0,0]);y=dt.transform(y,[1,0,0,1,0,-r]);const[_,T,R,k]=dt.getAxialAlignedBoundingBox([0,0,a,r],y),C=Math.round(R-_)||1,D=Math.round(k-T)||1,N=this.cachedCanvases.getCanvas("fillCanvas",C,D),z=N.context,U=_,G=T;z.translate(-U,-G),z.transform(...y),v||(v=this._scaleImage(b.canvas,Da(z)),v=v.img,f&&c&&f.set(p,v)),z.imageSmoothingEnabled=PS(me(z),e.interpolate),Qf(z,v,0,0,v.width,v.height,0,0,a,r),z.globalCompositeOperation="source-in";const X=dt.transform(Da(z),[1,0,0,1,-U,-G]);return z.fillStyle=c?l.getPattern(i,this,X,_i.FILL):l,z.fillRect(0,0,a,r),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,N.canvas)),{canvas:N.canvas,offsetX:Math.round(U),offsetY:Math.round(G)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=ZR[e]}setLineJoin(e){this.ctx.lineJoin=QR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,i){const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(e),a.lineDashOffset=i)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,a]of e)switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(a,e,i);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...me(this.suspendedCtx)),Xc(this.suspendedCtx,l),YR(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Xc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,a=this.suspendedCtx;this.composeSMask(a,i,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,i,a,r){const l=r[0],c=r[1],h=r[2]-l,f=r[3]-c;h===0||f===0||(this.genericComposeSMask(i.context,a,h,f,i.subtype,i.backdrop,i.transferMap,l,c,i.offsetX,i.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(a.canvas,0,0),e.restore())}genericComposeSMask(e,i,a,r,l,c,h,f,p,v,b){let y=e.canvas,_=f-v,T=p-b;if(c){const k=dt.makeHexColor(...c);if(_<0||T<0||_+a>y.width||T+r>y.height){const C=this.cachedCanvases.getCanvas("maskExtension",a,r),D=C.context;D.drawImage(y,-_,-T),D.globalCompositeOperation="destination-atop",D.fillStyle=k,D.fillRect(0,0,a,r),D.globalCompositeOperation="source-over",y=C.canvas,_=T=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(_,T,a,r),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=k,e.fillRect(_,T,a,r),e.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?i.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(h));const R=new Path2D;R.rect(f,p,a,r),i.clip(R),i.globalCompositeOperation="destination-in",i.drawImage(y,_,T,a,r,f,p,a,r),i.restore()}save(){this.inSMaskMode?(Xc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Xc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,i,a,r,l,c){this.ctx.transform(e,i,a,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,i,a){const r=this.ctx,l=this.current;let c=l.x,h=l.y,f,p;const v=me(r),b=v[0]===0&&v[3]===0||v[1]===0&&v[2]===0,y=b?a.slice(0):null;for(let _=0,T=0,R=e.length;_<R;_++)switch(e[_]|0){case Cn.rectangle:c=i[T++],h=i[T++];const k=i[T++],C=i[T++],D=c+k,N=h+C;r.moveTo(c,h),k===0||C===0?r.lineTo(D,N):(r.lineTo(D,h),r.lineTo(D,N),r.lineTo(c,N)),b||l.updateRectMinMax(v,[c,h,D,N]),r.closePath();break;case Cn.moveTo:c=i[T++],h=i[T++],r.moveTo(c,h),b||l.updatePathMinMax(v,c,h);break;case Cn.lineTo:c=i[T++],h=i[T++],r.lineTo(c,h),b||l.updatePathMinMax(v,c,h);break;case Cn.curveTo:f=c,p=h,c=i[T+4],h=i[T+5],r.bezierCurveTo(i[T],i[T+1],i[T+2],i[T+3],c,h),l.updateCurvePathMinMax(v,f,p,i[T],i[T+1],i[T+2],i[T+3],c,h,y),T+=6;break;case Cn.curveTo2:f=c,p=h,r.bezierCurveTo(c,h,i[T],i[T+1],i[T+2],i[T+3]),l.updateCurvePathMinMax(v,f,p,c,h,i[T],i[T+1],i[T+2],i[T+3],y),c=i[T+2],h=i[T+3],T+=4;break;case Cn.curveTo3:f=c,p=h,c=i[T+2],h=i[T+3],r.bezierCurveTo(i[T],i[T+1],c,h,c,h),l.updateCurvePathMinMax(v,f,p,i[T],i[T+1],c,h,c,h,y),T+=4;break;case Cn.closePath:r.closePath();break}b&&l.updateScalingPathMinMax(v,y),l.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(e=!0){const i=this.ctx,a=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof a=="object"&&(a!=null&&a.getPattern)?(i.save(),i.strokeStyle=a.getPattern(i,this,Da(i),_i.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(i.save(),i.fillStyle=a.getPattern(i,this,Da(i),_i.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),l&&i.restore(),e&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=WR}eoClip(){this.pendingClip=BS}beginText(){this.current.textMatrix=s_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,i=this.ctx;if(e===void 0){i.beginPath();return}i.save(),i.beginPath();for(const a of e)i.setTransform(...a.transform),i.translate(a.x,a.y),a.addToPath(i,a.fontSize);i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,i){var v;const a=this.commonObjs.get(e),r=this.current;if(!a)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=a.fontMatrix||Hv,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Dt("Invalid font matrix for font "+e),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=a,this.current.fontSize=i,a.isType3Font)return;const l=a.loadedName||"sans-serif",c=((v=a.systemFontInfo)==null?void 0:v.css)||`"${l}", ${a.fallbackName}`;let h="normal";a.black?h="900":a.bold&&(h="bold");const f=a.italic?"italic":"normal";let p=i;i<kS?p=kS:i>LS&&(p=LS),this.current.fontSizeScale=i/p,this.ctx.font=`${f} ${h} ${p}px ${c}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,i){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}setTextMatrix(e,i,a,r,l,c){this.current.textMatrix=[e,i,a,r,l,c],this.current.textMatrixScale=Math.hypot(e,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,i,a,r){const l=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,v=f&ci.FILL_STROKE_MASK,b=!!(f&ci.ADD_TO_PATH_FLAG),y=c.patternFill&&!h.missingFile;let _;(h.disableFontFace||b||y)&&(_=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||y?(l.save(),l.translate(i,a),l.beginPath(),_(l,p),r&&l.setTransform(...r),(v===ci.FILL||v===ci.FILL_STROKE)&&l.fill(),(v===ci.STROKE||v===ci.FILL_STROKE)&&l.stroke(),l.restore()):((v===ci.FILL||v===ci.FILL_STROKE)&&l.fillText(e,i,a),(v===ci.STROKE||v===ci.FILL_STROKE)&&l.strokeText(e,i,a)),b&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:me(l),x:i,y:a,fontSize:p,addToPath:_})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const i=e.getImageData(0,0,10,10).data;let a=!1;for(let r=3;r<i.length;r+=4)if(i[r]>0&&i[r]<255){a=!0;break}return Ut(this,"isFontSubpixelAAEnabled",a)}showText(e){const i=this.current,a=i.font;if(a.isType3Font)return this.showType3Text(e);const r=i.fontSize;if(r===0)return;const l=this.ctx,c=i.fontSizeScale,h=i.charSpacing,f=i.wordSpacing,p=i.fontDirection,v=i.textHScale*p,b=e.length,y=a.vertical,_=y?1:-1,T=a.defaultVMetrics,R=r*i.fontMatrix[0],k=i.textRenderingMode===ci.FILL&&!a.disableFontFace&&!i.patternFill;l.save(),l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),p>0?l.scale(v,-1):l.scale(v,1);let C;if(i.patternFill){l.save();const G=i.fillColor.getPattern(l,this,Da(l),_i.FILL);C=me(l),l.restore(),l.fillStyle=G}let D=i.lineWidth;const N=i.textMatrixScale;if(N===0||D===0){const G=i.textRenderingMode&ci.FILL_STROKE_MASK;(G===ci.STROKE||G===ci.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=N;if(c!==1&&(l.scale(c,c),D/=c),l.lineWidth=D,a.isInvalidPDFjsFont){const G=[];let X=0;for(const Q of e)G.push(Q.unicode),X+=Q.width;l.fillText(G.join(""),0,0),i.x+=X*R*v,l.restore(),this.compose();return}let z=0,U;for(U=0;U<b;++U){const G=e[U];if(typeof G=="number"){z+=_*G*r/1e3;continue}let X=!1;const Q=(G.isSpace?f:0)+h,it=G.fontChar,ot=G.accent;let st,mt,vt=G.width;if(y){const ht=G.vmetric||T,B=-(G.vmetric?ht[1]:vt*.5)*R,q=ht[2]*R;vt=ht?-ht[0]:vt,st=B/c,mt=(z+q)/c}else st=z/c,mt=0;if(a.remeasure&&vt>0){const ht=l.measureText(it).width*1e3/r*c;if(vt<ht&&this.isFontSubpixelAAEnabled){const B=vt/ht;X=!0,l.save(),l.scale(B,1),st/=B}else vt!==ht&&(st+=(vt-ht)/2e3*r/c)}if(this.contentVisible&&(G.isInFont||a.missingFile)){if(k&&!ot)l.fillText(it,st,mt);else if(this.paintChar(it,st,mt,C),ot){const ht=st+r*ot.offset.x/c,B=mt-r*ot.offset.y/c;this.paintChar(ot.fontChar,ht,B,C)}}const ft=y?vt*R-Q*p:vt*R+Q*p;z+=ft,X&&l.restore()}y?i.y-=z:i.x+=z*v,l.restore(),this.compose()}showType3Text(e){const i=this.ctx,a=this.current,r=a.font,l=a.fontSize,c=a.fontDirection,h=r.vertical?1:-1,f=a.charSpacing,p=a.wordSpacing,v=a.textHScale*c,b=a.fontMatrix||Hv,y=e.length,_=a.textRenderingMode===ci.INVISIBLE;let T,R,k,C;if(!(_||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),i.transform(...a.textMatrix),i.translate(a.x,a.y),i.scale(v,c),T=0;T<y;++T){if(R=e[T],typeof R=="number"){C=h*R*l/1e3,this.ctx.translate(C,0),a.x+=C*v;continue}const D=(R.isSpace?p:0)+f,N=r.charProcOperatorList[R.operatorListId];if(!N){Dt(`Type3 character "${R.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=R,this.save(),i.scale(l,l),i.transform(...b),this.executeOperatorList(N),this.restore()),k=dt.applyTransform([R.width,0],b)[0]*l+D,i.translate(k,0),a.x+=k*v}i.restore(),this.processingType3=null}}setCharWidth(e,i){}setCharWidthAndBounds(e,i,a,r,l,c){this.ctx.rect(a,r,l-a,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let i;if(e[0]==="TilingPattern"){const a=e[1],r=this.baseTransform||me(this.ctx),l={createCanvasGraphics:c=>new _0(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new pb(e,a,this.ctx,l,r)}else i=this._getPattern(e[1],e[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,i,a){this.ctx.strokeStyle=this.current.strokeColor=dt.makeHexColor(e,i,a)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,i,a){this.ctx.fillStyle=this.current.fillColor=dt.makeHexColor(e,i,a),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,i=null){let a;return this.cachedPatterns.has(e)?a=this.cachedPatterns.get(e):(a=qR(this.getObject(e)),this.cachedPatterns.set(e,a)),i&&(a.matrix=i),a}shadingFill(e){if(!this.contentVisible)return;const i=this.ctx;this.save();const a=this._getPattern(e);i.fillStyle=a.getPattern(i,this,Da(i),_i.SHADING);const r=Da(i);if(r){const{width:l,height:c}=i.canvas,[h,f,p,v]=dt.getAxialAlignedBoundingBox([0,0,l,c],r);this.ctx.fillRect(h,f,p-h,v-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){oe("Should not call beginInlineImage")}beginImageData(){oe("Should not call beginImageData")}paintFormXObjectBegin(e,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=me(this.ctx),i)){const a=i[2]-i[0],r=i[3]-i[1];this.ctx.rect(i[0],i[1],a,r),this.current.updateRectMinMax(me(this.ctx),i),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||im("TODO: Support non-isolated groups."),e.knockout&&Dt("Knockout groups not supported.");const a=me(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=dt.getAxialAlignedBoundingBox(e.bbox,me(i));const l=[0,0,i.canvas.width,i.canvas.height];r=dt.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-c,1),p=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let v="groupAt"+this.groupLevel;e.smask&&(v+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(v,f,p),y=b.context;y.translate(-c,-h),y.transform(...a),e.smask?this.smaskStack.push({canvas:b.canvas,context:y,offsetX:c,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(c,h),i.save()),Xc(i,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=me(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=dt.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],r);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,i,a,r,l){if(E(this,pr,mb).call(this),Wf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],h=i[3]-i[1];if(l&&this.annotationCanvasMap){a=a.slice(),a[4]-=i[0],a[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=h;const[f,p]=dt.singularValueDecompose2dScale(me(this.ctx)),{viewportScale:v}=this,b=Math.ceil(c*this.outputScaleX*v),y=Math.ceil(h*this.outputScaleY*v);this.annotationCanvas=this.canvasFactory.create(b,y);const{canvas:_,context:T}=this.annotationCanvas;this.annotationCanvasMap.set(e,_),this.annotationCanvas.savedCtx=this.ctx,this.ctx=T,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,h*p),Wf(this.ctx)}else Wf(this.ctx),this.endPath(),this.ctx.rect(i[0],i[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new NS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,pr,gb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(e.data,e),e.count=i;const a=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=KR(e)),r.compiled)){r.compiled(a);return}const l=this._createMaskCanvas(e),c=l.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(c,l.offsetX,l.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,i,a=0,r=0,l,c){if(!this.contentVisible)return;e=this.getObject(e.data,e);const h=this.ctx;h.save();const f=me(h);h.transform(i,a,r,l,0,0);const p=this._createMaskCanvas(e);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let v=0,b=c.length;v<b;v+=2){const y=dt.transform(f,[i,a,r,l,c[v],c[v+1]]),[_,T]=dt.applyTransform([0,0],y);h.drawImage(p.canvas,_,T)}h.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;for(const l of e){const{data:c,width:h,height:f,transform:p}=l,v=this.cachedCanvases.getCanvas("maskCanvas",h,f),b=v.context;b.save();const y=this.getObject(c,l);zS(b,y),b.globalCompositeOperation="source-in",b.fillStyle=r?a.getPattern(b,this,Da(i),_i.FILL):a,b.fillRect(0,0,h,f),b.restore(),i.save(),i.transform(...p),i.scale(1,-1),Qf(i,v.canvas,0,0,h,f,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){Dt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(e,i,a,r){if(!this.contentVisible)return;const l=this.getObject(e);if(!l){Dt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,f=[];for(let p=0,v=r.length;p<v;p+=2)f.push({transform:[i,0,0,a,r[p],r[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:i,width:a,height:r}=e,l=this.cachedCanvases.getCanvas("inlineImage",a,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(i,0,0),c.filter="none",l.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const i=e.width,a=e.height,r=this.ctx;if(this.save(),!vi){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/i,-1/a);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,a).context;jS(f,e),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,Da(r));r.imageSmoothingEnabled=PS(me(r),e.interpolate),Qf(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-a,i,a),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,i){if(!this.contentVisible)return;const a=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const l=e.width,c=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;jS(f,e),r=this.applyTransferMapsToCanvas(f)}for(const l of i)a.save(),a.transform(...l.transform),a.scale(1,-1),Qf(a,r,l.x,l.y,l.w,l.h,0,-1,1,1),a.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,i){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,i){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(i||(this.pendingClip===BS?a.clip("evenodd"):a.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=me(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),a=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(a,r)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:i,b:a,c:r,d:l}=this.ctx.getTransform();let c,h;if(a===0&&r===0){const f=Math.abs(i),p=Math.abs(l);if(f===p)if(e===0)c=h=1/f;else{const v=f*e;c=h=v<1?1/v:1}else if(e===0)c=1/f,h=1/p;else{const v=f*e,b=p*e;c=v<1?1/v:1,h=b<1?1/b:1}}else{const f=Math.abs(i*l-a*r),p=Math.hypot(i,a),v=Math.hypot(r,l);if(e===0)c=v/f,h=p/f;else{const b=e*f;c=v>b?v/b:1,h=p>b?p/b:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:i}=this,{lineWidth:a}=this.current,[r,l]=this.getScaleForStroking();if(i.lineWidth=a||1,r===1&&l===1){i.stroke();return}const c=i.getLineDash();if(e&&i.save(),i.scale(r,l),c.length>0){const h=Math.max(r,l);i.setLineDash(c.map(f=>f/h)),i.lineDashOffset/=h}i.stroke(),e&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};pr=new WeakSet,mb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},gb=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const i=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}};let Gl=_0;for(const m in Cn)Gl.prototype[m]!==void 0&&(Gl.prototype[Cn[m]]=Gl.prototype[m]);var jh,zh;class rs{static get workerPort(){return u(this,jh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");S(this,jh,e)}static get workerSrc(){return u(this,zh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");S(this,zh,e)}}jh=new WeakMap,zh=new WeakMap,w(rs,jh,null),w(rs,zh,"");const Jf={DATA:1,ERROR:2},Me={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Xi(m){switch(m instanceof Error||typeof m=="object"&&m!==null||oe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),m.name){case"AbortException":return new Yo(m.message);case"MissingPDFException":return new Xo(m.message);case"PasswordException":return new Fv(m.message,m.code);case"UnexpectedResponseException":return new nm(m.message,m.status);case"UnknownErrorException":return new Iv(m.message,m.details);default:return new Iv(m.message,m.toString())}}var ou,_n,G_,q_,V_,cp;class eh{constructor(e,i,a){w(this,_n);w(this,ou,new AbortController);this.sourceName=e,this.targetName=i,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),a.addEventListener("message",E(this,_n,G_).bind(this),{signal:u(this,ou).signal})}on(e,i){const a=this.actionHandler;if(a[e])throw new Error(`There is already an actionName called "${e}"`);a[e]=i}send(e,i,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:i},a)}sendWithPromise(e,i,a){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:i},a)}catch(c){l.reject(c)}return l.promise}sendWithStream(e,i,a,r){const l=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const v=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:v,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:e,streamId:l,data:i,desiredSize:p.desiredSize},r),v.promise},pull:p=>{const v=Promise.withResolvers();return this.streamControllers[l].pullCall=v,f.postMessage({sourceName:c,targetName:h,stream:Me.PULL,streamId:l,desiredSize:p.desiredSize}),v.promise},cancel:p=>{Be(p instanceof Error,"cancel must have a valid reason");const v=Promise.withResolvers();return this.streamControllers[l].cancelCall=v,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:Me.CANCEL,streamId:l,reason:Xi(p)}),v.promise}},a)}destroy(){var e;(e=u(this,ou))==null||e.abort(),S(this,ou,null)}}ou=new WeakMap,_n=new WeakSet,G_=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){E(this,_n,V_).call(this,e);return}if(e.callback){const a=e.callbackId,r=this.callbackCapabilities[a];if(!r)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],e.callback===Jf.DATA)r.resolve(e.data);else if(e.callback===Jf.ERROR)r.reject(Xi(e.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[e.action];if(!i)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const a=this.sourceName,r=e.sourceName,l=this.comObj;new Promise(function(c){c(i(e.data))}).then(function(c){l.postMessage({sourceName:a,targetName:r,callback:Jf.DATA,callbackId:e.callbackId,data:c})},function(c){l.postMessage({sourceName:a,targetName:r,callback:Jf.ERROR,callbackId:e.callbackId,reason:Xi(c)})});return}if(e.streamId){E(this,_n,q_).call(this,e);return}i(e.data)},q_=function(e){const i=e.streamId,a=this.sourceName,r=e.sourceName,l=this.comObj,c=this,h=this.actionHandler[e.action],f={enqueue(p,v=1,b){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=v,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:a,targetName:r,stream:Me.ENQUEUE,streamId:i,chunk:p},b)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:a,targetName:r,stream:Me.CLOSE,streamId:i}),delete c.streamSinks[i])},error(p){Be(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:a,targetName:r,stream:Me.ERROR,streamId:i,reason:Xi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[i]=f,new Promise(function(p){p(h(e.data,f))}).then(function(){l.postMessage({sourceName:a,targetName:r,stream:Me.START_COMPLETE,streamId:i,success:!0})},function(p){l.postMessage({sourceName:a,targetName:r,stream:Me.START_COMPLETE,streamId:i,reason:Xi(p)})})},V_=function(e){const i=e.streamId,a=this.sourceName,r=e.sourceName,l=this.comObj,c=this.streamControllers[i],h=this.streamSinks[i];switch(e.stream){case Me.START_COMPLETE:e.success?c.startCall.resolve():c.startCall.reject(Xi(e.reason));break;case Me.PULL_COMPLETE:e.success?c.pullCall.resolve():c.pullCall.reject(Xi(e.reason));break;case Me.PULL:if(!h){l.postMessage({sourceName:a,targetName:r,stream:Me.PULL_COMPLETE,streamId:i,success:!0});break}h.desiredSize<=0&&e.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=e.desiredSize,new Promise(function(f){var p;f((p=h.onPull)==null?void 0:p.call(h))}).then(function(){l.postMessage({sourceName:a,targetName:r,stream:Me.PULL_COMPLETE,streamId:i,success:!0})},function(f){l.postMessage({sourceName:a,targetName:r,stream:Me.PULL_COMPLETE,streamId:i,reason:Xi(f)})});break;case Me.ENQUEUE:if(Be(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(e.chunk);break;case Me.CLOSE:if(Be(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),E(this,_n,cp).call(this,c,i);break;case Me.ERROR:Be(c,"error should have stream controller"),c.controller.error(Xi(e.reason)),E(this,_n,cp).call(this,c,i);break;case Me.CANCEL_COMPLETE:e.success?c.cancelCall.resolve():c.cancelCall.reject(Xi(e.reason)),E(this,_n,cp).call(this,c,i);break;case Me.CANCEL:if(!h)break;new Promise(function(f){var p;f((p=h.onCancel)==null?void 0:p.call(h,Xi(e.reason)))}).then(function(){l.postMessage({sourceName:a,targetName:r,stream:Me.CANCEL_COMPLETE,streamId:i,success:!0})},function(f){l.postMessage({sourceName:a,targetName:r,stream:Me.CANCEL_COMPLETE,streamId:i,reason:Xi(f)})}),h.sinkCapability.reject(Xi(e.reason)),h.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},cp=async function(e,i){var a,r,l;await Promise.allSettled([(a=e.startCall)==null?void 0:a.promise,(r=e.pullCall)==null?void 0:r.promise,(l=e.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[i]};var lo,Ph;class JR{constructor({parsedData:e,rawData:i}){w(this,lo);w(this,Ph);S(this,lo,e),S(this,Ph,i)}getRaw(){return u(this,Ph)}get(e){return u(this,lo).get(e)??null}getAll(){return o0(u(this,lo))}has(e){return u(this,lo).has(e)}}lo=new WeakMap,Ph=new WeakMap;const Bl=Symbol("INTERNAL");var Bh,Uh,Hh,lu;class t2{constructor(e,{name:i,intent:a,usage:r,rbGroups:l}){w(this,Bh,!1);w(this,Uh,!1);w(this,Hh,!1);w(this,lu,!0);S(this,Bh,!!(e&en.DISPLAY)),S(this,Uh,!!(e&en.PRINT)),this.name=i,this.intent=a,this.usage=r,this.rbGroups=l}get visible(){if(u(this,Hh))return u(this,lu);if(!u(this,lu))return!1;const{print:e,view:i}=this.usage;return u(this,Bh)?(i==null?void 0:i.viewState)!=="OFF":u(this,Uh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,i,a=!1){e!==Bl&&oe("Internal method `_setVisible` called."),S(this,Hh,a),S(this,lu,i)}}Bh=new WeakMap,Uh=new WeakMap,Hh=new WeakMap,lu=new WeakMap;var Ks,Kt,uu,cu,Fh,vb;class e2{constructor(e,i=en.DISPLAY){w(this,Fh);w(this,Ks,null);w(this,Kt,new Map);w(this,uu,null);w(this,cu,null);if(this.renderingIntent=i,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,S(this,cu,e.order);for(const a of e.groups)u(this,Kt).set(a.id,new t2(i,a));if(e.baseState==="OFF")for(const a of u(this,Kt).values())a._setVisible(Bl,!1);for(const a of e.on)u(this,Kt).get(a)._setVisible(Bl,!0);for(const a of e.off)u(this,Kt).get(a)._setVisible(Bl,!1);S(this,uu,this.getHash())}}isVisible(e){if(u(this,Kt).size===0)return!0;if(!e)return im("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,Kt).has(e.id)?u(this,Kt).get(e.id).visible:(Dt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,Fh,vb).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const i of e.ids){if(!u(this,Kt).has(i))return Dt(`Optional content group not found: ${i}`),!0;if(u(this,Kt).get(i).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const i of e.ids){if(!u(this,Kt).has(i))return Dt(`Optional content group not found: ${i}`),!0;if(!u(this,Kt).get(i).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const i of e.ids){if(!u(this,Kt).has(i))return Dt(`Optional content group not found: ${i}`),!0;if(!u(this,Kt).get(i).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const i of e.ids){if(!u(this,Kt).has(i))return Dt(`Optional content group not found: ${i}`),!0;if(u(this,Kt).get(i).visible)return!1}return!0}return Dt(`Unknown optional content policy ${e.policy}.`),!0}return Dt(`Unknown group type ${e.type}.`),!0}setVisibility(e,i=!0,a=!0){var l;const r=u(this,Kt).get(e);if(!r){Dt(`Optional content group not found: ${e}`);return}if(a&&i&&r.rbGroups.length)for(const c of r.rbGroups)for(const h of c)h!==e&&((l=u(this,Kt).get(h))==null||l._setVisible(Bl,!1,!0));r._setVisible(Bl,!!i,!0),S(this,Ks,null)}setOCGState({state:e,preserveRB:i}){let a;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":a=r;continue}const l=u(this,Kt).get(r);if(l)switch(a){case"ON":this.setVisibility(r,!0,i);break;case"OFF":this.setVisibility(r,!1,i);break;case"Toggle":this.setVisibility(r,!l.visible,i);break}}S(this,Ks,null)}get hasInitialVisibility(){return u(this,uu)===null||this.getHash()===u(this,uu)}getOrder(){return u(this,Kt).size?u(this,cu)?u(this,cu).slice():[...u(this,Kt).keys()]:null}getGroups(){return u(this,Kt).size>0?o0(u(this,Kt)):null}getGroup(e){return u(this,Kt).get(e)||null}getHash(){if(u(this,Ks)!==null)return u(this,Ks);const e=new D_;for(const[i,a]of u(this,Kt))e.update(`${i}:${a.visible}`);return S(this,Ks,e.hexdigest())}}Ks=new WeakMap,Kt=new WeakMap,uu=new WeakMap,cu=new WeakMap,Fh=new WeakSet,vb=function(e){const i=e.length;if(i<2)return!0;const a=e[0];for(let r=1;r<i;r++){const l=e[r];let c;if(Array.isArray(l))c=E(this,Fh,vb).call(this,l);else if(u(this,Kt).has(l))c=u(this,Kt).get(l).visible;else return Dt(`Optional content group not found: ${l}`),!0;switch(a){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return a==="And"};class i2{constructor(e,{disableRange:i=!1,disableStream:a=!1}){Be(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:h}=e;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!a,this._isRangeSupported=!i,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),e.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),e.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:i}){const a=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const r=this._rangeReaders.some(function(l){return l._begin!==e?!1:(l._enqueue(a),!0)});Be(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var i,a,r,l;e.total===void 0?(a=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const i=this._rangeReaders.indexOf(e);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){Be(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new n2(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const a=new a2(this,e,i);return this._pdfDataRangeTransport.requestDataRange(e,i),this._rangeReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeReaders.slice(0))a.cancel(e);this._pdfDataRangeTransport.abort()}}class n2{constructor(e,i,a=!1,r=null){this._stream=e,this._done=a||!1,this._filename=c0(r)?r:null,this._queuedChunks=i||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a2{constructor(e,i,a){this._stream=e,this._begin=i,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function s2(m){let e=!0,i=a("filename\\*","i").exec(m);if(i){i=i[1];let v=h(i);return v=unescape(v),v=f(v),v=p(v),l(v)}if(i=c(m),i){const v=p(i);return l(v)}if(i=a("filename","i").exec(m),i){i=i[1];let v=h(i);return v=p(v),l(v)}function a(v,b){return new RegExp("(?:^|;)\\s*"+v+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function r(v,b){if(v){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const y=new TextDecoder(v,{fatal:!0}),_=am(b);b=y.decode(_),e=!1}catch{}}return b}function l(v){return e&&/[\x80-\xff]/.test(v)&&(v=r("utf-8",v),e&&(v=r("iso-8859-1",v))),v}function c(v){const b=[];let y;const _=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=_.exec(v))!==null;){let[,R,k,C]=y;if(R=parseInt(R,10),R in b){if(R===0)break;continue}b[R]=[k,C]}const T=[];for(let R=0;R<b.length&&R in b;++R){let[k,C]=b[R];C=h(C),k&&(C=unescape(C),R===0&&(C=f(C))),T.push(C)}return T.join("")}function h(v){if(v.startsWith('"')){const b=v.slice(1).split('\\"');for(let y=0;y<b.length;++y){const _=b[y].indexOf('"');_!==-1&&(b[y]=b[y].slice(0,_),b.length=y+1),b[y]=b[y].replaceAll(/\\(.)/g,"$1")}v=b.join('"')}return v}function f(v){const b=v.indexOf("'");if(b===-1)return v;const y=v.slice(0,b),T=v.slice(b+1).replace(/^[^']*'/,"");return r(y,T)}function p(v){return!v.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(v)?v:v.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,y,_,T){if(_==="q"||_==="Q")return T=T.replaceAll("_"," "),T=T.replaceAll(/=([0-9a-fA-F]{2})/g,function(R,k){return String.fromCharCode(parseInt(k,16))}),r(y,T);try{T=atob(T)}catch{}return r(y,T)})}return""}function m0(m,e){const i=new Headers;if(!m||!e||typeof e!="object")return i;for(const a in e){const r=e[a];r!==void 0&&i.append(a,r)}return i}function g0({responseHeaders:m,isHttp:e,rangeChunkSize:i,disableRange:a}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(m.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*i)||a||!e||m.get("Accept-Ranges")!=="bytes"||(m.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function v0(m){const e=m.get("Content-Disposition");if(e){let i=s2(e);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(c0(i))return i}return null}function om(m,e){return m===404||m===0&&e.startsWith("file:")?new Xo('Missing PDF "'+e+'".'):new nm(`Unexpected server response (${m}) while retrieving PDF "${e}".`,m)}function X_(m){return m===200||m===206}function Y_(m,e,i){return{method:"GET",headers:m,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function $_(m){return m instanceof Uint8Array?m.buffer:m instanceof ArrayBuffer?m:(Dt(`getArrayBuffer - unexpected data format: ${m}`),new Uint8Array(m).buffer)}class US{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=m0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Be(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new r2(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const a=new o2(this,e,i);return this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class r2{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const a=new Headers(e.headers),r=i.url;fetch(r,Y_(a,this._withCredentials,this._abortController)).then(l=>{if(!X_(l.status))throw om(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:h,suggestedLength:f}=g0({responseHeaders:c,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=v0(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Yo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:$_(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class o2{constructor(e,i,a){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(e.headers);l.append("Range",`bytes=${i}-${a-1}`);const c=r.url;fetch(c,Y_(l,this._withCredentials,this._abortController)).then(h=>{if(!X_(h.status))throw om(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:$_(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}const Pv=200,Bv=206;function l2(m){const e=m.response;return typeof e!="string"?e:am(e).buffer}class u2{constructor({url:e,httpHeaders:i,withCredentials:a}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=m0(this.isHttp,i),this.withCredentials=a||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,i,a){const r={begin:e,end:i};for(const l in a)r[l]=a[l];return this.request(r)}requestFull(e){return this.request(e)}request(e){const i=new XMLHttpRequest,a=this.currXhrId++,r=this.pendingRequests[a]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[l,c]of this.headers)i.setRequestHeader(l,c);return this.isHttp&&"begin"in e&&"end"in e?(i.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Bv):r.expectedStatus=Pv,i.responseType="arraybuffer",e.onError&&(i.onerror=function(l){e.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,a),i.onprogress=this.onProgress.bind(this,a),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,i.send(null),a}onProgress(e,i){var r;const a=this.pendingRequests[e];a&&((r=a.onProgress)==null||r.call(a,i))}onStateChange(e,i){var f,p,v;const a=this.pendingRequests[e];if(!a)return;const r=a.xhr;if(r.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(f=a.onError)==null||f.call(a,r.status);return}const l=r.status||Pv;if(!(l===Pv&&a.expectedStatus===Bv)&&l!==a.expectedStatus){(p=a.onError)==null||p.call(a,r.status);return}const h=l2(r);if(l===Bv){const b=r.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(b);a.onDone({begin:parseInt(y[1],10),chunk:h})}else h?a.onDone({begin:0,chunk:h}):(v=a.onError)==null||v.call(a,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const i=this.pendingRequests[e].xhr;delete this.pendingRequests[e],i.abort()}}class c2{constructor(e){this._source=e,this._manager=new u2(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const i=this._rangeRequestReaders.indexOf(e);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return Be(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new h2(this._manager,this._source),this._fullRequestReader}getRangeReader(e,i){const a=new d2(this._manager,e,i);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class h2{constructor(e,i){this._manager=e;const a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=e.requestFull(a),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,i=this._manager.getRequestXhr(e),a=new Headers(i.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...f]=c.split(": ");return[h,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=g0({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=v0(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=om(e,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var i;(i=this.onProgress)==null||i.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class d2{constructor(e,i,a){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(i,a,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const i=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=om(e,this._url);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const f2=/^[a-z][a-z0-9\-+.]+:/i;function p2(m){if(f2.test(m))return new URL(m);const e=dr.get("url");return new URL(e.pathToFileURL(m))}function K_(m,e,i){return m.protocol==="http:"?dr.get("http").request(m,{headers:e},i):dr.get("https").request(m,{headers:e},i)}class m2{constructor(e){this.source=e,this.url=p2(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=m0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Be(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b2(this):new g2(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const a=this.isFsUrl?new y2(this,e,i):new v2(this,e,i);return this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class Z_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=e.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Yo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Q_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class g2 extends Z_{constructor(e){super(e);const i=Object.fromEntries(e.headers),a=r=>{if(r.statusCode===404){const f=new Xo(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=g0({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=v0(l)};this._request=K_(this._url,i,a),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class v2 extends Q_{constructor(e,i,a){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${i}-${a-1}`;const l=c=>{if(c.statusCode===404){const h=new Xo(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=K_(this._url,r,l),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class b2 extends Z_{constructor(e){super(e);const i=dr.get("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=new Xo(`Missing PDF "${this._url}".`)),this._storedError=a,this._headersCapability.reject(a)})}}class y2 extends Q_{constructor(e,i,a){super(e);const r=dr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:i,end:a-1}))}}const A2=1e5,Li=30,S2=.8;var t_,Zs,Ni,Ih,Gh,uo,Ia,qh,Vh,co,hu,du,Qs,fu,Xh,pu,ho,Yh,$h,ye,fo,po,Kh,Ws,mu,cs,W_,J_,yb,an,hp,Ab,tE,eE;let bb=(ye=class{constructor({textContentSource:e,container:i,viewport:a}){w(this,cs);w(this,Zs,Promise.withResolvers());w(this,Ni,null);w(this,Ih,!1);w(this,Gh,!!((t_=globalThis.FontInspector)!=null&&t_.enabled));w(this,uo,null);w(this,Ia,null);w(this,qh,0);w(this,Vh,0);w(this,co,null);w(this,hu,null);w(this,du,0);w(this,Qs,0);w(this,fu,Object.create(null));w(this,Xh,[]);w(this,pu,null);w(this,ho,[]);w(this,Yh,new WeakMap);w(this,$h,null);var f;if(e instanceof ReadableStream)S(this,pu,e);else if(typeof e=="object")S(this,pu,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');S(this,Ni,S(this,hu,i)),S(this,Qs,a.scale*(globalThis.devicePixelRatio||1)),S(this,du,a.rotation),S(this,Ia,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:c,pageY:h}=a.rawDims;S(this,$h,[1,0,0,-1,-c,h+l]),S(this,Vh,r),S(this,qh,l),E(f=ye,an,tE).call(f),Ho(i,a),u(this,Zs).promise.finally(()=>{u(ye,mu).delete(this),S(this,Ia,null),S(this,fu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:i}=Ei.platform;return Ut(this,"fontFamilyMap",new Map([["sans-serif",`${e&&i?"Calibri, ":""}sans-serif`],["monospace",`${e&&i?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,co).read().then(({value:i,done:a})=>{if(a){u(this,Zs).resolve();return}u(this,uo)??S(this,uo,i.lang),Object.assign(u(this,fu),i.styles),E(this,cs,W_).call(this,i.items),e()},u(this,Zs).reject)};return S(this,co,u(this,pu).getReader()),u(ye,mu).add(this),e(),u(this,Zs).promise}update({viewport:e,onBefore:i=null}){var l;const a=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==u(this,du)&&(i==null||i(),S(this,du,r),Ho(u(this,hu),{rotation:r})),a!==u(this,Qs)){i==null||i(),S(this,Qs,a);const c={div:null,properties:null,ctx:E(l=ye,an,hp).call(l,u(this,uo))};for(const h of u(this,ho))c.properties=u(this,Yh).get(h),c.div=h,E(this,cs,yb).call(this,c)}}cancel(){var i;const e=new Yo("TextLayer task cancelled.");(i=u(this,co))==null||i.cancel(e).catch(()=>{}),S(this,co,null),u(this,Zs).reject(e)}get textDivs(){return u(this,ho)}get textContentItemsStr(){return u(this,Xh)}static cleanup(){if(!(u(this,mu).size>0)){u(this,fo).clear();for(const{canvas:e}of u(this,po).values())e.remove();u(this,po).clear()}}},Zs=new WeakMap,Ni=new WeakMap,Ih=new WeakMap,Gh=new WeakMap,uo=new WeakMap,Ia=new WeakMap,qh=new WeakMap,Vh=new WeakMap,co=new WeakMap,hu=new WeakMap,du=new WeakMap,Qs=new WeakMap,fu=new WeakMap,Xh=new WeakMap,pu=new WeakMap,ho=new WeakMap,Yh=new WeakMap,$h=new WeakMap,fo=new WeakMap,po=new WeakMap,Kh=new WeakMap,Ws=new WeakMap,mu=new WeakMap,cs=new WeakSet,W_=function(e){var r,l;if(u(this,Ih))return;(l=u(this,Ia)).ctx??(l.ctx=E(r=ye,an,hp).call(r,u(this,uo)));const i=u(this,ho),a=u(this,Xh);for(const c of e){if(i.length>A2){Dt("Ignoring additional textDivs for performance reasons."),S(this,Ih,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=u(this,Ni);S(this,Ni,document.createElement("span")),u(this,Ni).classList.add("markedContent"),c.id!==null&&u(this,Ni).setAttribute("id",`${c.id}`),h.append(u(this,Ni))}else c.type==="endMarkedContent"&&S(this,Ni,u(this,Ni).parentNode);continue}a.push(c.str),E(this,cs,J_).call(this,c)}},J_=function(e){var R;const i=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,ho).push(i);const r=dt.transform(u(this,$h),e.transform);let l=Math.atan2(r[1],r[0]);const c=u(this,fu)[e.fontName];c.vertical&&(l+=Math.PI/2);let h=u(this,Gh)&&c.fontSubstitution||c.fontFamily;h=ye.fontFamilyMap.get(h)||h;const f=Math.hypot(r[2],r[3]),p=f*E(R=ye,an,eE).call(R,h,u(this,uo));let v,b;l===0?(v=r[4],b=r[5]-p):(v=r[4]+p*Math.sin(l),b=r[5]-p*Math.cos(l));const y="calc(var(--scale-factor)*",_=i.style;u(this,Ni)===u(this,hu)?(_.left=`${(100*v/u(this,Vh)).toFixed(2)}%`,_.top=`${(100*b/u(this,qh)).toFixed(2)}%`):(_.left=`${y}${v.toFixed(2)}px)`,_.top=`${y}${b.toFixed(2)}px)`),_.fontSize=`${y}${(u(ye,Ws)*f).toFixed(2)}px)`,_.fontFamily=h,a.fontSize=f,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,u(this,Gh)&&(i.dataset.fontName=c.fontSubstitutionLoadedName||e.fontName),l!==0&&(a.angle=l*(180/Math.PI));let T=!1;if(e.str.length>1)T=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const k=Math.abs(e.transform[0]),C=Math.abs(e.transform[3]);k!==C&&Math.max(k,C)/Math.min(k,C)>1.5&&(T=!0)}if(T&&(a.canvasWidth=c.vertical?e.height:e.width),u(this,Yh).set(i,a),u(this,Ia).div=i,u(this,Ia).properties=a,E(this,cs,yb).call(this,u(this,Ia)),a.hasText&&u(this,Ni).append(i),a.hasEOL){const k=document.createElement("br");k.setAttribute("role","presentation"),u(this,Ni).append(k)}},yb=function(e){var h;const{div:i,properties:a,ctx:r}=e,{style:l}=i;let c="";if(u(ye,Ws)>1&&(c=`scale(${1/u(ye,Ws)})`),a.canvasWidth!==0&&a.hasText){const{fontFamily:f}=l,{canvasWidth:p,fontSize:v}=a;E(h=ye,an,Ab).call(h,r,v*u(this,Qs),f);const{width:b}=r.measureText(i.textContent);b>0&&(c=`scaleX(${p*u(this,Qs)/b}) ${c}`)}a.angle!==0&&(c=`rotate(${a.angle}deg) ${c}`),c.length>0&&(l.transform=c)},an=new WeakSet,hp=function(e=null){let i=u(this,po).get(e||(e=""));if(!i){const a=document.createElement("canvas");a.className="hiddenCanvasElement",a.lang=e,document.body.append(a),i=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,po).set(e,i),u(this,Kh).set(i,{size:0,family:""})}return i},Ab=function(e,i,a){const r=u(this,Kh).get(e);i===r.size&&a===r.family||(e.font=`${i}px ${a}`,r.size=i,r.family=a)},tE=function(){if(u(this,Ws)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),S(this,Ws,e.getBoundingClientRect().height),e.remove()},eE=function(e,i){const a=u(this,fo).get(e);if(a)return a;const r=E(this,an,hp).call(this,i);r.canvas.width=r.canvas.height=Li,E(this,an,Ab).call(this,r,Li,e);const l=r.measureText("");let c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);if(c){const v=c/(c+h);return u(this,fo).set(e,v),r.canvas.width=r.canvas.height=0,v}r.strokeStyle="red",r.clearRect(0,0,Li,Li),r.strokeText("g",0,0);let f=r.getImageData(0,0,Li,Li).data;h=0;for(let v=f.length-1-3;v>=0;v-=4)if(f[v]>0){h=Math.ceil(v/4/Li);break}r.clearRect(0,0,Li,Li),r.strokeText("A",0,Li),f=r.getImageData(0,0,Li,Li).data,c=0;for(let v=0,b=f.length;v<b;v+=4)if(f[v]>0){c=Li-Math.floor(v/4/Li);break}r.canvas.width=r.canvas.height=0;const p=c?c/(c+h):S2;return u(this,fo).set(e,p),p},w(ye,an),w(ye,fo,new Map),w(ye,po,new Map),w(ye,Kh,new WeakMap),w(ye,Ws,null),w(ye,mu,new Set),ye);class fh{static textContent(e){const i=[],a={items:i,styles:Object.create(null)};function r(l){var f;if(!l)return;let c=null;const h=l.name;if(h==="#text")c=l.value;else if(fh.shouldBuildText(h))(f=l==null?void 0:l.attributes)!=null&&f.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&i.push({str:c}),!!l.children)for(const p of l.children)r(p)}return r(e),a}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const _2=65536,E2=100,x2=5e3,T2=vi?PR:NR,w2=vi?BR:P_,R2=vi?zR:jR,C2=vi?UR:F_;function M2(m={}){typeof m=="string"||m instanceof URL?m={url:m}:(m instanceof ArrayBuffer||ArrayBuffer.isView(m))&&(m={data:m});const e=new Sb,{docId:i}=e,a=m.url?k2(m.url):null,r=m.data?L2(m.data):null,l=m.httpHeaders||null,c=m.withCredentials===!0,h=m.password??null,f=m.range instanceof iE?m.range:null,p=Number.isInteger(m.rangeChunkSize)&&m.rangeChunkSize>0?m.rangeChunkSize:_2;let v=m.worker instanceof ql?m.worker:null;const b=m.verbosity,y=typeof m.docBaseUrl=="string"&&!rm(m.docBaseUrl)?m.docBaseUrl:null,_=typeof m.cMapUrl=="string"?m.cMapUrl:null,T=m.cMapPacked!==!1,R=m.CMapReaderFactory||w2,k=typeof m.standardFontDataUrl=="string"?m.standardFontDataUrl:null,C=m.StandardFontDataFactory||C2,D=m.stopAtErrors!==!0,N=Number.isInteger(m.maxImageSize)&&m.maxImageSize>-1?m.maxImageSize:-1,z=m.isEvalSupported!==!1,U=typeof m.isOffscreenCanvasSupported=="boolean"?m.isOffscreenCanvasSupported:!vi,G=typeof m.isChrome=="boolean"?m.isChrome:!Ei.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),X=Number.isInteger(m.canvasMaxAreaInBytes)?m.canvasMaxAreaInBytes:-1,Q=typeof m.disableFontFace=="boolean"?m.disableFontFace:vi,it=m.fontExtraProperties===!0,ot=m.enableXfa===!0,st=m.ownerDocument||globalThis.document,mt=m.disableRange===!0,vt=m.disableStream===!0,ft=m.disableAutoFetch===!0,ht=m.pdfBug===!0,B=m.CanvasFactory||T2,q=m.FilterFactory||R2,W=m.enableHWA===!0,Et=f?f.length:m.length??NaN,L=typeof m.useSystemFonts=="boolean"?m.useSystemFonts:!vi&&!Q,Y=typeof m.useWorkerFetch=="boolean"?m.useWorkerFetch:R===P_&&C===F_&&_&&k&&$c(_,document.baseURI)&&$c(k,document.baseURI);m.canvasFactory&&RS("`canvasFactory`-instance option, please use `CanvasFactory` instead."),m.filterFactory&&RS("`filterFactory`-instance option, please use `FilterFactory` instead.");const tt=null;hR(b);const J={canvasFactory:new B({ownerDocument:st,enableHWA:W}),filterFactory:new q({docId:i,ownerDocument:st}),cMapReaderFactory:Y?null:new R({baseUrl:_,isCompressed:T}),standardFontDataFactory:Y?null:new C({baseUrl:k})};if(!v){const ut={verbosity:b,port:rs.workerPort};v=ut.port?ql.fromPort(ut):new ql(ut),e._worker=v}const lt={docId:i,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:ft,rangeChunkSize:p,length:Et,docBaseUrl:y,enableXfa:ot,evaluatorOptions:{maxImageSize:N,disableFontFace:Q,ignoreErrors:D,isEvalSupported:z,isOffscreenCanvasSupported:U,isChrome:G,canvasMaxAreaInBytes:X,fontExtraProperties:it,useSystemFonts:L,cMapUrl:Y?_:null,standardFontDataUrl:Y?k:null}},xt={disableFontFace:Q,fontExtraProperties:it,ownerDocument:st,pdfBug:ht,styleElement:tt,loadingParams:{disableAutoFetch:ft,enableXfa:ot}};return v.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(v.destroyed)throw new Error("Worker was destroyed");const ut=v.messageHandler.sendWithPromise("GetDocRequest",lt,r?[r.buffer]:null);let Tt;if(f)Tt=new i2(f,{disableRange:mt,disableStream:vt});else if(!r){if(!a)throw new Error("getDocument - no `url` parameter provided.");let Bt;vi?Bt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&$c(a)?US:m2:Bt=$c(a)?US:c2,Tt=new Bt({url:a,length:Et,httpHeaders:l,withCredentials:c,rangeChunkSize:p,disableRange:mt,disableStream:vt})}return ut.then(Bt=>{if(e.destroyed)throw new Error("Loading aborted");if(v.destroyed)throw new Error("Worker was destroyed");const xe=new eh(i,Bt,v.port),Qt=new j2(xe,e,Tt,xt,J);e._transport=Qt,xe.send("Ready",null)})}).catch(e._capability.reject),e}function k2(m){if(m instanceof URL)return m.href;try{return new URL(m,window.location).href}catch{if(vi&&typeof m=="string")return m}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function L2(m){if(vi&&typeof Buffer<"u"&&m instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(m instanceof Uint8Array&&m.byteLength===m.buffer.byteLength)return m;if(typeof m=="string")return am(m);if(m instanceof ArrayBuffer||ArrayBuffer.isView(m)||typeof m=="object"&&!isNaN(m==null?void 0:m.length))return new Uint8Array(m);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function HS(m){return typeof m=="object"&&Number.isInteger(m==null?void 0:m.num)&&m.num>=0&&Number.isInteger(m==null?void 0:m.gen)&&m.gen>=0}var Xp;const Yp=class Yp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${yi(Yp,Xp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,i,a;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(r){throw(a=this._worker)!=null&&a.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Xp=new WeakMap,w(Yp,Xp,0);let Sb=Yp,iE=class{constructor(e,i,a=!1,r=null){this.length=e,this.initialData=i,this.progressiveDone=a,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(const a of this._rangeListeners)a(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){oe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class D2{constructor(e,i){this._pdfInfo=e,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Js,Ga,An,Ul,dp;class O2{constructor(e,i,a,r=!1){w(this,An);w(this,Js,null);w(this,Ga,!1);this._pageIndex=e,this._pageInfo=i,this._transport=a,this._stats=r?new wS:null,this._pdfBug=r,this.commonObjs=a.commonObjs,this.objs=new nE,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:a=0,offsetY:r=0,dontFlip:l=!1}={}){return new Md({viewBox:this.view,scale:e,rotation:i,offsetX:a,offsetY:r,dontFlip:l})}getAnnotations({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ut(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:i,intent:a="display",annotationMode:r=Ps.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:v=null,isEditing:b=!1}){var z,U;(z=this._stats)==null||z.time("Overall");const y=this._transport.getRenderingIntent(a,r,v,b),{renderingIntent:_,cacheKey:T}=y;S(this,Ga,!1),E(this,An,dp).call(this),h||(h=this._transport.getOptionalContentConfig(_));let R=this._intentStates.get(T);R||(R=Object.create(null),this._intentStates.set(T,R)),R.streamReaderCancelTimeout&&(clearTimeout(R.streamReaderCancelTimeout),R.streamReaderCancelTimeout=null);const k=!!(_&en.PRINT);R.displayReadyCapability||(R.displayReadyCapability=Promise.withResolvers(),R.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(U=this._stats)==null||U.time("Page Request"),this._pumpOperatorList(y));const C=G=>{var X;R.renderTasks.delete(D),(this._maybeCleanupAfterRender||k)&&S(this,Ga,!0),E(this,An,Ul).call(this,!k),G?(D.capability.reject(G),this._abortOperatorList({intentState:R,reason:G instanceof Error?G:new Error(G)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(X=globalThis.Stats)!=null&&X.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new Eb({callback:C,params:{canvasContext:e,viewport:i,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:R.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:p});(R.renderTasks||(R.renderTasks=new Set)).add(D);const N=D.task;return Promise.all([R.displayReadyCapability.promise,h]).then(([G,X])=>{var Q;if(this.destroyed){C();return}if((Q=this._stats)==null||Q.time("Rendering"),!(X.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:G,optionalContentConfig:X}),D.operatorListChanged()}).catch(C),N}getOperatorList({intent:e="display",annotationMode:i=Ps.ENABLE,printAnnotationStorage:a=null,isEditing:r=!1}={}){var p;function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(e,i,a,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>fh.textContent(a));const i=this.streamTextContent(e);return new Promise(function(a,r){function l(){c.read().then(function({value:f,done:p}){if(p){a(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),l()},r)}const c=i.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const a of i.renderTasks)e.push(a.completed),a.cancel();return this.objs.clear(),S(this,Ga,!1),E(this,An,dp).call(this),Promise.all(e)}cleanup(e=!1){S(this,Ga,!0);const i=E(this,An,Ul).call(this,!1);return e&&i&&this._stats&&(this._stats=new wS),i}_startRenderPage(e,i){var r,l;const a=this._intentStates.get(i);a&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=a.displayReadyCapability)==null||l.resolve(e))}_renderPageChunk(e,i){for(let a=0,r=e.length;a<r;a++)i.operatorList.fnArray.push(e.fnArray[a]),i.operatorList.argsArray.push(e.argsArray[a]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(const a of i.renderTasks)a.operatorListChanged();e.lastChunk&&E(this,An,Ul).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:a,modifiedIds:r}){const{map:l,transfer:c}=a,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:l,modifiedIds:r},c).getReader(),p=this._intentStates.get(i);p.streamReader=f;const v=()=>{f.read().then(({value:b,done:y})=>{if(y){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,p),v())},b=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const y of p.renderTasks)y.operatorListChanged();E(this,An,Ul).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(b);else if(p.opListReadCapability)p.opListReadCapability.reject(b);else throw b}})};v()}_abortOperatorList({intentState:e,reason:i,force:a=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!a){if(e.renderTasks.size>0)return;if(i instanceof u0){let r=E2;i.extraDelay>0&&i.extraDelay<1e3&&(r+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},r);return}}if(e.streamReader.cancel(new Yo(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Js=new WeakMap,Ga=new WeakMap,An=new WeakSet,Ul=function(e=!1){if(E(this,An,dp).call(this),!u(this,Ga)||this.destroyed)return!1;if(e)return S(this,Js,setTimeout(()=>{S(this,Js,null),E(this,An,Ul).call(this,!1)},x2)),!1;for(const{renderTasks:i,operatorList:a}of this._intentStates.values())if(i.size>0||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),S(this,Ga,!1),!0},dp=function(){u(this,Js)&&(clearTimeout(u(this,Js)),S(this,Js,null))};var qa,$p;class N2{constructor(){w(this,qa,new Map);w(this,$p,Promise.resolve())}postMessage(e,i){const a={data:structuredClone(e,i?{transfer:i}:null)};u(this,$p).then(()=>{for(const[r]of u(this,qa))r.call(this,a)})}addEventListener(e,i,a=null){let r=null;if((a==null?void 0:a.signal)instanceof AbortSignal){const{signal:l}=a;if(l.aborted){Dt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(e,i);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}u(this,qa).set(i,r)}removeEventListener(e,i){const a=u(this,qa).get(i);a==null||a(),u(this,qa).delete(i)}terminate(){for(const[,e]of u(this,qa))e==null||e();u(this,qa).clear()}}qa=new WeakMap,$p=new WeakMap;var Kp,mo,go,gu,fp,vu,pp;const ce=class ce{constructor({name:e=null,port:i=null,verbosity:a=dR()}={}){w(this,gu);var r;if(this.name=e,this.destroyed=!1,this.verbosity=a,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((r=u(ce,go))!=null&&r.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(u(ce,go)||S(ce,go,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return vi?Promise.all([dr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new eh("main","worker",e),this._messageHandler.on("ready",function(){}),E(this,gu,fp).call(this)}_initialize(){if(u(ce,mo)||u(ce,vu,pp)){this._setupFakeWorker();return}let{workerSrc:e}=ce;try{ce._isSameOrigin(window.location.href,e)||(e=ce._createCDNWrapper(new URL(e,window.location).href));const i=new Worker(e,{type:"module"}),a=new eh("main","worker",i),r=()=>{l.abort(),a.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;i.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),a.on("test",h=>{if(l.abort(),this.destroyed||!h){r();return}this._messageHandler=a,this._port=i,this._webWorker=i,E(this,gu,fp).call(this)}),a.on("ready",h=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;a.send("test",h,[h.buffer])};c();return}catch{im("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(ce,mo)||(Dt("Setting up fake worker."),S(ce,mo,!0)),ce._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new N2;this._port=i;const a=`fake${yi(ce,Kp)._++}`,r=new eh(a+"_worker",a,i);e.setup(r,i),this._messageHandler=new eh(a,a+"_worker",i),E(this,gu,fp).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=u(ce,go))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var a;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(a=u(this,go))==null?void 0:a.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new ce(e)}static get workerSrc(){if(rs.workerSrc)return rs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ut(this,"_setupFakeWorkerGlobal",(async()=>u(this,vu,pp)?u(this,vu,pp):(await import(this.workerSrc)).WorkerMessageHandler)())}};Kp=new WeakMap,mo=new WeakMap,go=new WeakMap,gu=new WeakSet,fp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},vu=new WeakSet,pp=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},w(ce,vu),w(ce,Kp,0),w(ce,mo,!1),w(ce,go),vi&&(S(ce,mo,!0),rs.workerSrc||(rs.workerSrc="./pdf.worker.mjs")),ce._isSameOrigin=(e,i)=>{let a;try{if(a=new URL(e),!a.origin||a.origin==="null")return!1}catch{return!1}const r=new URL(i,a);return a.origin===r.origin},ce._createCDNWrapper=e=>{const i=`await import("${e}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let ql=ce;var Va,ra,bu,yu,oa,vo,ih;class j2{constructor(e,i,a,r,l){w(this,vo);w(this,Va,new Map);w(this,ra,new Map);w(this,bu,new Map);w(this,yu,new Map);w(this,oa,null);this.messageHandler=e,this.loadingTask=i,this.commonObjs=new nE,this.fontLoader=new DR({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ut(this,"annotationStorage",new f0)}getRenderingIntent(e,i=Ps.ENABLE,a=null,r=!1,l=!1){let c=en.DISPLAY,h=ub;switch(e){case"any":c=en.ANY;break;case"display":break;case"print":c=en.PRINT;break;default:Dt(`getRenderingIntent - invalid intent: ${e}`)}const f=c&en.PRINT&&a instanceof N_?a:this.annotationStorage;switch(i){case Ps.DISABLE:c+=en.ANNOTATIONS_DISABLE;break;case Ps.ENABLE:break;case Ps.ENABLE_FORMS:c+=en.ANNOTATIONS_FORMS;break;case Ps.ENABLE_STORAGE:c+=en.ANNOTATIONS_STORAGE,h=f.serializable;break;default:Dt(`getRenderingIntent - invalid annotationMode: ${i}`)}r&&(c+=en.IS_EDITING),l&&(c+=en.OPLIST);const{ids:p,hash:v}=f.modifiedIds,b=[c,h.hash,v];return{renderingIntent:c,cacheKey:b.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){var a;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(a=u(this,oa))==null||a.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of u(this,ra).values())e.push(r._destroy());u(this,ra).clear(),u(this,bu).clear(),u(this,yu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),u(this,Va).clear(),this.filterFactory.destroy(),bb.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Yo("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(a,r)=>{Be(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}Be(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("ReaderHeadersReady",async a=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((h=i.onProgress)==null||h.call(i,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=i.onProgress)==null||p.call(i,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),e.on("GetRangeReader",(a,r)=>{Be(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(a.begin,a.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:h}){if(h){r.close();return}Be(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),e.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,i._capability.resolve(new D2(a,this))}),e.on("DocException",function(a){let r;switch(a.name){case"PasswordException":r=new Fv(a.message,a.code);break;case"InvalidPDFException":r=new r_(a.message);break;case"MissingPDFException":r=new Xo(a.message);break;case"UnexpectedResponseException":r=new nm(a.message,a.status);break;case"UnknownErrorException":r=new Iv(a.message,a.details);break;default:oe("DocException - expected a valid Error.")}i._capability.reject(r)}),e.on("PasswordRequest",a=>{if(S(this,oa,Promise.withResolvers()),i.onPassword){const r=l=>{l instanceof Error?u(this,oa).reject(l):u(this,oa).resolve({password:l})};try{i.onPassword(r,a.code)}catch(l){u(this,oa).reject(l)}}else u(this,oa).reject(new Fv(a.message,a.code));return u(this,oa).promise}),e.on("DataLoaded",a=>{var r;(r=i.onProgress)==null||r.call(i,{loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),e.on("StartRenderPage",a=>{if(this.destroyed)return;u(this,ra).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),e.on("commonobj",([a,r,l])=>{var c;if(this.destroyed||this.commonObjs.has(a))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in l){const _=l.error;Dt(`Error during font loading: ${_}`),this.commonObjs.resolve(a,_);break}const v=p&&((c=globalThis.FontInspector)!=null&&c.enabled)?(_,T)=>globalThis.FontInspector.fontAdded(_,T):null,b=new OR(l,{disableFontFace:h,inspectFont:v});this.fontLoader.bind(b).catch(()=>e.sendWithPromise("FontFallback",{id:a})).finally(()=>{!f&&b.data&&(b.data=null),this.commonObjs.resolve(a,b)});break;case"CopyLocalImage":const{imageRef:y}=l;Be(y,"The imageRef must be defined.");for(const _ of u(this,ra).values())for(const[,T]of _.objs)if((T==null?void 0:T.ref)===y)return T.dataLen?(this.commonObjs.resolve(a,structuredClone(T)),T.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([a,r,l,c])=>{var f;if(this.destroyed)return;const h=u(this,ra).get(r);if(!h.objs.has(a)){if(h._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(l){case"Image":h.objs.resolve(a,c),(c==null?void 0:c.dataLen)>oR&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(a,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),e.on("DocProgress",a=>{var r;this.destroyed||(r=i.onProgress)==null||r.call(i,{loaded:a.loaded,total:a.total})}),e.on("FetchBuiltInCMap",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(a)}),e.on("FetchStandardFontData",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(a)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var a;this.annotationStorage.size<=0&&Dt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((a=this._fullReader)==null?void 0:a.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=e-1,a=u(this,bu).get(i);if(a)return a;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&u(this,yu).set(l.refStr,e);const c=new O2(i,l,this,this._params.pdfBug);return u(this,ra).set(i,c),c});return u(this,bu).set(i,r),r}getPageIndex(e){return HS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return E(this,vo,ih).call(this,"GetFieldObjects")}hasJSActions(){return E(this,vo,ih).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,vo,ih).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,vo,ih).call(this,"GetOptionalContentConfig").then(i=>new e2(i,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",i=u(this,Va).get(e);if(i)return i;const a=this.messageHandler.sendWithPromise(e,null).then(r=>{var l,c;return{info:r[0],metadata:r[1]?new JR(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return u(this,Va).set(e,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of u(this,ra).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,Va).clear(),this.filterFactory.destroy(!0),bb.cleanup()}}cachedPageNumber(e){if(!HS(e))return null;const i=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,yu).get(i)??null}}Va=new WeakMap,ra=new WeakMap,bu=new WeakMap,yu=new WeakMap,oa=new WeakMap,vo=new WeakSet,ih=function(e,i=null){const a=u(this,Va).get(e);if(a)return a;const r=this.messageHandler.sendWithPromise(e,i);return u(this,Va).set(e,r),r};const tp=Symbol("INITIAL_DATA");var Nn,Zh,_b;class nE{constructor(){w(this,Zh);w(this,Nn,Object.create(null))}get(e,i=null){if(i){const r=E(this,Zh,_b).call(this,e);return r.promise.then(()=>i(r.data)),null}const a=u(this,Nn)[e];if(!a||a.data===tp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return a.data}has(e){const i=u(this,Nn)[e];return!!i&&i.data!==tp}resolve(e,i=null){const a=E(this,Zh,_b).call(this,e);a.data=i,a.resolve()}clear(){var e;for(const i in u(this,Nn)){const{data:a}=u(this,Nn)[i];(e=a==null?void 0:a.bitmap)==null||e.close()}S(this,Nn,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,Nn)){const{data:i}=u(this,Nn)[e];i!==tp&&(yield[e,i])}}}Nn=new WeakMap,Zh=new WeakSet,_b=function(e){var i;return(i=u(this,Nn))[e]||(i[e]={...Promise.withResolvers(),data:tp})};var tr;class z2{constructor(e){w(this,tr,null);S(this,tr,e),this.onContinue=null}get promise(){return u(this,tr).capability.promise}cancel(e=0){u(this,tr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,tr).operatorList;if(!e)return!1;const{annotationCanvasMap:i}=u(this,tr);return e.form||e.canvas&&(i==null?void 0:i.size)>0}}tr=new WeakMap;var er,bo;const Ir=class Ir{constructor({callback:e,params:i,objs:a,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:v=!1,pdfBug:b=!1,pageColors:y=null}){w(this,er,null);this.callback=e,this.params=i,this.objs=a,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=b,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=v===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new z2(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){var h,f;if(this.cancelled)return;if(this._canvas){if(u(Ir,bo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(Ir,bo).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:r,transform:l,background:c}=this.params;this.gfx=new Gl(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:e,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(e=null,i=0){var a;this.running=!1,this.cancelled=!0,(a=this.gfx)==null||a.endDrawing(),u(this,er)&&(window.cancelAnimationFrame(u(this,er)),S(this,er,null)),u(Ir,bo).delete(this._canvas),this.callback(e||new u0(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?S(this,er,window.requestAnimationFrame(()=>{S(this,er,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(Ir,bo).delete(this._canvas),this.callback())))}};er=new WeakMap,bo=new WeakMap,w(Ir,bo,new WeakSet);let Eb=Ir;const P2="4.8.69",B2="3634dab10";function FS(m){return Math.floor(Math.max(0,Math.min(1,m))*255).toString(16).padStart(2,"0")}function Yc(m){return Math.max(0,Math.min(255,255*m))}class IS{static CMYK_G([e,i,a,r]){return["G",1-Math.min(1,.3*e+.59*a+.11*i+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Yc(e),[e,e,e]}static G_HTML([e]){const i=FS(e);return`#${i}${i}${i}`}static RGB_G([e,i,a]){return["G",.3*e+.59*i+.11*a]}static RGB_rgb(e){return e.map(Yc)}static RGB_HTML(e){return`#${e.map(FS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,i,a,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,a+r),1-Math.min(1,i+r)]}static CMYK_rgb([e,i,a,r]){return[Yc(1-Math.min(1,e+r)),Yc(1-Math.min(1,a+r)),Yc(1-Math.min(1,i+r))]}static CMYK_HTML(e){const i=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([e,i,a]){const r=1-e,l=1-i,c=1-a,h=Math.min(r,l,c);return["CMYK",r,l,c,h]}}class U2{create(e,i,a=!1){if(e<=0||i<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),a||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${i}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${i}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){oe("Abstract method `_createSVG` called.")}}class b0 extends U2{_createSVG(e){return document.createElementNS(Oa,e)}}class aE{static setupStorage(e,i,a,r,l){const c=r.getValue(i,{value:null});switch(a.name){case"textarea":if(c.value!==null&&(e.textContent=c.value),l==="print")break;e.addEventListener("input",h=>{r.setValue(i,{value:h.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(c.value===a.attributes.xfaOn?e.setAttribute("checked",!0):c.value===a.attributes.xfaOff&&e.removeAttribute("checked"),l==="print")break;e.addEventListener("change",h=>{r.setValue(i,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&e.setAttribute("value",c.value),l==="print")break;e.addEventListener("input",h=>{r.setValue(i,{value:h.target.value})})}break;case"select":if(c.value!==null){e.setAttribute("value",c.value);for(const h of a.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}e.addEventListener("input",h=>{const f=h.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(i,{value:p})});break}}static setAttributes({html:e,element:i,storage:a=null,intent:r,linkService:l}){const{attributes:c}=i,h=e instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[f,p]of Object.entries(c))if(p!=null)switch(f){case"class":p.length&&e.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!h||f!=="href"&&f!=="newWindow")&&e.setAttribute(f,p)}h&&l.addLinkAttributes(e,c.href,c.newWindow),a&&c.dataId&&this.setupStorage(e,c.dataId,i,a)}static render(e){var b,y;const i=e.annotationStorage,a=e.linkService,r=e.xfaHtml,l=e.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:a});const h=l!=="richText",f=e.div;if(f.append(c),e.viewport){const _=`matrix(${e.viewport.transform.join(",")})`;f.style.transform=_}h&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const _=document.createTextNode(r.value);c.append(_),h&&fh.shouldBuildText(r.name)&&p.push(_)}return{textDivs:p}}const v=[[r,-1,c]];for(;v.length>0;){const[_,T,R]=v.at(-1);if(T+1===_.children.length){v.pop();continue}const k=_.children[++v.at(-1)[1]];if(k===null)continue;const{name:C}=k;if(C==="#text"){const N=document.createTextNode(k.value);p.push(N),R.append(N);continue}const D=(b=k==null?void 0:k.attributes)!=null&&b.xmlns?document.createElementNS(k.attributes.xmlns,C):document.createElement(C);if(R.append(D),k.attributes&&this.setAttributes({html:D,element:k,storage:i,intent:l,linkService:a}),((y=k.children)==null?void 0:y.length)>0)v.push([k,-1,D]);else if(k.value){const N=document.createTextNode(k.value);h&&fh.shouldBuildText(C)&&p.push(N),D.append(N)}}for(const _ of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const i=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=i,e.div.hidden=!1}}const Ld=1e3,H2=9,Io=new WeakSet;function os(m){return{width:m[2]-m[0],height:m[3]-m[1]}}class F2{static create(e){switch(e.data.annotationType){case Ne.LINK:return new sE(e);case Ne.TEXT:return new I2(e);case Ne.WIDGET:switch(e.data.fieldType){case"Tx":return new G2(e);case"Btn":return e.data.radioButton?new lE(e):e.data.checkBox?new V2(e):new X2(e);case"Ch":return new Y2(e);case"Sig":return new q2(e)}return new $o(e);case Ne.POPUP:return new Tb(e);case Ne.FREETEXT:return new fE(e);case Ne.LINE:return new K2(e);case Ne.SQUARE:return new Z2(e);case Ne.CIRCLE:return new Q2(e);case Ne.POLYLINE:return new pE(e);case Ne.CARET:return new J2(e);case Ne.INK:return new y0(e);case Ne.POLYGON:return new W2(e);case Ne.HIGHLIGHT:return new mE(e);case Ne.UNDERLINE:return new tC(e);case Ne.SQUIGGLY:return new eC(e);case Ne.STRIKEOUT:return new iC(e);case Ne.STAMP:return new gE(e);case Ne.FILEATTACHMENT:return new nC(e);default:return new Ee(e)}}}var yo,Au,Su,Qh,xb;const E0=class E0{constructor(e,{isRenderable:i=!1,ignoreBorder:a=!1,createQuadrilaterals:r=!1}={}){w(this,Qh);w(this,yo,null);w(this,Au,!1);w(this,Su,null);this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(a)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:i,richText:a}){return!!(e!=null&&e.str||i!=null&&i.str||a!=null&&a.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return E0._hasPopupData(this.data)}updateEdited(e){var a;if(!this.container)return;u(this,yo)||S(this,yo,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&E(this,Qh,xb).call(this,i),(a=u(this,Su))==null||a.popup.updateEdited(e)}resetEdited(){var e;u(this,yo)&&(E(this,Qh,xb).call(this,u(this,yo).rect),(e=u(this,Su))==null||e.popup.resetEdited(),S(this,yo,null))}_createContainer(e){const{data:i,parent:{page:a,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",i.id),this instanceof $o||(l.tabIndex=Ld);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,i.alternativeText&&(l.title=i.alternativeText),i.noRotate&&l.classList.add("norotate"),!i.rect||this instanceof Tb){const{rotation:R}=i;return!i.hasOwnCanvas&&R!==0&&this.setRotation(R,l),l}const{width:h,height:f}=os(i.rect);if(!e&&i.borderStyle.width>0){c.borderWidth=`${i.borderStyle.width}px`;const R=i.borderStyle.horizontalCornerRadius,k=i.borderStyle.verticalCornerRadius;if(R>0||k>0){const D=`calc(${R}px * var(--scale-factor)) / calc(${k}px * var(--scale-factor))`;c.borderRadius=D}else if(this instanceof lE){const D=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=D}switch(i.borderStyle.style){case Vc.SOLID:c.borderStyle="solid";break;case Vc.DASHED:c.borderStyle="dashed";break;case Vc.BEVELED:Dt("Unimplemented border style: beveled");break;case Vc.INSET:Dt("Unimplemented border style: inset");break;case Vc.UNDERLINE:c.borderBottomStyle="solid";break}const C=i.borderColor||null;C?(S(this,Au,!0),c.borderColor=dt.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):c.borderWidth=0}const p=dt.normalizeRect([i.rect[0],a.view[3]-i.rect[1]+a.view[1],i.rect[2],a.view[3]-i.rect[3]+a.view[1]]),{pageWidth:v,pageHeight:b,pageX:y,pageY:_}=r.rawDims;c.left=`${100*(p[0]-y)/v}%`,c.top=`${100*(p[1]-_)/b}%`;const{rotation:T}=i;return i.hasOwnCanvas||T===0?(c.width=`${100*h/v}%`,c.height=`${100*f/b}%`):this.setRotation(T,l),l}setRotation(e,i=this.container){if(!this.data.rect)return;const{pageWidth:a,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:c}=os(this.data.rect);let h,f;e%180===0?(h=100*l/a,f=100*c/r):(h=100*c/a,f=100*l/r),i.style.width=`${h}%`,i.style.height=`${f}%`,i.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(i,a,r)=>{const l=r.detail[i],c=l[0],h=l.slice(1);r.target.style[a]=IS[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[a]:IS[`${c}_rgb`](h)})};return Ut(this,"_commonActions",{display:i=>{const{display:a}=i.detail,r=a%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:a===1||a===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:a}=i.detail;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:a,noView:a})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{e("bgColor","backgroundColor",i)},fillColor:i=>{e("fillColor","backgroundColor",i)},fgColor:i=>{e("fgColor","color",i)},textColor:i=>{e("textColor","color",i)},borderColor:i=>{e("borderColor","borderColor",i)},strokeColor:i=>{e("strokeColor","borderColor",i)},rotation:i=>{const a=i.detail.rotation;this.setRotation(a),this.annotationStorage.setValue(this.data.id,{rotation:a})}})}_dispatchEventFromSandbox(e,i){const a=this._commonActions;for(const r of Object.keys(i.detail)){const l=e[r]||a[r];l==null||l(i)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const a=this._commonActions;for(const[r,l]of Object.entries(i)){const c=a[r];if(c){const h={detail:{[r]:l},target:e};c(h),delete i[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[i,a,r,l]=this.data.rect.map(R=>Math.fround(R));if(e.length===8){const[R,k,C,D]=e.subarray(2,6);if(r===R&&l===k&&i===C&&a===D)return}const{style:c}=this.container;let h;if(u(this,Au)){const{borderColor:R,borderWidth:k}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${R}" stroke-width="${k}">`],this.container.classList.add("hasBorder")}const f=r-i,p=l-a,{svgFactory:v}=this,b=v.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);const y=v.createElement("defs");b.append(y);const _=v.createElement("clipPath"),T=`clippath_${this.data.id}`;_.setAttribute("id",T),_.setAttribute("clipPathUnits","objectBoundingBox"),y.append(_);for(let R=2,k=e.length;R<k;R+=8){const C=e[R],D=e[R+1],N=e[R+2],z=e[R+3],U=v.createElement("rect"),G=(N-i)/f,X=(l-D)/p,Q=(C-N)/f,it=(D-z)/p;U.setAttribute("x",G),U.setAttribute("y",X),U.setAttribute("width",Q),U.setAttribute("height",it),_.append(U),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${G}" y="${X}" width="${Q}" height="${it}"/>`)}u(this,Au)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(b),this.container.style.clipPath=`url(#${T})`}_createPopup(){const{data:e}=this,i=S(this,Su,new Tb({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){oe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,i=null){const a=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:l,id:c,exportValues:h}of r){if(l===-1||c===i)continue;const f=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!Io.has(p)){Dt(`_getElementsByName - element not allowed: ${c}`);continue}a.push({id:c,exportValue:f,domElement:p})}return a}for(const r of document.getElementsByName(e)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==i&&Io.has(r)&&a.push({id:c,exportValue:l,domElement:r})}return a}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const i of e)i.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("switchannotationeditormode",{source:this,mode:e,editId:i})})}};yo=new WeakMap,Au=new WeakMap,Su=new WeakMap,Qh=new WeakSet,xb=function(e){const{container:{style:i},data:{rect:a,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:f}}}}=this;a==null||a.splice(0,4,...e);const{width:p,height:v}=os(e);i.left=`${100*(e[0]-h)/l}%`,i.top=`${100*(c-e[3]+f)/c}%`,r===0?(i.width=`${100*p/l}%`,i.height=`${100*v/c}%`):this.setRotation(r)};let Ee=E0;var nn,Pr,rE,oE;class sE extends Ee{constructor(i,a=null){super(i,{isRenderable:!0,ignoreBorder:!!(a!=null&&a.ignoreBorder),createQuadrilaterals:!0});w(this,nn);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:a}=this,r=document.createElement("a");r.setAttribute("data-element-id",i.id);let l=!1;return i.url?(a.addLinkAttributes(r,i.url,i.newWindow),l=!0):i.action?(this._bindNamedAction(r,i.action),l=!0):i.attachment?(E(this,nn,rE).call(this,r,i.attachment,i.attachmentDest),l=!0):i.setOCGState?(E(this,nn,oE).call(this,r,i.setOCGState),l=!0):i.dest?(this._bindLink(r,i.dest),l=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,i),l=!0),i.resetForm?(this._bindResetFormAction(r,i.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(i,a){i.href=this.linkService.getDestinationHash(a),i.onclick=()=>(a&&this.linkService.goToDestination(a),!1),(a||a==="")&&E(this,nn,Pr).call(this)}_bindNamedAction(i,a){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(a),!1),E(this,nn,Pr).call(this)}_bindJSAction(i,a){i.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(a.actions)){const c=r.get(l);c&&(i[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a.id,name:l}}),!1})}i.onclick||(i.onclick=()=>!1),E(this,nn,Pr).call(this)}_bindResetFormAction(i,a){const r=i.onclick;if(r||(i.href=this.linkService.getAnchorUrl("")),E(this,nn,Pr).call(this),!this._fieldObjects){Dt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(i.onclick=()=>!1);return}i.onclick=()=>{var b;r==null||r();const{fields:l,refs:c,include:h}=a,f=[];if(l.length!==0||c.length!==0){const y=new Set(c);for(const _ of l){const T=this._fieldObjects[_]||[];for(const{id:R}of T)y.add(R)}for(const _ of Object.values(this._fieldObjects))for(const T of _)y.has(T.id)===h&&f.push(T)}else for(const y of Object.values(this._fieldObjects))f.push(...y);const p=this.annotationStorage,v=[];for(const y of f){const{id:_}=y;switch(v.push(_),y.type){case"text":{const R=y.defaultValue||"";p.setValue(_,{value:R});break}case"checkbox":case"radiobutton":{const R=y.defaultValue===y.exportValues;p.setValue(_,{value:R});break}case"combobox":case"listbox":{const R=y.defaultValue||"";p.setValue(_,{value:R});break}default:continue}const T=document.querySelector(`[data-element-id="${_}"]`);if(T){if(!Io.has(T)){Dt(`_bindResetFormAction - element not allowed: ${_}`);continue}}else continue;T.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:v,name:"ResetForm"}})),!1}}}nn=new WeakSet,Pr=function(){this.container.setAttribute("data-internal-link","")},rE=function(i,a,r=null){i.href=this.linkService.getAnchorUrl(""),a.description&&(i.title=a.description),i.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(a.content,a.filename,r),!1},E(this,nn,Pr).call(this)},oE=function(i,a){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(a),!1),E(this,nn,Pr).call(this)};class I2 extends Ee{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class $o extends Ee{render(){return this.container}showElementAndHideCanvas(e){var i;this.data.hasOwnCanvas&&(((i=e.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ei.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,i,a,r,l){a.includes("mouse")?e.addEventListener(a,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):e.addEventListener(a,c=>{var h;if(a==="blur"){if(!i.focused||!c.relatedTarget)return;i.focused=!1}else if(a==="focus"){if(i.focused)return;i.focused=!0}l&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}}))})}_setEventListeners(e,i,a,r){var l,c,h;for(const[f,p]of a)(p==="Action"||(l=this.data.actions)!=null&&l[p])&&((p==="Focus"||p==="Blur")&&(i||(i={focused:!1})),this._setEventListener(e,i,f,p,r),p==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(e,i,"blur","Blur",null):p==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(e,i,"focus","Focus",null))}_setBackgroundColor(e){const i=this.data.backgroundColor||null;e.style.backgroundColor=i===null?"transparent":dt.makeHexColor(i[0],i[1],i[2])}_setTextStyle(e){const i=["left","center","right"],{fontColor:a}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||H2,l=e.style;let c;const h=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),v=Math.round(p/(Ov*r))||1,b=p/v;c=Math.min(r,f(b/Ov))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,f(p/Ov))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=dt.makeHexColor(a[0],a[1],a[2]),this.data.textAlignment!==null&&(l.textAlign=i[this.data.textAlignment])}_setRequired(e,i){i?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",i)}}class G2 extends $o{constructor(e){const i=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:i})}setPropertyOnSiblings(e,i,a,r){const l=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[i]=a),l.setValue(c.id,{[r]:a})}render(){var r,l;const e=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let a=null;if(this.renderForms){const c=e.getValue(i,{value:this.data.fieldValue});let h=c.value||"";const f=e.getValue(i,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let p=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const v={userValue:h,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=p??h,this.data.doNotScroll&&(a.style.overflowY="hidden")):(a=document.createElement("input"),a.type="text",a.setAttribute("value",p??h),this.data.doNotScroll&&(a.style.overflowX="hidden")),this.data.hasOwnCanvas&&(a.hidden=!0),Io.add(a),a.setAttribute("data-element-id",i),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=Ld,this._setRequired(a,this.data.required),f&&(a.maxLength=f),a.addEventListener("input",y=>{e.setValue(i,{value:y.target.value}),this.setPropertyOnSiblings(a,"value",y.target.value,"value"),v.formattedValue=null}),a.addEventListener("resetform",y=>{const _=this.data.defaultFieldValue??"";a.value=v.userValue=_,v.formattedValue=null});let b=y=>{const{formattedValue:_}=v;_!=null&&(y.target.value=_),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",_=>{var R;if(v.focused)return;const{target:T}=_;v.userValue&&(T.value=v.userValue),v.lastCommittedValue=T.value,v.commitKey=1,(R=this.data.actions)!=null&&R.Focus||(v.focused=!0)}),a.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const T={value(R){v.userValue=R.detail.value??"",e.setValue(i,{value:v.userValue.toString()}),R.target.value=v.userValue},formattedValue(R){const{formattedValue:k}=R.detail;v.formattedValue=k,k!=null&&R.target!==document.activeElement&&(R.target.value=k),e.setValue(i,{formattedValue:k})},selRange(R){R.target.setSelectionRange(...R.detail.selRange)},charLimit:R=>{var N;const{charLimit:k}=R.detail,{target:C}=R;if(k===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",k);let D=v.userValue;!D||D.length<=k||(D=D.slice(0,k),C.value=v.userValue=D,e.setValue(i,{value:D}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(T,_)}),a.addEventListener("keydown",_=>{var k;v.commitKey=1;let T=-1;if(_.key==="Escape"?T=0:_.key==="Enter"&&!this.data.multiLine?T=2:_.key==="Tab"&&(v.commitKey=3),T===-1)return;const{value:R}=_.target;v.lastCommittedValue!==R&&(v.lastCommittedValue=R,v.userValue=R,(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:R,willCommit:!0,commitKey:T,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const y=b;b=null,a.addEventListener("blur",_=>{var R,k;if(!v.focused||!_.relatedTarget)return;(R=this.data.actions)!=null&&R.Blur||(v.focused=!1);const{value:T}=_.target;v.userValue=T,v.lastCommittedValue!==T&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:T,willCommit:!0,commitKey:v.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),y(_)}),(l=this.data.actions)!=null&&l.Keystroke&&a.addEventListener("beforeinput",_=>{var U;v.lastCommittedValue=null;const{data:T,target:R}=_,{value:k,selectionStart:C,selectionEnd:D}=R;let N=C,z=D;switch(_.inputType){case"deleteWordBackward":{const G=k.substring(0,C).match(/\w*[^\w]*$/);G&&(N-=G[0].length);break}case"deleteWordForward":{const G=k.substring(C).match(/^[^\w]*\w*/);G&&(z+=G[0].length);break}case"deleteContentBackward":C===D&&(N-=1);break;case"deleteContentForward":C===D&&(z+=1);break}_.preventDefault(),(U=this.linkService.eventBus)==null||U.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:k,change:T||"",willCommit:!1,selStart:N,selEnd:z}})}),this._setEventListeners(a,v,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(b&&a.addEventListener("blur",b),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/f;a.classList.add("comb"),a.style.letterSpacing=`calc(${_}px * var(--scale-factor) - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",this.data.hasOwnCanvas&&(a.hidden=!0);return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class q2 extends $o{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class V2 extends $o{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,i=this.data,a=i.id;let r=e.getValue(a,{value:i.exportValue===i.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(a,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Io.add(l),l.setAttribute("data-element-id",a),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=i.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",i.exportValue),l.tabIndex=Ld,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,a)){const v=f&&p.exportValue===i.exportValue;p.domElement&&(p.domElement.checked=v),e.setValue(p.id,{value:v})}e.setValue(a,{value:f})}),l.addEventListener("resetform",c=>{const h=i.defaultFieldValue||"Off";c.target.checked=h===i.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",e.setValue(a,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class lE extends $o{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,i=this.data,a=i.id;let r=e.getValue(a,{value:i.fieldValue===i.buttonValue}).value;if(typeof r=="string"&&(r=r!==i.buttonValue,e.setValue(a,{value:r})),r)for(const c of this._getElementsByName(i.fieldName,a))e.setValue(c.id,{value:!1});const l=document.createElement("input");if(Io.add(l),l.setAttribute("data-element-id",a),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=i.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=Ld,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,a))e.setValue(p.id,{value:!1});e.setValue(a,{value:f})}),l.addEventListener("resetform",c=>{const h=i.defaultFieldValue;c.target.checked=h!=null&&h===i.buttonValue}),this.enableScripting&&this.hasJSActions){const c=i.buttonValue;l.addEventListener("updatefromsandbox",h=>{const f={value:p=>{const v=c===p.detail.value;for(const b of this._getElementsByName(p.target.name)){const y=v&&b.id===a;b.domElement&&(b.domElement.checked=y),e.setValue(b.id,{value:y})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class X2 extends sE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const i=e.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),e}}class Y2 extends $o{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,i=this.data.id,a=e.getValue(i,{value:this.data.fieldValue}),r=document.createElement("select");Io.add(r),r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Ld;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",v=>{const b=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===b});for(const v of this.data.options){const b=document.createElement("option");b.textContent=v.displayValue,b.value=v.exportValue,a.value.includes(v.exportValue)&&(b.setAttribute("selected",!0),l=!1),r.append(b)}let c=null;if(l){const v=document.createElement("option");v.value=" ",v.setAttribute("hidden",!0),v.setAttribute("selected",!0),r.prepend(v),c=()=>{v.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=v=>{const b=v?"value":"textContent",{options:y,multiple:_}=r;return _?Array.prototype.filter.call(y,T=>T.selected).map(T=>T[b]):y.selectedIndex===-1?null:y[y.selectedIndex][b]};let f=h(!1);const p=v=>{const b=v.target.options;return Array.prototype.map.call(b,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",v=>{const b={value(y){c==null||c();const _=y.detail.value,T=new Set(Array.isArray(_)?_:[_]);for(const R of r.options)R.selected=T.has(R.value);e.setValue(i,{value:h(!0)}),f=h(!1)},multipleSelection(y){r.multiple=!0},remove(y){const _=r.options,T=y.detail.remove;_[T].selected=!1,r.remove(T),_.length>0&&Array.prototype.findIndex.call(_,k=>k.selected)===-1&&(_[0].selected=!0),e.setValue(i,{value:h(!0),items:p(y)}),f=h(!1)},clear(y){for(;r.length!==0;)r.remove(0);e.setValue(i,{value:null,items:[]}),f=h(!1)},insert(y){const{index:_,displayValue:T,exportValue:R}=y.detail.insert,k=r.children[_],C=document.createElement("option");C.textContent=T,C.value=R,k?k.before(C):r.append(C),e.setValue(i,{value:h(!0),items:p(y)}),f=h(!1)},items(y){const{items:_}=y.detail;for(;r.length!==0;)r.remove(0);for(const T of _){const{displayValue:R,exportValue:k}=T,C=document.createElement("option");C.textContent=R,C.value=k,r.append(C)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(i,{value:h(!0),items:p(y)}),f=h(!1)},indices(y){const _=new Set(y.detail.indices);for(const T of y.target.options)T.selected=_.has(T.index);e.setValue(i,{value:h(!0)}),f=h(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(b,v)}),r.addEventListener("input",v=>{var _;const b=h(!0),y=h(!1);e.setValue(i,{value:b}),v.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:f,change:y,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],v=>v.target.value)):r.addEventListener("input",function(v){e.setValue(i,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Tb extends Ee{constructor(e){const{data:i,elements:a}=e;super(e,{isRenderable:Ee._hasPopupData(i)}),this.elements=a,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new $2({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${l0}${a}`).join(",")),this.container}}var _u,Zp,Qp,Eu,Ao,be,Xa,xu,Wh,Jh,Tu,Ya,jn,$a,td,Ka,ed,So,_o,ie,mp,wb,uE,cE,hE,dE,gp,vp,Rb;class $2{constructor({container:e,color:i,elements:a,titleObj:r,modificationDate:l,contentsObj:c,richText:h,parent:f,rect:p,parentRect:v,open:b}){w(this,ie);w(this,_u,E(this,ie,hE).bind(this));w(this,Zp,E(this,ie,Rb).bind(this));w(this,Qp,E(this,ie,vp).bind(this));w(this,Eu,E(this,ie,gp).bind(this));w(this,Ao,null);w(this,be,null);w(this,Xa,null);w(this,xu,null);w(this,Wh,null);w(this,Jh,null);w(this,Tu,null);w(this,Ya,!1);w(this,jn,null);w(this,$a,null);w(this,td,null);w(this,Ka,null);w(this,ed,null);w(this,So,null);w(this,_o,!1);var y;S(this,be,e),S(this,ed,r),S(this,Xa,c),S(this,Ka,h),S(this,Jh,f),S(this,Ao,i),S(this,td,p),S(this,Tu,v),S(this,Wh,a),S(this,xu,h0.toDateObject(l)),this.trigger=a.flatMap(_=>_.getElementsToTriggerPopup());for(const _ of this.trigger)_.addEventListener("click",u(this,Eu)),_.addEventListener("mouseenter",u(this,Qp)),_.addEventListener("mouseleave",u(this,Zp)),_.classList.add("popupTriggerArea");for(const _ of a)(y=_.container)==null||y.addEventListener("keydown",u(this,_u));u(this,be).hidden=!0,b&&E(this,ie,gp).call(this)}render(){if(u(this,jn))return;const e=S(this,jn,document.createElement("div"));if(e.className="popup",u(this,Ao)){const l=e.style.outlineColor=dt.makeHexColor(...u(this,Ao));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:e.style.backgroundColor=dt.makeHexColor(...u(this,Ao).map(h=>Math.floor(.7*(255-h)+h)))}const i=document.createElement("span");i.className="header";const a=document.createElement("h1");if(i.append(a),{dir:a.dir,str:a.textContent}=u(this,ed),e.append(i),u(this,xu)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,xu).valueOf()})),i.append(l)}const r=u(this,ie,mp);if(r)aE.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(u(this,Xa));e.append(l)}u(this,be).append(e)}_formatContents({str:e,dir:i}){const a=document.createElement("p");a.classList.add("popupContent"),a.dir=i;const r=e.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const h=r[l];a.append(document.createTextNode(h)),l<c-1&&a.append(document.createElement("br"))}return a}updateEdited({rect:e,popupContent:i}){var a;u(this,So)||S(this,So,{contentsObj:u(this,Xa),richText:u(this,Ka)}),e&&S(this,$a,null),i&&(S(this,Ka,E(this,ie,cE).call(this,i)),S(this,Xa,null)),(a=u(this,jn))==null||a.remove(),S(this,jn,null)}resetEdited(){var e;u(this,So)&&({contentsObj:yi(this,Xa)._,richText:yi(this,Ka)._}=u(this,So),S(this,So,null),(e=u(this,jn))==null||e.remove(),S(this,jn,null),S(this,$a,null))}forceHide(){S(this,_o,this.isVisible),u(this,_o)&&(u(this,be).hidden=!0)}maybeShow(){u(this,_o)&&(u(this,jn)||E(this,ie,vp).call(this),S(this,_o,!1),u(this,be).hidden=!1)}get isVisible(){return u(this,be).hidden===!1}}_u=new WeakMap,Zp=new WeakMap,Qp=new WeakMap,Eu=new WeakMap,Ao=new WeakMap,be=new WeakMap,Xa=new WeakMap,xu=new WeakMap,Wh=new WeakMap,Jh=new WeakMap,Tu=new WeakMap,Ya=new WeakMap,jn=new WeakMap,$a=new WeakMap,td=new WeakMap,Ka=new WeakMap,ed=new WeakMap,So=new WeakMap,_o=new WeakMap,ie=new WeakSet,mp=function(){const e=u(this,Ka),i=u(this,Xa);return e!=null&&e.str&&(!(i!=null&&i.str)||i.str===e.str)&&u(this,Ka).html||null},wb=function(){var e,i,a;return((a=(i=(e=u(this,ie,mp))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:a.fontSize)||0},uE=function(){var e,i,a;return((a=(i=(e=u(this,ie,mp))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:a.color)||null},cE=function(e){const i=[],a={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},r={style:{color:u(this,ie,uE),fontSize:u(this,ie,wb)?`calc(${u(this,ie,wb)}px * var(--scale-factor))`:""}};for(const l of e.split(`
`))i.push({name:"span",value:l,attributes:r});return a},hE=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,Ya))&&E(this,ie,gp).call(this)},dE=function(){if(u(this,$a)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:r,pageY:l}}}=u(this,Jh);let c=!!u(this,Tu),h=c?u(this,Tu):u(this,td);for(const T of u(this,Wh))if(!h||dt.intersect(T.data.rect,h)!==null){h=T.data.rect,c=!0;break}const f=dt.normalizeRect([h[0],e[3]-h[1]+e[1],h[2],e[3]-h[3]+e[1]]),v=c?h[2]-h[0]+5:0,b=f[0]+v,y=f[1];S(this,$a,[100*(b-r)/i,100*(y-l)/a]);const{style:_}=u(this,be);_.left=`${u(this,$a)[0]}%`,_.top=`${u(this,$a)[1]}%`},gp=function(){S(this,Ya,!u(this,Ya)),u(this,Ya)?(E(this,ie,vp).call(this),u(this,be).addEventListener("click",u(this,Eu)),u(this,be).addEventListener("keydown",u(this,_u))):(E(this,ie,Rb).call(this),u(this,be).removeEventListener("click",u(this,Eu)),u(this,be).removeEventListener("keydown",u(this,_u)))},vp=function(){u(this,jn)||this.render(),this.isVisible?u(this,Ya)&&u(this,be).classList.add("focused"):(E(this,ie,dE).call(this),u(this,be).hidden=!1,u(this,be).style.zIndex=parseInt(u(this,be).style.zIndex)+1e3)},Rb=function(){u(this,be).classList.remove("focused"),!(u(this,Ya)||!this.isVisible)&&(u(this,be).hidden=!0,u(this,be).style.zIndex=parseInt(u(this,be).style.zIndex)-1e3)};class fE extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Mt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const i of this.textContent){const a=document.createElement("span");a.textContent=i,e.append(a)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var id;class K2 extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,id,null)}render(){this.container.classList.add("lineAnnotation");const i=this.data,{width:a,height:r}=os(i.rect),l=this.svgFactory.create(a,r,!0),c=S(this,id,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),c.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),c.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),c.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),c.setAttribute("stroke-width",i.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,id)}addHighlightArea(){this.container.classList.add("highlightArea")}}id=new WeakMap;var nd;class Z2 extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,nd,null)}render(){this.container.classList.add("squareAnnotation");const i=this.data,{width:a,height:r}=os(i.rect),l=this.svgFactory.create(a,r,!0),c=i.borderStyle.width,h=S(this,nd,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",a-c),h.setAttribute("height",r-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,nd)}addHighlightArea(){this.container.classList.add("highlightArea")}}nd=new WeakMap;var ad;class Q2 extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,ad,null)}render(){this.container.classList.add("circleAnnotation");const i=this.data,{width:a,height:r}=os(i.rect),l=this.svgFactory.create(a,r,!0),c=i.borderStyle.width,h=S(this,ad,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",a/2),h.setAttribute("cy",r/2),h.setAttribute("rx",a/2-c/2),h.setAttribute("ry",r/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,ad)}addHighlightArea(){this.container.classList.add("highlightArea")}}ad=new WeakMap;var sd;class pE extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,sd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:a,borderStyle:r,popupRef:l}}=this;if(!a)return this.container;const{width:c,height:h}=os(i),f=this.svgFactory.create(c,h,!0);let p=[];for(let b=0,y=a.length;b<y;b+=2){const _=a[b]-i[0],T=i[3]-a[b+1];p.push(`${_},${T}`)}p=p.join(" ");const v=S(this,sd,this.svgFactory.createElement(this.svgElementName));return v.setAttribute("points",p),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),f.append(v),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,sd)}addHighlightArea(){this.container.classList.add("highlightArea")}}sd=new WeakMap;class W2 extends pE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class J2 extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var rd;class y0 extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,rd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Mt.HIGHLIGHT:Mt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,inkLists:a,borderStyle:r,popupRef:l}}=this,{width:c,height:h}=os(i),f=this.svgFactory.create(c,h,!0);for(const p of a){let v=[];for(let y=0,_=p.length;y<_;y+=2){const T=p[y]-i[0],R=i[3]-p[y+1];v.push(`${T},${R}`)}v=v.join(" ");const b=this.svgFactory.createElement(this.svgElementName);u(this,rd).push(b),b.setAttribute("points",v),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),f.append(b)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return u(this,rd)}addHighlightArea(){this.container.classList.add("highlightArea")}}rd=new WeakMap;class mE extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Mt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class tC extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class eC extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class iC extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class gE extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Mt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var od,ld,Cb;class nC extends Ee{constructor(i){var r;super(i,{isRenderable:!0});w(this,ld);w(this,od,null);const{file:a}=this.data;this.filename=a.filename,this.content=a.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...a})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:a}=this;let r;a.hasAppearance||a.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(a.name)?"paperclip":"pushpin"}.svg`,a.fillAlpha&&a.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(a.fillAlpha*100)}%);`)),r.addEventListener("dblclick",E(this,ld,Cb).bind(this)),S(this,od,r);const{isMac:l}=Ei.platform;return i.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&E(this,ld,Cb).call(this)}),!a.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),i.append(r),i}getElementsToTriggerPopup(){return u(this,od)}addHighlightArea(){this.container.classList.add("highlightArea")}}od=new WeakMap,ld=new WeakSet,Cb=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var ud,Eo,xo,cd,qo,vE,Mb,e_;let aC=(e_=class{constructor({div:e,accessibilityManager:i,annotationCanvasMap:a,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:h}){w(this,qo);w(this,ud,null);w(this,Eo,null);w(this,xo,new Map);w(this,cd,null);this.div=e,S(this,ud,i),S(this,Eo,a),S(this,cd,h||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return u(this,xo).size>0}async render(e){var c;const{annotations:i}=e,a=this.div;Ho(a,this.viewport);const r=new Map,l={data:null,layer:a,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new b0,annotationStorage:e.annotationStorage||new f0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const h of i){if(h.noHTML)continue;const f=h.annotationType===Ne.POPUP;if(f){const b=r.get(h.id);if(!b)continue;l.elements=b}else{const{width:b,height:y}=os(h.rect);if(b<=0||y<=0)continue}l.data=h;const p=F2.create(l);if(!p.isRenderable)continue;if(!f&&h.popupRef){const b=r.get(h.popupRef);b?b.push(p):r.set(h.popupRef,[p])}const v=p.render();h.hidden&&(v.style.visibility="hidden"),await E(this,qo,vE).call(this,v,h.id),p._isEditable&&(u(this,xo).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}E(this,qo,Mb).call(this)}update({viewport:e}){const i=this.div;this.viewport=e,Ho(i,{rotation:e.rotation}),E(this,qo,Mb).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(u(this,xo).values())}getEditableAnnotation(e){return u(this,xo).get(e)}},ud=new WeakMap,Eo=new WeakMap,xo=new WeakMap,cd=new WeakMap,qo=new WeakSet,vE=async function(e,i){var c,h;const a=e.firstChild||e,r=a.id=`${l0}${i}`,l=await((c=u(this,cd))==null?void 0:c.getAriaAttributes(r));if(l)for(const[f,p]of l)a.setAttribute(f,p);this.div.append(e),(h=u(this,ud))==null||h.moveElementInDOM(this.div,e,a,!1)},Mb=function(){if(!u(this,Eo))return;const e=this.div;for(const[i,a]of u(this,Eo)){const r=e.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;a.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(a):l.classList.contains("annotationContent")?l.after(a):l.before(a):r.append(a)}u(this,Eo).clear()},e_);const ep=/\r\n?|\n/g;var zn,Ki,hd,To,Zi,Le,bE,yE,AE,bp,us,yp,Ap,SE,Lb,_E;const re=class re extends Zt{constructor(i){super({...i,name:"freeTextEditor"});w(this,Le);w(this,zn);w(this,Ki,"");w(this,hd,`${this.id}-editor`);w(this,To,null);w(this,Zi);S(this,zn,i.color||re._defaultColor||Zt._defaultLineColor),S(this,Zi,i.fontSize||re._defaultFontSize)}static get _keyboardManager(){const i=re.prototype,a=c=>c.isEmpty(),r=Fo.TRANSLATE_SMALL,l=Fo.TRANSLATE_BIG;return Ut(this,"_keyboardManager",new kd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-r,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-l,0],checker:a}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[r,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[l,0],checker:a}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-r],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-l],checker:a}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,r],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,l],checker:a}]]))}static initialize(i,a){Zt.initialize(i,a);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,a){switch(i){case _t.FREETEXT_SIZE:re._defaultFontSize=a;break;case _t.FREETEXT_COLOR:re._defaultColor=a;break}}updateParams(i,a){switch(i){case _t.FREETEXT_SIZE:E(this,Le,bE).call(this,a);break;case _t.FREETEXT_COLOR:E(this,Le,yE).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[_t.FREETEXT_SIZE,re._defaultFontSize],[_t.FREETEXT_COLOR,re._defaultColor||Zt._defaultLineColor]]}get propertiesToUpdate(){return[[_t.FREETEXT_SIZE,u(this,Zi)],[_t.FREETEXT_COLOR,u(this,zn)]]}_translateEmpty(i,a){this._uiManager.translateSelectedEditors(i,a,!0)}getInitialTranslation(){const i=this.parentScale;return[-re._internalPadding*i,-(re._internalPadding+u(this,Zi))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Mt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),S(this,To,new AbortController);const i=this._uiManager.combinedSignal(u(this,To));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){var i;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,hd)),this._isDraggable=!0,(i=u(this,To))==null||i.abort(),S(this,To,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var i;this.width||(this.enableEditMode(),this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=u(this,Ki),a=S(this,Ki,E(this,Le,AE).call(this).trimEnd());if(i===a)return;const r=l=>{if(S(this,Ki,l),!l){this.remove();return}E(this,Le,Ap).call(this),this._uiManager.rebuild(this),E(this,Le,bp).call(this)};this.addCommands({cmd:()=>{r(a)},undo:()=>{r(i)},mustExec:!1}),E(this,Le,bp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){re._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,a;this.width&&(i=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,hd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${u(this,Zi)}px * var(--scale-factor))`,r.color=u(this,zn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Dp(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[v,b]=this.pageDimensions,[y,_]=this.pageTranslation;let T,R;switch(this.rotation){case 0:T=i+(h[0]-y)/v,R=a+this.height-(h[1]-_)/b;break;case 90:T=i+(h[0]-y)/v,R=a-(h[1]-_)/b,[f,p]=[p,-f];break;case 180:T=i-this.width+(h[0]-y)/v,R=a-(h[1]-_)/b,[f,p]=[-f,-p];break;case 270:T=i+(h[0]-y-this.height*b)/v,R=a+(h[1]-_-this.width*v)/b,[f,p]=[-p,f];break}this.setAt(T*l,R*c,f,p)}else this.setAt(i*l,a*c,this.width*l,this.height*c);E(this,Le,Ap).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var T,R,k;const a=i.clipboardData||window.clipboardData,{types:r}=a;if(r.length===1&&r[0]==="text/plain")return;i.preventDefault();const l=E(T=re,us,Lb).call(T,a.getData("text")||"").replaceAll(ep,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!l.includes(`
`)){h.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:p}=h,v=[],b=[];if(f.nodeType===Node.TEXT_NODE){const C=f.parentElement;if(b.push(f.nodeValue.slice(p).replaceAll(ep,"")),C!==this.editorDiv){let D=v;for(const N of this.editorDiv.childNodes){if(N===C){D=b;continue}D.push(E(R=re,us,yp).call(R,N))}}v.push(f.nodeValue.slice(0,p).replaceAll(ep,""))}else if(f===this.editorDiv){let C=v,D=0;for(const N of this.editorDiv.childNodes)D++===p&&(C=b),C.push(E(k=re,us,yp).call(k,N))}S(this,Ki,`${v.join(`
`)}${l}${b.join(`
`)}`),E(this,Le,Ap).call(this);const y=new Range;let _=v.reduce((C,D)=>C+D.length,0);for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const D=C.nodeValue.length;if(_<=D){y.setStart(C,_),y.setEnd(C,_);break}_-=D}c.removeAllRanges(),c.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(i,a,r){var h;let l=null;if(i instanceof fE){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:v,rotation:b,id:y,popupRef:_},textContent:T,textPosition:R,parent:{page:{pageNumber:k}}}=i;if(!T||T.length===0)return null;l=i={annotationType:Mt.FREETEXT,color:Array.from(p),fontSize:f,value:T.join(`
`),position:R,pageIndex:k-1,rect:v.slice(0),rotation:b,id:y,deleted:!1,popupRef:_}}const c=await super.deserialize(i,a,r);return S(c,Zi,i.fontSize),S(c,zn,dt.makeHexColor(...i.color)),S(c,Ki,E(h=re,us,Lb).call(h,i.value)),c.annotationElementId=i.id||null,c._initialData=l,c}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a=re._internalPadding*this.parentScale,r=this.getRect(a,a),l=Zt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,zn)),c={annotationType:Mt.FREETEXT,color:l,fontSize:u(this,Zi),value:E(this,Le,SE).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?c:this.annotationElementId&&!E(this,Le,_E).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(i){const a=super.renderAnnotationElement(i);if(this.deleted)return a;const{style:r}=a;r.fontSize=`calc(${u(this,Zi)}px * var(--scale-factor))`,r.color=u(this,zn),a.replaceChildren();for(const c of u(this,Ki).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),a.append(h)}const l=re._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(l,l),popupContent:u(this,Ki)}),a}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};zn=new WeakMap,Ki=new WeakMap,hd=new WeakMap,To=new WeakMap,Zi=new WeakMap,Le=new WeakSet,bE=function(i){const a=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-u(this,Zi))*this.parentScale),S(this,Zi,l),E(this,Le,bp).call(this)},r=u(this,Zi);this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},yE=function(i){const a=l=>{S(this,zn,this.editorDiv.style.color=l)},r=u(this,zn);this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},AE=function(){var r;const i=[];this.editorDiv.normalize();let a=null;for(const l of this.editorDiv.childNodes)(a==null?void 0:a.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(i.push(E(r=re,us,yp).call(r,l)),a=l);return i.join(`
`)},bp=function(){const[i,a]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,h=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/i,this.height=r.height/a):(this.width=r.height/i,this.height=r.width/a),this.fixAndSetPosition()},us=new WeakSet,yp=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(ep,"")},Ap=function(){if(this.editorDiv.replaceChildren(),!!u(this,Ki))for(const i of u(this,Ki).split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(a)}},SE=function(){return u(this,Ki).replaceAll(""," ")},Lb=function(i){return i.replaceAll(" ","")},_E=function(i){const{value:a,fontSize:r,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||i.value!==a||i.fontSize!==r||i.color.some((h,f)=>h!==l[f])||i.pageIndex!==c},w(re,us),St(re,"_freeTextDefaultContent",""),St(re,"_internalPadding",0),St(re,"_defaultColor",null),St(re,"_defaultFontSize",10),St(re,"_type","freetext"),St(re,"_editorType",Mt.FREETEXT);let kb=re;class EE{toSVGPath(){oe("Abstract method `toSVGPath` must be implemented.")}get box(){oe("Abstract getter `box` must be implemented.")}serialize(e,i){oe("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){oe("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){oe("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Qi,Pn,wu,Ru,la,Nt,wo,Ro,dd,fd,Cu,Mu,ir,pd,Wp,Jp,Ue,nh,xE,TE,wE,RE,CE,ME;const ja=class ja{constructor({x:e,y:i},a,r,l,c,h=0){w(this,Ue);w(this,Qi);w(this,Pn,[]);w(this,wu);w(this,Ru);w(this,la,[]);w(this,Nt,new Float64Array(18));w(this,wo);w(this,Ro);w(this,dd);w(this,fd);w(this,Cu);w(this,Mu);w(this,ir,[]);S(this,Qi,a),S(this,Mu,l*r),S(this,Ru,c),u(this,Nt).set([NaN,NaN,NaN,NaN,e,i],6),S(this,wu,h),S(this,fd,u(ja,pd)*r),S(this,dd,u(ja,Jp)*r),S(this,Cu,r),u(this,ir).push(e,i)}isEmpty(){return isNaN(u(this,Nt)[8])}add({x:e,y:i}){var it;S(this,wo,e),S(this,Ro,i);const[a,r,l,c]=u(this,Qi);let[h,f,p,v]=u(this,Nt).subarray(8,12);const b=e-p,y=i-v,_=Math.hypot(b,y);if(_<u(this,dd))return!1;const T=_-u(this,fd),R=T/_,k=R*b,C=R*y;let D=h,N=f;h=p,f=v,p+=k,v+=C,(it=u(this,ir))==null||it.push(e,i);const z=-C/T,U=k/T,G=z*u(this,Mu),X=U*u(this,Mu);return u(this,Nt).set(u(this,Nt).subarray(2,8),0),u(this,Nt).set([p+G,v+X],4),u(this,Nt).set(u(this,Nt).subarray(14,18),12),u(this,Nt).set([p-G,v-X],16),isNaN(u(this,Nt)[6])?(u(this,la).length===0&&(u(this,Nt).set([h+G,f+X],2),u(this,la).push(NaN,NaN,NaN,NaN,(h+G-a)/l,(f+X-r)/c),u(this,Nt).set([h-G,f-X],14),u(this,Pn).push(NaN,NaN,NaN,NaN,(h-G-a)/l,(f-X-r)/c)),u(this,Nt).set([D,N,h,f,p,v],6),!this.isEmpty()):(u(this,Nt).set([D,N,h,f,p,v],6),Math.abs(Math.atan2(N-f,D-h)-Math.atan2(C,k))<Math.PI/2?([h,f,p,v]=u(this,Nt).subarray(2,6),u(this,la).push(NaN,NaN,NaN,NaN,((h+p)/2-a)/l,((f+v)/2-r)/c),[h,f,D,N]=u(this,Nt).subarray(14,18),u(this,Pn).push(NaN,NaN,NaN,NaN,((D+h)/2-a)/l,((N+f)/2-r)/c),!0):([D,N,h,f,p,v]=u(this,Nt).subarray(0,6),u(this,la).push(((D+5*h)/6-a)/l,((N+5*f)/6-r)/c,((5*h+p)/6-a)/l,((5*f+v)/6-r)/c,((h+p)/2-a)/l,((f+v)/2-r)/c),[p,v,h,f,D,N]=u(this,Nt).subarray(12,18),u(this,Pn).push(((D+5*h)/6-a)/l,((N+5*f)/6-r)/c,((5*h+p)/6-a)/l,((5*f+v)/6-r)/c,((h+p)/2-a)/l,((f+v)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,la),i=u(this,Pn);if(isNaN(u(this,Nt)[6])&&!this.isEmpty())return E(this,Ue,xE).call(this);const a=[];a.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?a.push(`L${e[r+4]} ${e[r+5]}`):a.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);E(this,Ue,wE).call(this,a);for(let r=i.length-6;r>=6;r-=6)isNaN(i[r])?a.push(`L${i[r+4]} ${i[r+5]}`):a.push(`C${i[r]} ${i[r+1]} ${i[r+2]} ${i[r+3]} ${i[r+4]} ${i[r+5]}`);return E(this,Ue,TE).call(this,a),a.join(" ")}newFreeDrawOutline(e,i,a,r,l,c){return new kE(e,i,a,r,l,c)}getOutlines(){var b;const e=u(this,la),i=u(this,Pn),a=u(this,Nt),[r,l,c,h]=u(this,Qi),f=new Float64Array((((b=u(this,ir))==null?void 0:b.length)??0)+2);for(let y=0,_=f.length-2;y<_;y+=2)f[y]=(u(this,ir)[y]-r)/c,f[y+1]=(u(this,ir)[y+1]-l)/h;if(f[f.length-2]=(u(this,wo)-r)/c,f[f.length-1]=(u(this,Ro)-l)/h,isNaN(a[6])&&!this.isEmpty())return E(this,Ue,RE).call(this,f);const p=new Float64Array(u(this,la).length+24+u(this,Pn).length);let v=e.length;for(let y=0;y<v;y+=2){if(isNaN(e[y])){p[y]=p[y+1]=NaN;continue}p[y]=e[y],p[y+1]=e[y+1]}v=E(this,Ue,ME).call(this,p,v);for(let y=i.length-6;y>=6;y-=6)for(let _=0;_<6;_+=2){if(isNaN(i[y+_])){p[v]=p[v+1]=NaN,v+=2;continue}p[v]=i[y+_],p[v+1]=i[y+_+1],v+=2}return E(this,Ue,CE).call(this,p,v),this.newFreeDrawOutline(p,f,u(this,Qi),u(this,Cu),u(this,wu),u(this,Ru))}};Qi=new WeakMap,Pn=new WeakMap,wu=new WeakMap,Ru=new WeakMap,la=new WeakMap,Nt=new WeakMap,wo=new WeakMap,Ro=new WeakMap,dd=new WeakMap,fd=new WeakMap,Cu=new WeakMap,Mu=new WeakMap,ir=new WeakMap,pd=new WeakMap,Wp=new WeakMap,Jp=new WeakMap,Ue=new WeakSet,nh=function(){const e=u(this,Nt).subarray(4,6),i=u(this,Nt).subarray(16,18),[a,r,l,c]=u(this,Qi);return[(u(this,wo)+(e[0]-i[0])/2-a)/l,(u(this,Ro)+(e[1]-i[1])/2-r)/c,(u(this,wo)+(i[0]-e[0])/2-a)/l,(u(this,Ro)+(i[1]-e[1])/2-r)/c]},xE=function(){const[e,i,a,r]=u(this,Qi),[l,c,h,f]=E(this,Ue,nh).call(this);return`M${(u(this,Nt)[2]-e)/a} ${(u(this,Nt)[3]-i)/r} L${(u(this,Nt)[4]-e)/a} ${(u(this,Nt)[5]-i)/r} L${l} ${c} L${h} ${f} L${(u(this,Nt)[16]-e)/a} ${(u(this,Nt)[17]-i)/r} L${(u(this,Nt)[14]-e)/a} ${(u(this,Nt)[15]-i)/r} Z`},TE=function(e){const i=u(this,Pn);e.push(`L${i[4]} ${i[5]} Z`)},wE=function(e){const[i,a,r,l]=u(this,Qi),c=u(this,Nt).subarray(4,6),h=u(this,Nt).subarray(16,18),[f,p,v,b]=E(this,Ue,nh).call(this);e.push(`L${(c[0]-i)/r} ${(c[1]-a)/l} L${f} ${p} L${v} ${b} L${(h[0]-i)/r} ${(h[1]-a)/l}`)},RE=function(e){const i=u(this,Nt),[a,r,l,c]=u(this,Qi),[h,f,p,v]=E(this,Ue,nh).call(this),b=new Float64Array(36);return b.set([NaN,NaN,NaN,NaN,(i[2]-a)/l,(i[3]-r)/c,NaN,NaN,NaN,NaN,(i[4]-a)/l,(i[5]-r)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,v,NaN,NaN,NaN,NaN,(i[16]-a)/l,(i[17]-r)/c,NaN,NaN,NaN,NaN,(i[14]-a)/l,(i[15]-r)/c],0),this.newFreeDrawOutline(b,e,u(this,Qi),u(this,Cu),u(this,wu),u(this,Ru))},CE=function(e,i){const a=u(this,Pn);return e.set([NaN,NaN,NaN,NaN,a[4],a[5]],i),i+=6},ME=function(e,i){const a=u(this,Nt).subarray(4,6),r=u(this,Nt).subarray(16,18),[l,c,h,f]=u(this,Qi),[p,v,b,y]=E(this,Ue,nh).call(this);return e.set([NaN,NaN,NaN,NaN,(a[0]-l)/h,(a[1]-c)/f,NaN,NaN,NaN,NaN,p,v,NaN,NaN,NaN,NaN,b,y,NaN,NaN,NaN,NaN,(r[0]-l)/h,(r[1]-c)/f],i),i+=24},w(ja,pd,8),w(ja,Wp,2),w(ja,Jp,u(ja,pd)+u(ja,Wp));let Np=ja;var ku,Co,Za,md,Wi,gd,_e,Pi,ah,sh,LE;class kE extends EE{constructor(i,a,r,l,c,h){super();w(this,Pi);w(this,ku);w(this,Co,null);w(this,Za);w(this,md);w(this,Wi);w(this,gd);w(this,_e);S(this,_e,i),S(this,Wi,a),S(this,ku,r),S(this,gd,l),S(this,Za,c),S(this,md,h),E(this,Pi,LE).call(this,h);const{x:f,y:p,width:v,height:b}=u(this,Co);for(let y=0,_=i.length;y<_;y+=2)i[y]=(i[y]-f)/v,i[y+1]=(i[y+1]-p)/b;for(let y=0,_=a.length;y<_;y+=2)a[y]=(a[y]-f)/v,a[y+1]=(a[y+1]-p)/b}toSVGPath(){const i=[`M${u(this,_e)[4]} ${u(this,_e)[5]}`];for(let a=6,r=u(this,_e).length;a<r;a+=6){if(isNaN(u(this,_e)[a])){i.push(`L${u(this,_e)[a+4]} ${u(this,_e)[a+5]}`);continue}i.push(`C${u(this,_e)[a]} ${u(this,_e)[a+1]} ${u(this,_e)[a+2]} ${u(this,_e)[a+3]} ${u(this,_e)[a+4]} ${u(this,_e)[a+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,a,r,l],c){const h=r-i,f=l-a;let p,v;switch(c){case 0:p=E(this,Pi,ah).call(this,u(this,_e),i,l,h,-f),v=E(this,Pi,ah).call(this,u(this,Wi),i,l,h,-f);break;case 90:p=E(this,Pi,sh).call(this,u(this,_e),i,a,h,f),v=E(this,Pi,sh).call(this,u(this,Wi),i,a,h,f);break;case 180:p=E(this,Pi,ah).call(this,u(this,_e),r,a,-h,f),v=E(this,Pi,ah).call(this,u(this,Wi),r,a,-h,f);break;case 270:p=E(this,Pi,sh).call(this,u(this,_e),r,l,-h,-f),v=E(this,Pi,sh).call(this,u(this,Wi),r,l,-h,-f);break}return{outline:Array.from(p),points:[Array.from(v)]}}get box(){return u(this,Co)}newOutliner(i,a,r,l,c,h=0){return new Np(i,a,r,l,c,h)}getNewOutline(i,a){const{x:r,y:l,width:c,height:h}=u(this,Co),[f,p,v,b]=u(this,ku),y=c*v,_=h*b,T=r*v+f,R=l*b+p,k=this.newOutliner({x:u(this,Wi)[0]*y+T,y:u(this,Wi)[1]*_+R},u(this,ku),u(this,gd),i,u(this,md),a??u(this,Za));for(let C=2;C<u(this,Wi).length;C+=2)k.add({x:u(this,Wi)[C]*y+T,y:u(this,Wi)[C+1]*_+R});return k.getOutlines()}get mustRemoveSelfIntersections(){return!0}}ku=new WeakMap,Co=new WeakMap,Za=new WeakMap,md=new WeakMap,Wi=new WeakMap,gd=new WeakMap,_e=new WeakMap,Pi=new WeakSet,ah=function(i,a,r,l,c){const h=new Float64Array(i.length);for(let f=0,p=i.length;f<p;f+=2)h[f]=a+i[f]*l,h[f+1]=r+i[f+1]*c;return h},sh=function(i,a,r,l,c){const h=new Float64Array(i.length);for(let f=0,p=i.length;f<p;f+=2)h[f]=a+i[f+1]*l,h[f+1]=r+i[f]*c;return h},LE=function(i){const a=u(this,_e);let r=a[4],l=a[5],c=r,h=l,f=r,p=l,v=r,b=l;const y=i?Math.max:Math.min;for(let C=6,D=a.length;C<D;C+=6){if(isNaN(a[C]))c=Math.min(c,a[C+4]),h=Math.min(h,a[C+5]),f=Math.max(f,a[C+4]),p=Math.max(p,a[C+5]),b<a[C+5]?(v=a[C+4],b=a[C+5]):b===a[C+5]&&(v=y(v,a[C+4]));else{const N=dt.bezierBoundingBox(r,l,...a.slice(C,C+6));c=Math.min(c,N[0]),h=Math.min(h,N[1]),f=Math.max(f,N[2]),p=Math.max(p,N[3]),b<N[3]?(v=N[2],b=N[3]):b===N[3]&&(v=y(v,N[2]))}r=a[C+4],l=a[C+5]}const _=c-u(this,Za),T=h-u(this,Za),R=f-c+2*u(this,Za),k=p-h+2*u(this,Za);S(this,Co,{x:_,y:T,width:R,height:k,lastPoint:[v,b]})};var vd,nr,Bn,Ti,DE,Sp,OE,NE,Db;class GS{constructor(e,i=0,a=0,r=!0){w(this,Ti);w(this,vd);w(this,nr,[]);w(this,Bn,[]);let l=1/0,c=-1/0,h=1/0,f=-1/0;const p=10**-4;for(const{x:k,y:C,width:D,height:N}of e){const z=Math.floor((k-i)/p)*p,U=Math.ceil((k+D+i)/p)*p,G=Math.floor((C-i)/p)*p,X=Math.ceil((C+N+i)/p)*p,Q=[z,G,X,!0],it=[U,G,X,!1];u(this,nr).push(Q,it),l=Math.min(l,z),c=Math.max(c,U),h=Math.min(h,G),f=Math.max(f,X)}const v=c-l+2*a,b=f-h+2*a,y=l-a,_=h-a,T=u(this,nr).at(r?-1:-2),R=[T[0],T[2]];for(const k of u(this,nr)){const[C,D,N]=k;k[0]=(C-y)/v,k[1]=(D-_)/b,k[2]=(N-_)/b}S(this,vd,{x:y,y:_,width:v,height:b,lastPoint:R})}getOutlines(){u(this,nr).sort((i,a)=>i[0]-a[0]||i[1]-a[1]||i[2]-a[2]);const e=[];for(const i of u(this,nr))i[3]?(e.push(...E(this,Ti,Db).call(this,i)),E(this,Ti,OE).call(this,i)):(E(this,Ti,NE).call(this,i),e.push(...E(this,Ti,Db).call(this,i)));return E(this,Ti,DE).call(this,e)}}vd=new WeakMap,nr=new WeakMap,Bn=new WeakMap,Ti=new WeakSet,DE=function(e){const i=[],a=new Set;for(const c of e){const[h,f,p]=c;i.push([h,f,c],[h,p,c])}i.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=i.length;c<h;c+=2){const f=i[c][2],p=i[c+1][2];f.push(p),p.push(f),a.add(f),a.add(p)}const r=[];let l;for(;a.size>0;){const c=a.values().next().value;let[h,f,p,v,b]=c;a.delete(c);let y=h,_=f;for(l=[h,p],r.push(l);;){let T;if(a.has(v))T=v;else if(a.has(b))T=b;else break;a.delete(T),[h,f,p,v,b]=T,y!==h&&(l.push(y,_,h,_===f?f:p),y=h),_=_===f?p:f}l.push(y,_)}return new sC(r,u(this,vd))},Sp=function(e){const i=u(this,Bn);let a=0,r=i.length-1;for(;a<=r;){const l=a+r>>1,c=i[l][0];if(c===e)return l;c<e?a=l+1:r=l-1}return r+1},OE=function([,e,i]){const a=E(this,Ti,Sp).call(this,e);u(this,Bn).splice(a,0,[e,i])},NE=function([,e,i]){const a=E(this,Ti,Sp).call(this,e);for(let r=a;r<u(this,Bn).length;r++){const[l,c]=u(this,Bn)[r];if(l!==e)break;if(l===e&&c===i){u(this,Bn).splice(r,1);return}}for(let r=a-1;r>=0;r--){const[l,c]=u(this,Bn)[r];if(l!==e)break;if(l===e&&c===i){u(this,Bn).splice(r,1);return}}},Db=function(e){const[i,a,r]=e,l=[[i,a,r]],c=E(this,Ti,Sp).call(this,r);for(let h=0;h<c;h++){const[f,p]=u(this,Bn)[h];for(let v=0,b=l.length;v<b;v++){const[,y,_]=l[v];if(!(p<=y||_<=f)){if(y>=f){if(_>p)l[v][1]=p;else{if(b===1)return[];l.splice(v,1),v--,b--}continue}l[v][2]=f,_>p&&l.push([i,p,_])}}}return l};var bd,Lu;class sC extends EE{constructor(i,a){super();w(this,bd);w(this,Lu);S(this,Lu,i),S(this,bd,a)}toSVGPath(){const i=[];for(const a of u(this,Lu)){let[r,l]=a;i.push(`M${r} ${l}`);for(let c=2;c<a.length;c+=2){const h=a[c],f=a[c+1];h===r?(i.push(`V${f}`),l=f):f===l&&(i.push(`H${h}`),r=h)}i.push("Z")}return i.join(" ")}serialize([i,a,r,l],c){const h=[],f=r-i,p=l-a;for(const v of u(this,Lu)){const b=new Array(v.length);for(let y=0;y<v.length;y+=2)b[y]=i+v[y]*f,b[y+1]=l-v[y+1]*p;h.push(b)}return h}get box(){return u(this,bd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}bd=new WeakMap,Lu=new WeakMap;class Ob extends Np{newFreeDrawOutline(e,i,a,r,l,c){return new rC(e,i,a,r,l,c)}get classNamesForDrawing(){return["highlight","free"]}}class rC extends kE{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,i,a,r,l,c=0){return new Ob(e,i,a,r,l,c)}}var Un,Mo,Du,ze,yd,Ou,Ad,Sd,ar,Hn,Nu,_d,ee,Nb,jb,zb,Br,jE,zs;const Di=class Di{constructor({editor:e=null,uiManager:i=null}){w(this,ee);w(this,Un,null);w(this,Mo,null);w(this,Du);w(this,ze,null);w(this,yd,!1);w(this,Ou,!1);w(this,Ad,null);w(this,Sd);w(this,ar,null);w(this,Hn,null);w(this,Nu);var a;e?(S(this,Ou,!1),S(this,Nu,_t.HIGHLIGHT_COLOR),S(this,Ad,e)):(S(this,Ou,!0),S(this,Nu,_t.HIGHLIGHT_DEFAULT_COLOR)),S(this,Hn,(e==null?void 0:e._uiManager)||i),S(this,Sd,u(this,Hn)._eventBus),S(this,Du,(e==null?void 0:e.color)||((a=u(this,Hn))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),u(Di,_d)||S(Di,_d,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ut(this,"_keyboardManager",new kd([[["Escape","mac+Escape"],Di.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Di.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Di.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Di.prototype._moveToPrevious],[["Home","mac+Home"],Di.prototype._moveToBeginning],[["End","mac+End"],Di.prototype._moveToEnd]]))}renderButton(){const e=S(this,Un,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const i=u(this,Hn)._signal;e.addEventListener("click",E(this,ee,Br).bind(this),{signal:i}),e.addEventListener("keydown",E(this,ee,zb).bind(this),{signal:i});const a=S(this,Mo,document.createElement("span"));return a.className="swatch",a.setAttribute("aria-hidden",!0),a.style.backgroundColor=u(this,Du),e.append(a),e}renderMainDropdown(){const e=S(this,ze,E(this,ee,Nb).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,Un)){E(this,ee,Br).call(this,e);return}const i=e.target.getAttribute("data-color");i&&E(this,ee,jb).call(this,i,e)}_moveToNext(e){var i,a;if(!u(this,ee,zs)){E(this,ee,Br).call(this,e);return}if(e.target===u(this,Un)){(i=u(this,ze).firstChild)==null||i.focus();return}(a=e.target.nextSibling)==null||a.focus()}_moveToPrevious(e){var i,a;if(e.target===((i=u(this,ze))==null?void 0:i.firstChild)||e.target===u(this,Un)){u(this,ee,zs)&&this._hideDropdownFromKeyboard();return}u(this,ee,zs)||E(this,ee,Br).call(this,e),(a=e.target.previousSibling)==null||a.focus()}_moveToBeginning(e){var i;if(!u(this,ee,zs)){E(this,ee,Br).call(this,e);return}(i=u(this,ze).firstChild)==null||i.focus()}_moveToEnd(e){var i;if(!u(this,ee,zs)){E(this,ee,Br).call(this,e);return}(i=u(this,ze).lastChild)==null||i.focus()}hideDropdown(){var e,i;(e=u(this,ze))==null||e.classList.add("hidden"),(i=u(this,ar))==null||i.abort(),S(this,ar,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,Ou)){if(!u(this,ee,zs)){(e=u(this,Ad))==null||e.unselect();return}this.hideDropdown(),u(this,Un).focus({preventScroll:!0,focusVisible:u(this,yd)})}}updateColor(e){if(u(this,Mo)&&(u(this,Mo).style.backgroundColor=e),!u(this,ze))return;const i=u(this,Hn).highlightColors.values();for(const a of u(this,ze).children)a.setAttribute("aria-selected",i.next().value===e)}destroy(){var e,i;(e=u(this,Un))==null||e.remove(),S(this,Un,null),S(this,Mo,null),(i=u(this,ze))==null||i.remove(),S(this,ze,null)}};Un=new WeakMap,Mo=new WeakMap,Du=new WeakMap,ze=new WeakMap,yd=new WeakMap,Ou=new WeakMap,Ad=new WeakMap,Sd=new WeakMap,ar=new WeakMap,Hn=new WeakMap,Nu=new WeakMap,_d=new WeakMap,ee=new WeakSet,Nb=function(){const e=document.createElement("div"),i=u(this,Hn)._signal;e.addEventListener("contextmenu",En,{signal:i}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[a,r]of u(this,Hn).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=a,l.setAttribute("data-l10n-id",u(Di,_d)[a]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.setAttribute("aria-selected",r===u(this,Du)),l.addEventListener("click",E(this,ee,jb).bind(this,r),{signal:i}),e.append(l)}return e.addEventListener("keydown",E(this,ee,zb).bind(this),{signal:i}),e},jb=function(e,i){i.stopPropagation(),u(this,Sd).dispatch("switchannotationeditorparams",{source:this,type:u(this,Nu),value:e})},zb=function(e){Di._keyboardManager.exec(this,e)},Br=function(e){if(u(this,ee,zs)){this.hideDropdown();return}if(S(this,yd,e.detail===0),u(this,ar)||(S(this,ar,new AbortController),window.addEventListener("pointerdown",E(this,ee,jE).bind(this),{signal:u(this,Hn).combinedSignal(u(this,ar))})),u(this,ze)){u(this,ze).classList.remove("hidden");return}const i=S(this,ze,E(this,ee,Nb).call(this));u(this,Un).append(i)},jE=function(e){var i;(i=u(this,ze))!=null&&i.contains(e.target)||this.hideDropdown()},zs=function(){return u(this,ze)&&!u(this,ze).classList.contains("hidden")},w(Di,_d,null);let jp=Di;var ju,Ed,Qa,ko,zu,vn,xd,Td,Lo,Fn,pi,ji,Pu,Wa,Pe,Bu,bn,wd,Rt,Pb,_p,zE,PE,BE,Bb,Ur,Sn,Hl,UE,Ep,rh,HE,FE,IE,GE,qE;const Gt=class Gt extends Zt{constructor(i){super({...i,name:"highlightEditor"});w(this,Rt);w(this,ju,null);w(this,Ed,0);w(this,Qa);w(this,ko,null);w(this,zu,null);w(this,vn,null);w(this,xd,null);w(this,Td,0);w(this,Lo,null);w(this,Fn,null);w(this,pi,null);w(this,ji,!1);w(this,Pu,null);w(this,Wa);w(this,Pe,null);w(this,Bu,"");w(this,bn);w(this,wd,"");this.color=i.color||Gt._defaultColor,S(this,bn,i.thickness||Gt._defaultThickness),S(this,Wa,i.opacity||Gt._defaultOpacity),S(this,Qa,i.boxes||null),S(this,wd,i.methodOfCreation||""),S(this,Bu,i.text||""),this._isDraggable=!1,i.highlightId>-1?(S(this,ji,!0),E(this,Rt,_p).call(this,i),E(this,Rt,Ur).call(this)):u(this,Qa)&&(S(this,ju,i.anchorNode),S(this,Ed,i.anchorOffset),S(this,xd,i.focusNode),S(this,Td,i.focusOffset),E(this,Rt,Pb).call(this),E(this,Rt,Ur).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=Gt.prototype;return Ut(this,"_keyboardManager",new kd([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,ji)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,bn),methodOfCreation:u(this,wd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,a){var r;Zt.initialize(i,a),Gt._defaultColor||(Gt._defaultColor=((r=a.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(i,a){switch(i){case _t.HIGHLIGHT_DEFAULT_COLOR:Gt._defaultColor=a;break;case _t.HIGHLIGHT_THICKNESS:Gt._defaultThickness=a;break}}translateInPage(i,a){}get toolbarPosition(){return u(this,Pu)}updateParams(i,a){switch(i){case _t.HIGHLIGHT_COLOR:E(this,Rt,zE).call(this,a);break;case _t.HIGHLIGHT_THICKNESS:E(this,Rt,PE).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[_t.HIGHLIGHT_DEFAULT_COLOR,Gt._defaultColor],[_t.HIGHLIGHT_THICKNESS,Gt._defaultThickness]]}get propertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,this.color||Gt._defaultColor],[_t.HIGHLIGHT_THICKNESS,u(this,bn)||Gt._defaultThickness],[_t.HIGHLIGHT_FREE,u(this,ji)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(S(this,zu,new jp({editor:this})),i.addColorPicker(u(this,zu))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,Rt,rh).call(this))}getBaseTranslation(){return[0,0]}getRect(i,a){return super.getRect(i,a,E(this,Rt,rh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){E(this,Rt,Bb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,Rt,Ur).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var r;let a=!1;this.parent&&!i?E(this,Rt,Bb).call(this):i&&(E(this,Rt,Ur).call(this,i),a=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),a&&this.select()}rotate(i){var l,c,h;const{drawLayer:a}=this.parent;let r;u(this,ji)?(i=(i-this.rotation+360)%360,r=E(l=Gt,Sn,Hl).call(l,u(this,Fn).box,i)):r=E(c=Gt,Sn,Hl).call(c,this,i),a.rotate(u(this,pi),i),a.rotate(u(this,Pe),i),a.updateBox(u(this,pi),r),a.updateBox(u(this,Pe),E(h=Gt,Sn,Hl).call(h,u(this,vn).box,i))}render(){if(this.div)return this.div;const i=super.render();u(this,Bu)&&(i.setAttribute("aria-label",u(this,Bu)),i.setAttribute("role","mark")),u(this,ji)?i.classList.add("free"):this.div.addEventListener("keydown",E(this,Rt,UE).bind(this),{signal:this._uiManager._signal});const a=S(this,Lo,document.createElement("div"));i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",a.style.clipPath=u(this,ko);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),Dp(this,u(this,Lo),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){this.isSelected||this.parent.drawLayer.addClass(u(this,Pe),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(u(this,Pe),"hovered")}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:E(this,Rt,Ep).call(this,!0);break;case 1:case 3:E(this,Rt,Ep).call(this,!1);break}}select(){var i,a;super.select(),u(this,Pe)&&((i=this.parent)==null||i.drawLayer.removeClass(u(this,Pe),"hovered"),(a=this.parent)==null||a.drawLayer.addClass(u(this,Pe),"selected"))}unselect(){var i;super.unselect(),u(this,Pe)&&((i=this.parent)==null||i.drawLayer.removeClass(u(this,Pe),"selected"),u(this,ji)||E(this,Rt,Ep).call(this,!1))}get _mustFixPosition(){return!u(this,ji)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.show(u(this,pi),i),this.parent.drawLayer.show(u(this,Pe),i))}static startHighlighting(i,a,{target:r,x:l,y:c}){const{x:h,y:f,width:p,height:v}=r.getBoundingClientRect(),b=new AbortController,y=i.combinedSignal(b),_=R=>{R.preventDefault(),R.stopPropagation()},T=R=>{b.abort(),E(this,Sn,GE).call(this,i,R)};window.addEventListener("blur",T,{signal:y}),window.addEventListener("pointerup",T,{signal:y}),window.addEventListener("pointerdown",_,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",En,{signal:y}),r.addEventListener("pointermove",E(this,Sn,IE).bind(this,i),{signal:y}),this._freeHighlight=new Ob({x:l,y:c},[h,f,p,v],i.scale,this._defaultThickness/2,a,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(i,a,r){var R,k,C,D;let l=null;if(i instanceof mE){const{data:{quadPoints:N,rect:z,rotation:U,id:G,color:X,opacity:Q,popupRef:it},parent:{page:{pageNumber:ot}}}=i;l=i={annotationType:Mt.HIGHLIGHT,color:Array.from(X),opacity:Q,quadPoints:N,boxes:null,pageIndex:ot-1,rect:z.slice(0),rotation:U,id:G,deleted:!1,popupRef:it}}else if(i instanceof y0){const{data:{inkLists:N,rect:z,rotation:U,id:G,color:X,borderStyle:{rawWidth:Q},popupRef:it},parent:{page:{pageNumber:ot}}}=i;l=i={annotationType:Mt.HIGHLIGHT,color:Array.from(X),thickness:Q,inkLists:N,boxes:null,pageIndex:ot-1,rect:z.slice(0),rotation:U,id:G,deleted:!1,popupRef:it}}const{color:c,quadPoints:h,inkLists:f,opacity:p}=i,v=await super.deserialize(i,a,r);v.color=dt.makeHexColor(...c),S(v,Wa,p||1),f&&S(v,bn,i.thickness),v.annotationElementId=i.id||null,v._initialData=l;const[b,y]=v.pageDimensions,[_,T]=v.pageTranslation;if(h){const N=S(v,Qa,[]);for(let z=0;z<h.length;z+=8)N.push({x:(h[z]-_)/b,y:1-(h[z+1]-T)/y,width:(h[z+2]-h[z])/b,height:(h[z+1]-h[z+5])/y});E(R=v,Rt,Pb).call(R),E(k=v,Rt,Ur).call(k),v.rotate(v.rotation)}else if(f){S(v,ji,!0);const N=f[0],z={x:N[0]-_,y:y-(N[1]-T)},U=new Ob(z,[0,0,b,y],1,u(v,bn)/2,!0,.001);for(let Q=0,it=N.length;Q<it;Q+=2)z.x=N[Q]-_,z.y=y-(N[Q+1]-T),U.add(z);const{id:G,clipPathId:X}=a.drawLayer.draw(U,v.color,v._defaultOpacity,!0);E(C=v,Rt,_p).call(C,{highlightOutlines:U.getOutlines(),highlightId:G,clipPathId:X}),E(D=v,Rt,Ur).call(D)}return v}serialize(i=!1){if(this.isEmpty()||i)return null;if(this.deleted)return this.serializeDeleted();const a=this.getRect(0,0),r=Zt._colorManager.convert(this.color),l={annotationType:Mt.HIGHLIGHT,color:r,opacity:u(this,Wa),thickness:u(this,bn),quadPoints:E(this,Rt,HE).call(this),outlines:E(this,Rt,FE).call(this,a),pageIndex:this.pageIndex,rect:a,rotation:E(this,Rt,rh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!E(this,Rt,qE).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ju=new WeakMap,Ed=new WeakMap,Qa=new WeakMap,ko=new WeakMap,zu=new WeakMap,vn=new WeakMap,xd=new WeakMap,Td=new WeakMap,Lo=new WeakMap,Fn=new WeakMap,pi=new WeakMap,ji=new WeakMap,Pu=new WeakMap,Wa=new WeakMap,Pe=new WeakMap,Bu=new WeakMap,bn=new WeakMap,wd=new WeakMap,Rt=new WeakSet,Pb=function(){const i=new GS(u(this,Qa),.001);S(this,Fn,i.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,Fn).box;const a=new GS(u(this,Qa),.0025,.001,this._uiManager.direction==="ltr");S(this,vn,a.getOutlines());const{lastPoint:r}=u(this,vn).box;S(this,Pu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},_p=function({highlightOutlines:i,highlightId:a,clipPathId:r}){var b,y;if(S(this,Fn,i),S(this,vn,i.getNewOutline(u(this,bn)/2+1.5,.0025)),a>=0)S(this,pi,a),S(this,ko,r),this.parent.drawLayer.finalizeLine(a,i),S(this,Pe,this.parent.drawLayer.drawOutline(u(this,vn)));else if(this.parent){const _=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,pi),i),this.parent.drawLayer.updateBox(u(this,pi),E(b=Gt,Sn,Hl).call(b,u(this,Fn).box,(_-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,Pe),u(this,vn)),this.parent.drawLayer.updateBox(u(this,Pe),E(y=Gt,Sn,Hl).call(y,u(this,vn).box,_))}const{x:c,y:h,width:f,height:p}=i.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=f,this.height=p;break;case 90:{const[_,T]=this.parentDimensions;this.x=h,this.y=1-c,this.width=f*T/_,this.height=p*_/T;break}case 180:this.x=1-c,this.y=1-h,this.width=f,this.height=p;break;case 270:{const[_,T]=this.parentDimensions;this.x=1-h,this.y=c,this.width=f*T/_,this.height=p*_/T;break}}const{lastPoint:v}=u(this,vn).box;S(this,Pu,[(v[0]-c)/f,(v[1]-h)/p])},zE=function(i){const a=(c,h)=>{var f,p,v;this.color=c,(f=this.parent)==null||f.drawLayer.changeColor(u(this,pi),c),(p=u(this,zu))==null||p.updateColor(c),S(this,Wa,h),(v=this.parent)==null||v.drawLayer.changeOpacity(u(this,pi),h)},r=this.color,l=u(this,Wa);this.addCommands({cmd:a.bind(this,i,Gt._defaultOpacity),undo:a.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},PE=function(i){const a=u(this,bn),r=l=>{S(this,bn,l),E(this,Rt,BE).call(this,l)};this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},BE=function(i){if(!u(this,ji))return;E(this,Rt,_p).call(this,{highlightOutlines:u(this,Fn).getNewOutline(i/2)}),this.fixAndSetPosition();const[a,r]=this.parentDimensions;this.setDims(this.width*a,this.height*r)},Bb=function(){u(this,pi)===null||!this.parent||(this.parent.drawLayer.remove(u(this,pi)),S(this,pi,null),this.parent.drawLayer.remove(u(this,Pe)),S(this,Pe,null))},Ur=function(i=this.parent){u(this,pi)===null&&({id:yi(this,pi)._,clipPathId:yi(this,ko)._}=i.drawLayer.draw(u(this,Fn),this.color,u(this,Wa)),S(this,Pe,i.drawLayer.drawOutline(u(this,vn))),u(this,Lo)&&(u(this,Lo).style.clipPath=u(this,ko)))},Sn=new WeakSet,Hl=function({x:i,y:a,width:r,height:l},c){switch(c){case 90:return{x:1-a-l,y:i,width:l,height:r};case 180:return{x:1-i-r,y:1-a-l,width:r,height:l};case 270:return{x:a,y:1-i-r,width:l,height:r}}return{x:i,y:a,width:r,height:l}},UE=function(i){Gt._keyboardManager.exec(this,i)},Ep=function(i){if(!u(this,ju))return;const a=window.getSelection();i?a.setPosition(u(this,ju),u(this,Ed)):a.setPosition(u(this,xd),u(this,Td))},rh=function(){return u(this,ji)?this.rotation:0},HE=function(){if(u(this,ji))return null;const[i,a]=this.pageDimensions,[r,l]=this.pageTranslation,c=u(this,Qa),h=new Float32Array(c.length*8);let f=0;for(const{x:p,y:v,width:b,height:y}of c){const _=p*i+r,T=(1-v-y)*a+l;h[f]=h[f+4]=_,h[f+1]=h[f+3]=T,h[f+2]=h[f+6]=_+b*i,h[f+5]=h[f+7]=T+y*a,f+=8}return h},FE=function(i){return u(this,Fn).serialize(i,E(this,Rt,rh).call(this))},IE=function(i,a){this._freeHighlight.add(a)&&i.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},GE=function(i,a){this._freeHighlight.isEmpty()?i.drawLayer.remove(this._freeHighlightId):i.createAndAddNewEditor(a,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},qE=function(i){const{color:a}=this._initialData;return i.color.some((r,l)=>r!==a[l])},w(Gt,Sn),St(Gt,"_defaultColor",null),St(Gt,"_defaultOpacity",1),St(Gt,"_defaultThickness",12),St(Gt,"_type","highlight"),St(Gt,"_editorType",Mt.HIGHLIGHT),St(Gt,"_freeHighlightId",-1),St(Gt,"_freeHighlight",null),St(Gt,"_freeHighlightClipId","");let zp=Gt;var Do,Oo,ua,Ja,yn,No,jo,zo,ts,Uu,Po,Bo,sr,nt,VE,XE,YE,$E,Hb,KE,Fb,ZE,QE,WE,JE,tx,Hr,Ib,Gb,qb,xp,Tp,Fl,Vb,wp,hs,ex,Xb,ix,nx,Yb,Rp,oh;const de=class de extends Zt{constructor(i){super({...i,name:"inkEditor"});w(this,nt);w(this,Do,0);w(this,Oo,0);w(this,ua,null);w(this,Ja,new Path2D);w(this,yn,!1);w(this,No,null);w(this,jo,!1);w(this,zo,!1);w(this,ts,null);w(this,Uu,null);w(this,Po,0);w(this,Bo,0);w(this,sr,null);this.color=i.color||null,this.thickness=i.thickness||null,this.opacity=i.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(i,a){Zt.initialize(i,a)}static updateDefaultParams(i,a){switch(i){case _t.INK_THICKNESS:de._defaultThickness=a;break;case _t.INK_COLOR:de._defaultColor=a;break;case _t.INK_OPACITY:de._defaultOpacity=a/100;break}}updateParams(i,a){switch(i){case _t.INK_THICKNESS:E(this,nt,VE).call(this,a);break;case _t.INK_COLOR:E(this,nt,XE).call(this,a);break;case _t.INK_OPACITY:E(this,nt,YE).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[_t.INK_THICKNESS,de._defaultThickness],[_t.INK_COLOR,de._defaultColor||Zt._defaultLineColor],[_t.INK_OPACITY,Math.round(de._defaultOpacity*100)]]}get propertiesToUpdate(){return[[_t.INK_THICKNESS,this.thickness||de._defaultThickness],[_t.INK_COLOR,this.color||de._defaultColor||Zt._defaultLineColor],[_t.INK_OPACITY,Math.round(100*(this.opacity??de._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(E(this,nt,xp).call(this),E(this,nt,Tp).call(this)),this.isAttachedToDOM||(this.parent.add(this),E(this,nt,Fl).call(this)),E(this,nt,oh).call(this)))}remove(){var i;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,ua)&&(clearTimeout(u(this,ua)),S(this,ua,null)),(i=u(this,ts))==null||i.disconnect(),S(this,ts,null),super.remove())}setParent(i){!this.parent&&i?this._uiManager.removeShouldRescale(this):this.parent&&i===null&&this._uiManager.addShouldRescale(this),super.setParent(i)}onScaleChanging(){const[i,a]=this.parentDimensions,r=this.width*i,l=this.height*a;this.setDimensions(r,l)}enableEditMode(){u(this,yn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,E(this,nt,Ib).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),E(this,nt,Gb).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,yn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),S(this,yn,!0),this.div.classList.add("disabled"),E(this,nt,oh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),this.enableEditMode())}canvasPointerdown(i){i.button!==0||!this.isInEditMode()||u(this,yn)||(this.setInForeground(),i.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),E(this,nt,KE).call(this,i.offsetX,i.offsetY))}canvasPointermove(i){i.preventDefault(),E(this,nt,Fb).call(this,i.offsetX,i.offsetY)}canvasPointerup(i){i.preventDefault(),E(this,nt,qb).call(this,i)}canvasPointerleave(i){E(this,nt,qb).call(this,i)}get isResizable(){return!this.isEmpty()&&u(this,yn)}render(){if(this.div)return this.div;let i,a;this.width&&(i=this.x,a=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,c,h]=E(this,nt,$E).call(this);if(this.setAt(r,l,0,0),this.setDims(c,h),E(this,nt,xp).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(i*f,a*p,this.width*f,this.height*p),S(this,zo,!0),E(this,nt,Fl).call(this),this.setDims(this.width*f,this.height*p),E(this,nt,Hr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return E(this,nt,Tp).call(this),this.div}setDimensions(i,a){const r=Math.round(i),l=Math.round(a);if(u(this,Po)===r&&u(this,Bo)===l)return;S(this,Po,r),S(this,Bo,l),this.canvas.style.visibility="hidden";const[c,h]=this.parentDimensions;this.width=i/c,this.height=a/h,this.fixAndSetPosition(),u(this,yn)&&E(this,nt,Vb).call(this,i,a),E(this,nt,Fl).call(this),E(this,nt,Hr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(i,a,r){var k,C,D;if(i instanceof y0)return null;const l=await super.deserialize(i,a,r);l.thickness=i.thickness,l.color=dt.makeHexColor(...i.color),l.opacity=i.opacity;const[c,h]=l.pageDimensions,f=l.width*c,p=l.height*h,v=l.parentScale,b=i.thickness/2;S(l,yn,!0),S(l,Po,Math.round(f)),S(l,Bo,Math.round(p));const{paths:y,rect:_,rotation:T}=i;for(let{bezier:N}of y){N=E(k=de,hs,ix).call(k,N,_,T);const z=[];l.paths.push(z);let U=v*(N[0]-b),G=v*(N[1]-b);for(let Q=2,it=N.length;Q<it;Q+=6){const ot=v*(N[Q]-b),st=v*(N[Q+1]-b),mt=v*(N[Q+2]-b),vt=v*(N[Q+3]-b),ft=v*(N[Q+4]-b),ht=v*(N[Q+5]-b);z.push([[U,G],[ot,st],[mt,vt],[ft,ht]]),U=ft,G=ht}const X=E(this,hs,ex).call(this,z);l.bezierPath2D.push(X)}const R=E(C=l,nt,Yb).call(C);return S(l,Oo,Math.max(Zt.MIN_SIZE,R[2]-R[0])),S(l,Do,Math.max(Zt.MIN_SIZE,R[3]-R[1])),E(D=l,nt,Vb).call(D,f,p),l}serialize(){if(this.isEmpty())return null;const i=this.getRect(0,0),a=Zt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Mt.INK,color:a,thickness:this.thickness,opacity:this.opacity,paths:E(this,nt,nx).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,i),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Do=new WeakMap,Oo=new WeakMap,ua=new WeakMap,Ja=new WeakMap,yn=new WeakMap,No=new WeakMap,jo=new WeakMap,zo=new WeakMap,ts=new WeakMap,Uu=new WeakMap,Po=new WeakMap,Bo=new WeakMap,sr=new WeakMap,nt=new WeakSet,VE=function(i){const a=l=>{this.thickness=l,E(this,nt,oh).call(this)},r=this.thickness;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},XE=function(i){const a=l=>{this.color=l,E(this,nt,Hr).call(this)},r=this.color;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},YE=function(i){const a=l=>{this.opacity=l,E(this,nt,Hr).call(this)};i/=100;const r=this.opacity;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},$E=function(){const{parentRotation:i,parentDimensions:[a,r]}=this;switch(i){case 90:return[0,r,r,a];case 180:return[a,r,a,r];case 270:return[a,0,r,a];default:return[0,0,a,r]}},Hb=function(){const{ctx:i,color:a,opacity:r,thickness:l,parentScale:c,scaleFactor:h}=this;i.lineWidth=l*c/h,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${a}${CR(r)}`},KE=function(i,a){this.canvas.addEventListener("contextmenu",En,{signal:this._uiManager._signal}),E(this,nt,Gb).call(this),S(this,No,new AbortController);const r=this._uiManager.combinedSignal(u(this,No));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,u(this,zo)||(S(this,zo,!0),E(this,nt,Fl).call(this),this.thickness||(this.thickness=de._defaultThickness),this.color||(this.color=de._defaultColor||Zt._defaultLineColor),this.opacity??(this.opacity=de._defaultOpacity)),this.currentPath.push([i,a]),S(this,jo,!1),E(this,nt,Hb).call(this),S(this,sr,()=>{E(this,nt,WE).call(this),u(this,sr)&&window.requestAnimationFrame(u(this,sr))}),window.requestAnimationFrame(u(this,sr))},Fb=function(i,a){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===r&&a===l)return;const c=this.currentPath;let h=u(this,Ja);if(c.push([i,a]),S(this,jo,!0),c.length<=2){h.moveTo(...c[0]),h.lineTo(i,a);return}c.length===3&&(S(this,Ja,h=new Path2D),h.moveTo(...c[0])),E(this,nt,JE).call(this,h,...c.at(-3),...c.at(-2),i,a)},ZE=function(){if(this.currentPath.length===0)return;const i=this.currentPath.at(-1);u(this,Ja).lineTo(...i)},QE=function(i,a){S(this,sr,null),i=Math.min(Math.max(i,0),this.canvas.width),a=Math.min(Math.max(a,0),this.canvas.height),E(this,nt,Fb).call(this,i,a),E(this,nt,ZE).call(this);let r;if(this.currentPath.length!==1)r=E(this,nt,tx).call(this);else{const p=[i,a];r=[[p,p.slice(),p.slice(),p]]}const l=u(this,Ja),c=this.currentPath;this.currentPath=[],S(this,Ja,new Path2D);const h=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(E(this,nt,xp).call(this),E(this,nt,Tp).call(this)),E(this,nt,oh).call(this))};this.addCommands({cmd:h,undo:f,mustExec:!0})},WE=function(){if(!u(this,jo))return;S(this,jo,!1);const i=Math.ceil(this.thickness*this.parentScale),a=this.currentPath.slice(-3),r=a.map(h=>h[0]),l=a.map(h=>h[1]);Math.min(...r)-i,Math.max(...r)+i,Math.min(...l)-i,Math.max(...l)+i;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(u(this,Ja)),c.restore()},JE=function(i,a,r,l,c,h,f){const p=(a+l)/2,v=(r+c)/2,b=(l+h)/2,y=(c+f)/2;i.bezierCurveTo(p+2*(l-p)/3,v+2*(c-v)/3,b+2*(l-b)/3,y+2*(c-y)/3,b,y)},tx=function(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const a=[];let r,[l,c]=i[0];for(r=1;r<i.length-2;r++){const[_,T]=i[r],[R,k]=i[r+1],C=(_+R)/2,D=(T+k)/2,N=[l+2*(_-l)/3,c+2*(T-c)/3],z=[C+2*(_-C)/3,D+2*(T-D)/3];a.push([[l,c],N,z,[C,D]]),[l,c]=[C,D]}const[h,f]=i[r],[p,v]=i[r+1],b=[l+2*(h-l)/3,c+2*(f-c)/3],y=[p+2*(h-p)/3,v+2*(f-v)/3];return a.push([[l,c],b,y,[p,v]]),a},Hr=function(){if(this.isEmpty()){E(this,nt,wp).call(this);return}E(this,nt,Hb).call(this);const{canvas:i,ctx:a}=this;a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,i.width,i.height),E(this,nt,wp).call(this);for(const r of this.bezierPath2D)a.stroke(r)},Ib=function(){if(u(this,Uu))return;S(this,Uu,new AbortController);const i=this._uiManager.combinedSignal(u(this,Uu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:i})},Gb=function(){var i;(i=this.pointerdownAC)==null||i.abort(),this.pointerdownAC=null},qb=function(i){var a;(a=u(this,No))==null||a.abort(),S(this,No,null),E(this,nt,Ib).call(this),u(this,ua)&&clearTimeout(u(this,ua)),S(this,ua,setTimeout(()=>{S(this,ua,null),this.canvas.removeEventListener("contextmenu",En)},10)),E(this,nt,QE).call(this,i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()},xp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Tp=function(){S(this,ts,new ResizeObserver(i=>{const a=i[0].contentRect;a.width&&a.height&&this.setDimensions(a.width,a.height)})),u(this,ts).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=u(this,ts))==null||i.disconnect(),S(this,ts,null)},{once:!0})},Fl=function(){if(!u(this,zo))return;const[i,a]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*a),E(this,nt,wp).call(this)},Vb=function(i,a){const r=E(this,nt,Rp).call(this),l=(i-r)/u(this,Oo),c=(a-r)/u(this,Do);this.scaleFactor=Math.min(l,c)},wp=function(){const i=E(this,nt,Rp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)},hs=new WeakSet,ex=function(i){const a=new Path2D;for(let r=0,l=i.length;r<l;r++){const[c,h,f,p]=i[r];r===0&&a.moveTo(...c),a.bezierCurveTo(h[0],h[1],f[0],f[1],p[0],p[1])}return a},Xb=function(i,a,r){const[l,c,h,f]=a;switch(r){case 0:for(let p=0,v=i.length;p<v;p+=2)i[p]+=l,i[p+1]=f-i[p+1];break;case 90:for(let p=0,v=i.length;p<v;p+=2){const b=i[p];i[p]=i[p+1]+l,i[p+1]=b+c}break;case 180:for(let p=0,v=i.length;p<v;p+=2)i[p]=h-i[p],i[p+1]+=c;break;case 270:for(let p=0,v=i.length;p<v;p+=2){const b=i[p];i[p]=h-i[p+1],i[p+1]=f-b}break;default:throw new Error("Invalid rotation")}return i},ix=function(i,a,r){const[l,c,h,f]=a;switch(r){case 0:for(let p=0,v=i.length;p<v;p+=2)i[p]-=l,i[p+1]=f-i[p+1];break;case 90:for(let p=0,v=i.length;p<v;p+=2){const b=i[p];i[p]=i[p+1]-c,i[p+1]=b-l}break;case 180:for(let p=0,v=i.length;p<v;p+=2)i[p]=h-i[p],i[p+1]-=c;break;case 270:for(let p=0,v=i.length;p<v;p+=2){const b=i[p];i[p]=f-i[p+1],i[p+1]=h-b}break;default:throw new Error("Invalid rotation")}return i},nx=function(i,a,r,l){var v,b;const c=[],h=this.thickness/2,f=i*a+h,p=i*r+h;for(const y of this.paths){const _=[],T=[];for(let R=0,k=y.length;R<k;R++){const[C,D,N,z]=y[R];if(C[0]===z[0]&&C[1]===z[1]&&k===1){const vt=i*C[0]+f,ft=i*C[1]+p;_.push(vt,ft),T.push(vt,ft);break}const U=i*C[0]+f,G=i*C[1]+p,X=i*D[0]+f,Q=i*D[1]+p,it=i*N[0]+f,ot=i*N[1]+p,st=i*z[0]+f,mt=i*z[1]+p;R===0&&(_.push(U,G),T.push(U,G)),_.push(X,Q,it,ot,st,mt),T.push(X,Q),R===k-1&&T.push(st,mt)}c.push({bezier:E(v=de,hs,Xb).call(v,_,l,this.rotation),points:E(b=de,hs,Xb).call(b,T,l,this.rotation)})}return c},Yb=function(){let i=1/0,a=-1/0,r=1/0,l=-1/0;for(const c of this.paths)for(const[h,f,p,v]of c){const b=dt.bezierBoundingBox(...h,...f,...p,...v);i=Math.min(i,b[0]),r=Math.min(r,b[1]),a=Math.max(a,b[2]),l=Math.max(l,b[3])}return[i,r,a,l]},Rp=function(){return u(this,yn)?Math.ceil(this.thickness*this.parentScale):0},oh=function(i=!1){if(this.isEmpty())return;if(!u(this,yn)){E(this,nt,Hr).call(this);return}const a=E(this,nt,Yb).call(this),r=E(this,nt,Rp).call(this);S(this,Oo,Math.max(Zt.MIN_SIZE,a[2]-a[0])),S(this,Do,Math.max(Zt.MIN_SIZE,a[3]-a[1]));const l=Math.ceil(r+u(this,Oo)*this.scaleFactor),c=Math.ceil(r+u(this,Do)*this.scaleFactor),[h,f]=this.parentDimensions;this.width=l/h,this.height=c/f,this.setAspectRatio(l,c);const p=this.translationX,v=this.translationY;this.translationX=-a[0],this.translationY=-a[1],E(this,nt,Fl).call(this),E(this,nt,Hr).call(this),S(this,Po,l),S(this,Bo,c),this.setDims(l,c);const b=i?r/this.scaleFactor/2:0;this.translate(p-this.translationX-b,v-this.translationY-b)},w(de,hs),St(de,"_defaultColor",null),St(de,"_defaultOpacity",1),St(de,"_defaultThickness",1),St(de,"_type","ink"),St(de,"_editorType",Mt.INK);let Ub=de;var pe,si,rr,es,or,Hu,ca,is,ha,Ji,Fu,Pt,lh,uh,Cp,Kb,ax,Mp,Zb,kp,sx,rx;const dh=class dh extends Zt{constructor(i){super({...i,name:"stampEditor"});w(this,Pt);w(this,pe,null);w(this,si,null);w(this,rr,null);w(this,es,null);w(this,or,null);w(this,Hu,"");w(this,ca,null);w(this,is,null);w(this,ha,null);w(this,Ji,!1);w(this,Fu,!1);S(this,es,i.bitmapUrl),S(this,or,i.bitmapFile)}static initialize(i,a){Zt.initialize(i,a)}static get supportedTypes(){return Ut(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(a=>`image/${a}`))}static get supportedTypesStr(){return Ut(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(i){return this.supportedTypes.includes(i)}static paste(i,a){a.pasteEditor(Mt.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var i;return{type:"stamp",hasAltText:!!((i=this.altTextData)!=null&&i.altText)}}static computeTelemetryFinalData(i){const a=i.get("hasAltText");return{hasAltText:a.get(!0)??0,hasNoAltText:a.get(!1)??0}}async mlGuessAltText(i=null,a=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:h}=i||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:c,height:h,channels:l.length/(c*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),a&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var i,a;u(this,si)&&(S(this,pe,null),this._uiManager.imageManager.deleteId(u(this,si)),(i=u(this,ca))==null||i.remove(),S(this,ca,null),(a=u(this,is))==null||a.disconnect(),S(this,is,null),u(this,ha)&&(clearTimeout(u(this,ha)),S(this,ha,null))),super.remove()}rebuild(){if(!this.parent){u(this,si)&&E(this,Pt,Cp).call(this);return}super.rebuild(),this.div!==null&&(u(this,si)&&u(this,ca)===null&&E(this,Pt,Cp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,rr)||u(this,pe)||u(this,es)||u(this,or)||u(this,si))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,a;if(this.width&&(i=this.x,a=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,pe)?E(this,Pt,Kb).call(this):E(this,Pt,Cp).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(i*r,a*l,this.width*r,this.height*l)}return this.div}copyCanvas(i,a,r=!1){var _;i||(i=224);const{width:l,height:c}=u(this,pe),h=new qv;let f=u(this,pe),p=l,v=c,b=null;if(a){if(l>a||c>a){const Q=Math.min(a/l,a/c);p=Math.floor(l*Q),v=Math.floor(c*Q)}b=document.createElement("canvas");const T=b.width=Math.ceil(p*h.sx),R=b.height=Math.ceil(v*h.sy);u(this,Ji)||(f=E(this,Pt,Mp).call(this,T,R));const k=b.getContext("2d");k.filter=this._uiManager.hcmFilter;let C="white",D="#cfcfd8";this._uiManager.hcmFilter!=="none"?D="black":(_=window.matchMedia)!=null&&_.call(window,"(prefers-color-scheme: dark)").matches&&(C="#8f8f9d",D="#42414d");const N=15,z=N*h.sx,U=N*h.sy,G=new OffscreenCanvas(z*2,U*2),X=G.getContext("2d");X.fillStyle=C,X.fillRect(0,0,z*2,U*2),X.fillStyle=D,X.fillRect(0,0,z,U),X.fillRect(z,U,z,U),k.fillStyle=k.createPattern(G,"repeat"),k.fillRect(0,0,T,R),k.drawImage(f,0,0,f.width,f.height,0,0,T,R)}let y=null;if(r){let T,R;if(h.symmetric&&f.width<i&&f.height<i)T=f.width,R=f.height;else if(f=u(this,pe),l>i||c>i){const D=Math.min(i/l,i/c);T=Math.floor(l*D),R=Math.floor(c*D),u(this,Ji)||(f=E(this,Pt,Mp).call(this,T,R))}const C=new OffscreenCanvas(T,R).getContext("2d",{willReadFrequently:!0});C.drawImage(f,0,0,f.width,f.height,0,0,T,R),y={width:T,height:R,data:C.getImageData(0,0,T,R).data}}return{canvas:b,width:p,height:v,imageData:y}}getImageForAltText(){return u(this,ca)}static async deserialize(i,a,r){var R;let l=null;if(i instanceof gE){const{data:{rect:k,rotation:C,id:D,structParent:N,popupRef:z},container:U,parent:{page:{pageNumber:G}}}=i,X=U.querySelector("canvas"),Q=r.imageManager.getFromCanvas(U.id,X);X.remove();const it=((R=await a._structTree.getAriaAttributes(`${l0}${D}`))==null?void 0:R.get("aria-label"))||"";l=i={annotationType:Mt.STAMP,bitmapId:Q.id,bitmap:Q.bitmap,pageIndex:G-1,rect:k.slice(0),rotation:C,id:D,deleted:!1,accessibilityData:{decorative:!1,altText:it},isSvg:!1,structParent:N,popupRef:z}}const c=await super.deserialize(i,a,r),{rect:h,bitmap:f,bitmapUrl:p,bitmapId:v,isSvg:b,accessibilityData:y}=i;v&&r.imageManager.isValidId(v)?(S(c,si,v),f&&S(c,pe,f)):S(c,es,p),S(c,Ji,b);const[_,T]=c.pageDimensions;return c.width=(h[2]-h[0])/_,c.height=(h[3]-h[1])/T,c.annotationElementId=i.id||null,y&&(c.altTextData=y),c._initialData=l,S(c,Fu,!!l),c}serialize(i=!1,a=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Mt.STAMP,bitmapId:u(this,si),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,Ji),structTreeParentId:this._structTreeParentId};if(i)return r.bitmapUrl=E(this,Pt,kp).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=E(this,Pt,rx).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,a===null)return r;a.stamps||(a.stamps=new Map);const h=u(this,Ji)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!a.stamps.has(u(this,si)))a.stamps.set(u(this,si),{area:h,serialized:r}),r.bitmap=E(this,Pt,kp).call(this,!1);else if(u(this,Ji)){const f=a.stamps.get(u(this,si));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=E(this,Pt,kp).call(this,!1))}return r}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}};pe=new WeakMap,si=new WeakMap,rr=new WeakMap,es=new WeakMap,or=new WeakMap,Hu=new WeakMap,ca=new WeakMap,is=new WeakMap,ha=new WeakMap,Ji=new WeakMap,Fu=new WeakMap,Pt=new WeakSet,lh=function(i,a=!1){if(!i){this.remove();return}S(this,pe,i.bitmap),a||(S(this,si,i.id),S(this,Ji,i.isSvg)),i.file&&S(this,Hu,i.file.name),E(this,Pt,Kb).call(this)},uh=function(){if(S(this,rr,null),this._uiManager.enableWaiting(!1),!!u(this,ca)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,pe)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,pe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Cp=function(){if(u(this,si)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,si)).then(r=>E(this,Pt,lh).call(this,r,!0)).finally(()=>E(this,Pt,uh).call(this));return}if(u(this,es)){const r=u(this,es);S(this,es,null),this._uiManager.enableWaiting(!0),S(this,rr,this._uiManager.imageManager.getFromUrl(r).then(l=>E(this,Pt,lh).call(this,l)).finally(()=>E(this,Pt,uh).call(this)));return}if(u(this,or)){const r=u(this,or);S(this,or,null),this._uiManager.enableWaiting(!0),S(this,rr,this._uiManager.imageManager.getFromFile(r).then(l=>E(this,Pt,lh).call(this,l)).finally(()=>E(this,Pt,uh).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=dh.supportedTypesStr;const a=this._uiManager._signal;S(this,rr,new Promise(r=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(i.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,Pt,lh).call(this,l)}r()},{signal:a}),i.addEventListener("cancel",()=>{this.remove(),r()},{signal:a})}).finally(()=>E(this,Pt,uh).call(this))),i.click()},Kb=function(){const{div:i}=this;let{width:a,height:r}=u(this,pe);const[l,c]=this.pageDimensions,h=.75;if(this.width)a=this.width*l,r=this.height*c;else if(a>h*l||r>h*c){const b=Math.min(h*l/a,h*c/r);a*=b,r*=b}const[f,p]=this.parentDimensions;this.setDims(a*f/l,r*p/c),this._uiManager.enableWaiting(!1);const v=S(this,ca,document.createElement("canvas"));v.setAttribute("role","img"),this.addContainer(v),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(i.hidden=!1),E(this,Pt,Zb).call(this,a,r),E(this,Pt,sx).call(this),u(this,Fu)||(this.parent.addUndoableEditor(this),S(this,Fu,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Hu)&&v.setAttribute("aria-label",u(this,Hu))},ax=function(i,a){var h;const[r,l]=this.parentDimensions;this.width=i/r,this.height=a/l,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,ha)!==null&&clearTimeout(u(this,ha)),S(this,ha,setTimeout(()=>{S(this,ha,null),E(this,Pt,Zb).call(this,i,a)},200))},Mp=function(i,a){const{width:r,height:l}=u(this,pe);let c=r,h=l,f=u(this,pe);for(;c>2*i||h>2*a;){const p=c,v=h;c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*a&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const b=new OffscreenCanvas(c,h);b.getContext("2d").drawImage(f,0,0,p,v,0,0,c,h),f=b.transferToImageBitmap()}return f},Zb=function(i,a){const r=new qv,l=Math.ceil(i*r.sx),c=Math.ceil(a*r.sy),h=u(this,ca);if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const f=u(this,Ji)?u(this,pe):E(this,Pt,Mp).call(this,l,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,c)},kp=function(i){if(i){if(u(this,Ji)){const l=this._uiManager.imageManager.getSvgUrl(u(this,si));if(l)return l}const a=document.createElement("canvas");return{width:a.width,height:a.height}=u(this,pe),a.getContext("2d").drawImage(u(this,pe),0,0),a.toDataURL()}if(u(this,Ji)){const[a,r]=this.pageDimensions,l=Math.round(this.width*a*hr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*hr.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(l,c);return h.getContext("2d").drawImage(u(this,pe),0,0,u(this,pe).width,u(this,pe).height,0,0,l,c),h.transferToImageBitmap()}return structuredClone(u(this,pe))},sx=function(){this._uiManager._signal&&(S(this,is,new ResizeObserver(i=>{const a=i[0].contentRect;a.width&&a.height&&E(this,Pt,ax).call(this,a.width,a.height)})),u(this,is).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=u(this,is))==null||i.disconnect(),S(this,is,null)},{once:!0}))},rx=function(i){var p;const{rect:a,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,c=i.rect.every((v,b)=>Math.abs(v-a[b])<1),h=i.pageIndex===r,f=(((p=i.accessibilityData)==null?void 0:p.alt)||"")===l;return{isSame:c&&h&&f,isSameAltText:f}},St(dh,"_type","stamp"),St(dh,"_editorType",Mt.STAMP);let $b=dh;var Uo,Iu,da,lr,ns,tn,ur,Gu,qu,mi,as,gt,cr,ri,ox,Wb,Jb,t0,Lp;const Rn=class Rn{constructor({uiManager:e,pageIndex:i,div:a,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:h,textLayer:f,viewport:p,l10n:v}){w(this,ri);w(this,Uo);w(this,Iu,!1);w(this,da,null);w(this,lr,null);w(this,ns,null);w(this,tn,new Map);w(this,ur,!1);w(this,Gu,!1);w(this,qu,!1);w(this,mi,null);w(this,as,null);w(this,gt);const b=[...u(Rn,cr).values()];if(!Rn._initialized){Rn._initialized=!0;for(const y of b)y.initialize(v,e)}e.registerEditorTypes(b),S(this,gt,e),this.pageIndex=i,this.div=a,S(this,Uo,l),S(this,da,c),this.viewport=p,S(this,mi,f),this.drawLayer=h,this._structTree=r,u(this,gt).addLayer(this)}get isEmpty(){return u(this,tn).size===0}get isInvisible(){return this.isEmpty&&u(this,gt).getMode()===Mt.NONE}updateToolbar(e){u(this,gt).updateToolbar(e)}updateMode(e=u(this,gt).getMode()){switch(E(this,ri,Lp).call(this),e){case Mt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Mt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Mt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const a of u(Rn,cr).values())i.toggle(`${a._type}Editing`,e===a._editorType);this.div.hidden=!1}hasTextLayer(e){var i;return e===((i=u(this,mi))==null?void 0:i.div)}addInkEditorIfNeeded(e){if(u(this,gt).getMode()!==Mt.INK)return;if(!e){for(const a of u(this,tn).values())if(a.isEmpty()){a.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){u(this,gt).setEditingState(e)}addCommands(e){u(this,gt).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var i;(i=u(this,da))==null||i.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const a of u(this,tn).values())a.enableEditing(),a.show(!0),a.annotationElementId&&(u(this,gt).removeChangedExistingAnnotation(a),e.add(a.annotationElementId));if(!u(this,da))return;const i=u(this,da).getEditableAnnotations();for(const a of i){if(a.hide(),u(this,gt).isDeletedAnnotationElement(a.data.id)||e.has(a.data.id))continue;const r=await this.deserialize(a);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;S(this,qu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const l of u(this,tn).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){e.set(l.annotationElementId,l);continue}else i.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(u(this,da)){const l=u(this,da).getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(u(this,gt).isDeletedAnnotationElement(h))continue;let f=i.get(h);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=e.get(h),f&&(u(this,gt).addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}E(this,ri,Lp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:a}=this.div;for(const l of u(Rn,cr).values())a.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),S(this,qu,!1)}getEditableAnnotation(e){var i;return((i=u(this,da))==null?void 0:i.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,gt).getActive()!==e&&u(this,gt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,mi))!=null&&e.div&&!u(this,as)){S(this,as,new AbortController);const i=u(this,gt).combinedSignal(u(this,as));u(this,mi).div.addEventListener("pointerdown",E(this,ri,ox).bind(this),{signal:i}),u(this,mi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,mi))!=null&&e.div&&u(this,as)&&(u(this,as).abort(),S(this,as,null),u(this,mi).div.classList.remove("highlighting"))}enableClick(){if(u(this,lr))return;S(this,lr,new AbortController);const e=u(this,gt).combinedSignal(u(this,lr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=u(this,lr))==null||e.abort(),S(this,lr,null)}attach(e){u(this,tn).set(e.id,e);const{annotationElementId:i}=e;i&&u(this,gt).isDeletedAnnotationElement(i)&&u(this,gt).removeDeletedAnnotationElement(e)}detach(e){var i;u(this,tn).delete(e.id),(i=u(this,Uo))==null||i.removePointerInTextLayer(e.contentDiv),!u(this,qu)&&e.annotationElementId&&u(this,gt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,gt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,u(this,Gu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var i;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,gt).addDeletedAnnotationElement(e.annotationElementId),Zt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(i=e.parent)==null||i.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,gt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),u(this,gt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var a;if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!u(this,ns)&&(e._focusEventsAllowed=!1,S(this,ns,setTimeout(()=>{S(this,ns,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,gt)._signal}),i.focus())},0))),e._structTreeParentId=(a=u(this,Uo))==null?void 0:a.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const i=()=>e._uiManager.rebuild(e),a=()=>{e.remove()};this.addCommands({cmd:i,undo:a,mustExec:!1})}getNextId(){return u(this,gt).getId()}combinedSignal(e){return u(this,gt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,ri,Wb))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,i){u(this,gt).updateToolbar(e),u(this,gt).updateMode(e);const{offsetX:a,offsetY:r}=E(this,ri,t0).call(this),l=this.getNextId(),c=E(this,ri,Jb).call(this,{parent:this,id:l,x:a,y:r,uiManager:u(this,gt),isCentered:!0,...i});c&&this.add(c)}async deserialize(e){var i;return await((i=u(Rn,cr).get(e.annotationType??e.annotationEditorType))==null?void 0:i.deserialize(e,this,u(this,gt)))||null}createAndAddNewEditor(e,i,a={}){const r=this.getNextId(),l=E(this,ri,Jb).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:u(this,gt),isCentered:i,...a});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(E(this,ri,t0).call(this),!0)}setSelected(e){u(this,gt).setSelected(e)}toggleSelected(e){u(this,gt).toggleSelected(e)}unselect(e){u(this,gt).unselect(e)}pointerup(e){const{isMac:i}=Ei.platform;if(!(e.button!==0||e.ctrlKey&&i)&&e.target===this.div&&u(this,ur)){if(S(this,ur,!1),!u(this,Iu)){S(this,Iu,!0);return}if(u(this,gt).getMode()===Mt.STAMP){u(this,gt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(u(this,gt).getMode()===Mt.HIGHLIGHT&&this.enableTextSelection(),u(this,ur)){S(this,ur,!1);return}const{isMac:i}=Ei.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;S(this,ur,!0);const a=u(this,gt).getActive();S(this,Iu,!a||a.isEmpty())}findNewParent(e,i,a){const r=u(this,gt).findParent(i,a);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,i;((e=u(this,gt).getActive())==null?void 0:e.parent)===this&&(u(this,gt).commitOrRemove(),u(this,gt).setActiveEditor(null)),u(this,ns)&&(clearTimeout(u(this,ns)),S(this,ns,null));for(const a of u(this,tn).values())(i=u(this,Uo))==null||i.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,u(this,tn).clear(),u(this,gt).removeLayer(this)}render({viewport:e}){this.viewport=e,Ho(this.div,e);for(const i of u(this,gt).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){u(this,gt).commitOrRemove(),E(this,ri,Lp).call(this);const i=this.viewport.rotation,a=e.rotation;if(this.viewport=e,Ho(this.div,{rotation:a}),i!==a)for(const r of u(this,tn).values())r.rotate(a);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return u(this,gt).viewParameters.realScale}};Uo=new WeakMap,Iu=new WeakMap,da=new WeakMap,lr=new WeakMap,ns=new WeakMap,tn=new WeakMap,ur=new WeakMap,Gu=new WeakMap,qu=new WeakMap,mi=new WeakMap,as=new WeakMap,gt=new WeakMap,cr=new WeakMap,ri=new WeakSet,ox=function(e){u(this,gt).unselectAll();const{target:i}=e;if(i===u(this,mi).div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&u(this,mi).div.contains(i)){const{isMac:a}=Ei.platform;if(e.button!==0||e.ctrlKey&&a)return;u(this,gt).showAllEditors("highlight",!0,!0),u(this,mi).div.classList.add("free"),this.toggleDrawing(),zp.startHighlighting(this,u(this,gt).direction==="ltr",{target:u(this,mi).div,x:e.x,y:e.y}),u(this,mi).div.addEventListener("pointerup",()=>{u(this,mi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,gt)._signal}),e.preventDefault()}},Wb=function(){return u(Rn,cr).get(u(this,gt).getMode())},Jb=function(e){const i=u(this,ri,Wb);return i?new i.prototype.constructor(e):null},t0=function(){const{x:e,y:i,width:a,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,e),c=Math.max(0,i),h=Math.min(window.innerWidth,e+a),f=Math.min(window.innerHeight,i+r),p=(l+h)/2-e,v=(c+f)/2-i,[b,y]=this.viewport.rotation%180===0?[p,v]:[v,p];return{offsetX:b,offsetY:y}},Lp=function(){S(this,Gu,!0);for(const e of u(this,tn).values())e.isEmpty()&&e.remove();S(this,Gu,!1)},St(Rn,"_initialized",!1),w(Rn,cr,new Map([kb,Ub,$b,zp].map(e=>[e._editorType,e])));let Qb=Rn;var fa,Rd,ke,ss,Cd,i0,Vo,n0,lx;const ii=class ii{constructor({pageIndex:e}){w(this,Vo);w(this,fa,null);w(this,Rd,0);w(this,ke,new Map);w(this,ss,new Map);this.pageIndex=e}setParent(e){if(!u(this,fa)){S(this,fa,e);return}if(u(this,fa)!==e){if(u(this,ke).size>0)for(const i of u(this,ke).values())i.remove(),e.append(i);S(this,fa,e)}}static get _svgFactory(){return Ut(this,"_svgFactory",new b0)}draw(e,i,a,r=!1){const l=yi(this,Rd)._++,c=E(this,Vo,n0).call(this,e.box);c.classList.add(...e.classNamesForDrawing);const h=ii._svgFactory.createElement("defs");c.append(h);const f=ii._svgFactory.createElement("path");h.append(f);const p=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",p),f.setAttribute("d",e.toSVGPath()),r&&u(this,ss).set(l,f);const v=E(this,Vo,lx).call(this,h,p),b=ii._svgFactory.createElement("use");return c.append(b),c.setAttribute("fill",i),c.setAttribute("fill-opacity",a),b.setAttribute("href",`#${p}`),u(this,ke).set(l,c),{id:l,clipPathId:`url(#${v})`}}drawOutline(e){const i=yi(this,Rd)._++,a=E(this,Vo,n0).call(this,e.box);a.classList.add(...e.classNamesForOutlining);const r=ii._svgFactory.createElement("defs");a.append(r);const l=ii._svgFactory.createElement("path");r.append(l);const c=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(e.mustRemoveSelfIntersections){const v=ii._svgFactory.createElement("mask");r.append(v),h=`mask_p${this.pageIndex}_${i}`,v.setAttribute("id",h),v.setAttribute("maskUnits","objectBoundingBox");const b=ii._svgFactory.createElement("rect");v.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const y=ii._svgFactory.createElement("use");v.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=ii._svgFactory.createElement("use");a.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return a.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),u(this,ke).set(i,a),i}finalizeLine(e,i){const a=u(this,ss).get(e);u(this,ss).delete(e),this.updateBox(e,i.box),a.setAttribute("d",i.toSVGPath())}updateLine(e,i){u(this,ke).get(e).firstChild.firstChild.setAttribute("d",i.toSVGPath())}updatePath(e,i){u(this,ss).get(e).setAttribute("d",i.toSVGPath())}updateBox(e,i){var a;E(a=ii,Cd,i0).call(a,u(this,ke).get(e),i)}show(e,i){u(this,ke).get(e).classList.toggle("hidden",!i)}rotate(e,i){u(this,ke).get(e).setAttribute("data-main-rotation",i)}changeColor(e,i){u(this,ke).get(e).setAttribute("fill",i)}changeOpacity(e,i){u(this,ke).get(e).setAttribute("fill-opacity",i)}addClass(e,i){u(this,ke).get(e).classList.add(i)}removeClass(e,i){u(this,ke).get(e).classList.remove(i)}getSVGRoot(e){return u(this,ke).get(e)}remove(e){u(this,ss).delete(e),u(this,fa)!==null&&(u(this,ke).get(e).remove(),u(this,ke).delete(e))}destroy(){S(this,fa,null);for(const e of u(this,ke).values())e.remove();u(this,ke).clear(),u(this,ss).clear()}};fa=new WeakMap,Rd=new WeakMap,ke=new WeakMap,ss=new WeakMap,Cd=new WeakSet,i0=function(e,{x:i=0,y:a=0,width:r=1,height:l=1}={}){const{style:c}=e;c.top=`${100*a}%`,c.left=`${100*i}%`,c.width=`${100*r}%`,c.height=`${100*l}%`},Vo=new WeakSet,n0=function(e){var a;const i=ii._svgFactory.create(1,1,!0);return u(this,fa).append(i),i.setAttribute("aria-hidden",!0),E(a=ii,Cd,i0).call(a,i,e),i},lx=function(e,i){const a=ii._svgFactory.createElement("clipPath");e.append(a);const r=`clip_${i}`;a.setAttribute("id",r),a.setAttribute("clipPathUnits","objectBoundingBox");const l=ii._svgFactory.createElement("use");return a.append(l),l.setAttribute("href",`#${i}`),l.classList.add("clip"),r},w(ii,Cd);let e0=ii;var oC=wt.AbortException,lC=wt.AnnotationEditorLayer,uC=wt.AnnotationEditorParamsType,cC=wt.AnnotationEditorType,hC=wt.AnnotationEditorUIManager,ux=wt.AnnotationLayer,cx=wt.AnnotationMode,dC=wt.ColorPicker,fC=wt.DOMSVGFactory,pC=wt.DrawLayer,mC=wt.FeatureTest,A0=wt.GlobalWorkerOptions,gC=wt.ImageKind,vC=wt.InvalidPDFException,bC=wt.MissingPDFException,yC=wt.OPS,AC=wt.OutputScale,SC=wt.PDFDataRangeTransport,_C=wt.PDFDateString,EC=wt.PDFWorker,xC=wt.PasswordResponses,TC=wt.PermissionFlag,wC=wt.PixelsPerInch,RC=wt.RenderingCancelledException,hx=wt.TextLayer,CC=wt.UnexpectedResponseException,MC=wt.Util,kC=wt.VerbosityLevel,LC=wt.XfaLayer,DC=wt.build,OC=wt.createValidAbsoluteUrl,NC=wt.fetchData,dx=wt.getDocument,jC=wt.getFilenameFromUrl,zC=wt.getPdfFilenameFromUrl,PC=wt.getXfaPageViewport,BC=wt.isDataScheme,UC=wt.isPdfFile,HC=wt.noContextMenu,FC=wt.normalizeUnicode,IC=wt.setLayerDimensions,GC=wt.shadow,qC=wt.version;const VC=Object.freeze(Object.defineProperty({__proto__:null,AbortException:oC,AnnotationEditorLayer:lC,AnnotationEditorParamsType:uC,AnnotationEditorType:cC,AnnotationEditorUIManager:hC,AnnotationLayer:ux,AnnotationMode:cx,ColorPicker:dC,DOMSVGFactory:fC,DrawLayer:pC,FeatureTest:mC,GlobalWorkerOptions:A0,ImageKind:gC,InvalidPDFException:vC,MissingPDFException:bC,OPS:yC,OutputScale:AC,PDFDataRangeTransport:SC,PDFDateString:_C,PDFWorker:EC,PasswordResponses:xC,PermissionFlag:TC,PixelsPerInch:wC,RenderingCancelledException:RC,TextLayer:hx,UnexpectedResponseException:CC,Util:MC,VerbosityLevel:kC,XfaLayer:LC,build:DC,createValidAbsoluteUrl:OC,fetchData:NC,getDocument:dx,getFilenameFromUrl:jC,getPdfFilenameFromUrl:zC,getXfaPageViewport:PC,isDataScheme:BC,isPdfFile:UC,noContextMenu:HC,normalizeUnicode:FC,setLayerDimensions:IC,shadow:GC,version:qC},Symbol.toStringTag,{value:"Module"}));var Xe=function(m,e,i){if(i||arguments.length===2)for(var a=0,r=e.length,l;a<r;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return m.concat(l||Array.prototype.slice.call(e))},XC=["onCopy","onCut","onPaste"],YC=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],$C=["onFocus","onBlur"],KC=["onInput","onInvalid","onReset","onSubmit"],ZC=["onLoad","onError"],QC=["onKeyDown","onKeyPress","onKeyUp"],WC=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],JC=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],tM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],eM=["onSelect"],iM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],nM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],aM=["onScroll"],sM=["onWheel"],rM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],oM=["onTransitionEnd"],lM=["onToggle"],uM=["onChange"],cM=Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe([],XC,!0),YC,!0),$C,!0),KC,!0),ZC,!0),QC,!0),WC,!0),JC,!0),tM,!0),eM,!0),iM,!0),nM,!0),aM,!0),sM,!0),rM,!0),oM,!0),uM,!0),lM,!0);function fx(m,e){var i={};return cM.forEach(function(a){var r=m[a];r&&(e?i[a]=function(l){return r(l,e(a))}:i[a]=r)}),i}function Dd(m){var e=!1,i=new Promise(function(a,r){m.then(function(l){return!e&&a(l)}).catch(function(l){return!e&&r(l)})});return{promise:i,cancel:function(){e=!0}}}function px(m){var e,i,a="";if(typeof m=="string"||typeof m=="number")a+=m;else if(typeof m=="object")if(Array.isArray(m)){var r=m.length;for(e=0;e<r;e++)m[e]&&(i=px(m[e]))&&(a&&(a+=" "),a+=i)}else for(i in m)m[i]&&(a&&(a+=" "),a+=i);return a}function lm(){for(var m,e,i=0,a="",r=arguments.length;i<r;i++)(m=arguments[i])&&(e=px(m))&&(a&&(a+=" "),a+=e);return a}var hM="Invariant failed";function ae(m,e){if(!m)throw new Error(hM)}var Uv,qS;function dM(){if(qS)return Uv;qS=1;var m=function(){};return Uv=m,Uv}var fM=dM();const gi=i_(fM);var VS=Object.prototype.hasOwnProperty;function XS(m,e,i){for(i of m.keys())if(Vl(i,e))return i}function Vl(m,e){var i,a,r;if(m===e)return!0;if(m&&e&&(i=m.constructor)===e.constructor){if(i===Date)return m.getTime()===e.getTime();if(i===RegExp)return m.toString()===e.toString();if(i===Array){if((a=m.length)===e.length)for(;a--&&Vl(m[a],e[a]););return a===-1}if(i===Set){if(m.size!==e.size)return!1;for(a of m)if(r=a,r&&typeof r=="object"&&(r=XS(e,r),!r)||!e.has(r))return!1;return!0}if(i===Map){if(m.size!==e.size)return!1;for(a of m)if(r=a[0],r&&typeof r=="object"&&(r=XS(e,r),!r)||!Vl(a[1],e.get(r)))return!1;return!0}if(i===ArrayBuffer)m=new Uint8Array(m),e=new Uint8Array(e);else if(i===DataView){if((a=m.byteLength)===e.byteLength)for(;a--&&m.getInt8(a)===e.getInt8(a););return a===-1}if(ArrayBuffer.isView(m)){if((a=m.byteLength)===e.byteLength)for(;a--&&m[a]===e[a];);return a===-1}if(!i||typeof m=="object"){a=0;for(i in m)if(VS.call(m,i)&&++a&&!VS.call(e,i)||!(i in e)||!Vl(m[i],e[i]))return!1;return Object.keys(e).length===a}}return m!==m&&e!==e}const mx=Z.createContext(null);function Xl({children:m,type:e}){return et.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:m})}const pM="noopener noreferrer nofollow";class mM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ae(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){ae(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(i=>{ae(this.pdfDocument),ae(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(i):Array.isArray(e)?i(e):e.then(i)}).then(i=>{ae(Array.isArray(i));const a=i[0];new Promise(r=>{ae(this.pdfDocument),a instanceof Object?this.pdfDocument.getPageIndex(a).then(l=>{r(l)}).catch(()=>{ae(!1)}):typeof a=="number"?r(a):ae(!1)}).then(r=>{const l=r+1;ae(this.pdfViewer),ae(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:r,pageNumber:l})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const i=e-1;ae(this.pdfViewer),ae(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:e})}addLinkAttributes(e,i,a){e.href=i,e.rel=this.externalLinkRel||pM,e.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const YS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},um=typeof window<"u",gx=um&&window.location.protocol==="file:";function gM(m){return typeof m<"u"}function zr(m){return gM(m)&&m!==null}function vM(m){return typeof m=="string"}function bM(m){return m instanceof ArrayBuffer}function yM(m){return ae(um),m instanceof Blob}function a0(m){return vM(m)&&/^data:/.test(m)}function $S(m){ae(a0(m));const[e="",i=""]=m.split(",");return e.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function AM(){return um&&window.devicePixelRatio||1}const vx="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function KS(){gi(!gx,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${vx}`)}function SM(){gi(!gx,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${vx}`)}function Go(m){m!=null&&m.cancel&&m.cancel()}function s0(m,e){return Object.defineProperty(m,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(m,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(m,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(m,"originalHeight",{get(){return this.view[3]},configurable:!0}),m}function _M(m){return m.name==="RenderingCancelledException"}function EM(m){return new Promise((e,i)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return i(new Error("Error while reading a file."));e(a.result)},a.onerror=r=>{if(!r.target)return i(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return i(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},a.readAsArrayBuffer(m)})}function xM(m,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return m}}function Vu(){return Z.useReducer(xM,{value:void 0,error:void 0})}var TM=function(m,e,i,a){function r(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(v){try{p(a.next(v))}catch(b){c(b)}}function f(v){try{p(a.throw(v))}catch(b){c(b)}}function p(v){v.done?l(v.value):r(v.value).then(h,f)}p((a=a.apply(m,e||[])).next())})},ZS=function(m,e){var i={};for(var a in m)Object.prototype.hasOwnProperty.call(m,a)&&e.indexOf(a)<0&&(i[a]=m[a]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(m);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(m,a[r])&&(i[a[r]]=m[a[r]]);return i};const{PDFDataRangeTransport:wM}=VC,RM=(m,e)=>{switch(e){case YS.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");m(i);break}case YS.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");m(i);break}}};function QS(m){return typeof m=="object"&&m!==null&&("data"in m||"range"in m||"url"in m)}const CM=Z.forwardRef(function(e,i){var{children:a,className:r,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:h,file:f,inputRef:p,imageResourcesPath:v,loading:b="Loading PDF",noData:y="No PDF file specified.",onItemClick:_,onLoadError:T,onLoadProgress:R,onLoadSuccess:k,onPassword:C=RM,onSourceError:D,onSourceSuccess:N,options:z,renderMode:U,rotate:G}=e,X=ZS(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[Q,it]=Vu(),{value:ot,error:st}=Q,[mt,vt]=Vu(),{value:ft,error:ht}=mt,B=Z.useRef(new mM),q=Z.useRef([]),W=Z.useRef(void 0),Et=Z.useRef(void 0);f&&f!==W.current&&QS(f)&&(gi(!Vl(f,W.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),W.current=f),z&&z!==Et.current&&(gi(!Vl(z,Et.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Et.current=z);const L=Z.useRef({scrollPageIntoView:qt=>{const{dest:le,pageNumber:He,pageIndex:Te=He-1}=qt;if(_){_({dest:le,pageIndex:Te,pageNumber:He});return}const We=q.current[Te];if(We){We.scrollIntoView();return}gi(!1,`An internal link leading to page ${He} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});Z.useImperativeHandle(i,()=>({linkService:B,pages:q,viewer:L}),[]);function Y(){N&&N()}function tt(){st&&(gi(!1,st.toString()),D&&D(st))}function J(){it({type:"RESET"})}Z.useEffect(J,[f,it]);const lt=Z.useCallback(()=>TM(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return a0(f)?{data:$S(f)}:(KS(),{url:f});if(f instanceof wM)return{range:f};if(bM(f))return{data:f};if(um&&yM(f))return{data:yield EM(f)};if(ae(typeof f=="object"),ae(QS(f)),"url"in f&&typeof f.url=="string"){if(a0(f.url)){const{url:qt}=f,le=ZS(f,["url"]),He=$S(qt);return Object.assign({data:He},le)}KS()}return f}),[f]);Z.useEffect(()=>{const qt=Dd(lt());return qt.promise.then(le=>{it({type:"RESOLVE",value:le})}).catch(le=>{it({type:"REJECT",error:le})}),()=>{Go(qt)}},[lt,it]),Z.useEffect(()=>{if(!(typeof ot>"u")){if(ot===!1){tt();return}Y()}},[ot]);function xt(){ft&&(k&&k(ft),q.current=new Array(ft.numPages),B.current.setDocument(ft))}function ut(){ht&&(gi(!1,ht.toString()),T&&T(ht))}Z.useEffect(function(){vt({type:"RESET"})},[vt,ot]),Z.useEffect(function(){if(!ot)return;const le=z?Object.assign(Object.assign({},ot),z):ot,He=dx(le);R&&(He.onProgress=R),C&&(He.onPassword=C);const Te=He,We=Te.promise.then(gr=>{vt({type:"RESOLVE",value:gr})}).catch(gr=>{Te.destroyed||vt({type:"REJECT",error:gr})});return()=>{We.finally(()=>Te.destroy())}},[z,vt,ot]),Z.useEffect(()=>{if(!(typeof ft>"u")){if(ft===!1){ut();return}xt()}},[ft]),Z.useEffect(function(){B.current.setViewer(L.current),B.current.setExternalLinkRel(c),B.current.setExternalLinkTarget(h)},[c,h]);const Tt=Z.useCallback((qt,le)=>{q.current[qt]=le},[]),Bt=Z.useCallback(qt=>{delete q.current[qt]},[]),xe=Z.useMemo(()=>({imageResourcesPath:v,linkService:B.current,onItemClick:_,pdf:ft,registerPage:Tt,renderMode:U,rotate:G,unregisterPage:Bt}),[v,_,ft,Tt,U,G,Bt]),Qt=Z.useMemo(()=>fx(X,()=>ft),[X,ft]);function Gn(){return et.jsx(mx.Provider,{value:xe,children:a})}function pa(){return f?ft==null?et.jsx(Xl,{type:"loading",children:typeof b=="function"?b():b}):ft===!1?et.jsx(Xl,{type:"error",children:typeof l=="function"?l():l}):Gn():et.jsx(Xl,{type:"no-data",children:typeof y=="function"?y():y})}return et.jsx("div",Object.assign({className:lm("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},Qt,{children:pa()}))});function bx(){return Z.useContext(mx)}function yx(){for(var m=[],e=0;e<arguments.length;e++)m[e]=arguments[e];var i=m.filter(Boolean);if(i.length<=1){var a=i[0];return a||null}return function(l){i.forEach(function(c){typeof c=="function"?c(l):c&&(c.current=l)})}}const Ax=Z.createContext(null),Sx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},MM=/^H(\d+)$/;function kM(m){return m in Sx}function cm(m){return"children"in m}function _x(m){return cm(m)?m.children.length===1&&0 in m.children&&"id"in m.children[0]:!1}function LM(m){const e={};if(cm(m)){const{role:i}=m,a=i.match(MM);if(a)e.role="heading",e["aria-level"]=Number(a[1]);else if(kM(i)){const r=Sx[i];r&&(e.role=r)}}return e}function Ex(m){const e={};if(cm(m)){if(m.alt!==void 0&&(e["aria-label"]=m.alt),m.lang!==void 0&&(e.lang=m.lang),_x(m)){const[i]=m.children;if(i){const a=Ex(i);return Object.assign(Object.assign({},e),a)}}}else"id"in m&&(e["aria-owns"]=m.id);return e}function DM(m){return m?Object.assign(Object.assign({},LM(m)),Ex(m)):null}function xx({className:m,node:e}){const i=Z.useMemo(()=>DM(e),[e]),a=Z.useMemo(()=>!cm(e)||_x(e)?null:e.children.map((r,l)=>et.jsx(xx,{node:r},l)),[e]);return et.jsx("span",Object.assign({className:m},i,{children:a}))}function hm(){return Z.useContext(Ax)}function OM(){const m=hm();ae(m);const{onGetStructTreeError:e,onGetStructTreeSuccess:i}=m,[a,r]=Vu(),{value:l,error:c}=a,{customTextRenderer:h,page:f}=m;function p(){l&&i&&i(l)}function v(){c&&(gi(!1,c.toString()),e&&e(c))}return Z.useEffect(function(){r({type:"RESET"})},[r,f]),Z.useEffect(function(){if(h||!f)return;const y=Dd(f.getStructTree()),_=y;return y.promise.then(T=>{r({type:"RESOLVE",value:T})}).catch(T=>{r({type:"REJECT",error:T})}),()=>Go(_)},[h,f,r]),Z.useEffect(()=>{if(l!==void 0){if(l===!1){v();return}p()}},[l]),l?et.jsx(xx,{className:"react-pdf__Page__structTree structTree",node:l}):null}const WS=cx;function NM(m){const e=hm();ae(e);const i=Object.assign(Object.assign({},e),m),{_className:a,canvasBackground:r,devicePixelRatio:l=AM(),onRenderError:c,onRenderSuccess:h,page:f,renderForms:p,renderTextLayer:v,rotate:b,scale:y}=i,{canvasRef:_}=m;ae(f);const T=Z.useRef(null);function R(){f&&h&&h(s0(f,y))}function k(z){_M(z)||(gi(!1,z.toString()),c&&c(z))}const C=Z.useMemo(()=>f.getViewport({scale:y*l,rotation:b}),[l,f,b,y]),D=Z.useMemo(()=>f.getViewport({scale:y,rotation:b}),[f,b,y]);Z.useEffect(function(){if(!f)return;f.cleanup();const{current:U}=T;if(!U)return;U.width=C.width,U.height=C.height,U.style.width=`${Math.floor(D.width)}px`,U.style.height=`${Math.floor(D.height)}px`,U.style.visibility="hidden";const G={annotationMode:p?WS.ENABLE_FORMS:WS.ENABLE,canvasContext:U.getContext("2d",{alpha:!1}),viewport:C};r&&(G.background=r);const X=f.render(G),Q=X;return X.promise.then(()=>{U.style.visibility="",R()}).catch(k),()=>Go(Q)},[r,f,p,C,D]);const N=Z.useCallback(()=>{const{current:z}=T;z&&(z.width=0,z.height=0)},[]);return Z.useEffect(()=>N,[N]),et.jsx("canvas",{className:`${a}__canvas`,dir:"ltr",ref:yx(_,T),style:{display:"block",userSelect:"none"},children:v?et.jsx(OM,{}):null})}function jM(m){return"str"in m}function zM(){const m=hm();ae(m);const{customTextRenderer:e,onGetTextError:i,onGetTextSuccess:a,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:c,pageIndex:h,pageNumber:f,rotate:p,scale:v}=m;ae(c);const[b,y]=Vu(),{value:_,error:T}=b,R=Z.useRef(null);gi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function k(){_&&a&&a(_)}function C(){T&&(gi(!1,T.toString()),i&&i(T))}Z.useEffect(function(){y({type:"RESET"})},[c,y]),Z.useEffect(function(){if(!c)return;const Q=Dd(c.getTextContent()),it=Q;return Q.promise.then(ot=>{y({type:"RESOLVE",value:ot})}).catch(ot=>{y({type:"REJECT",error:ot})}),()=>Go(it)},[c,y]),Z.useEffect(()=>{if(_!==void 0){if(_===!1){C();return}k()}},[_]);const D=Z.useCallback(()=>{l&&l()},[l]),N=Z.useCallback(X=>{gi(!1,X.toString()),r&&r(X)},[r]);function z(){const X=R.current;X&&X.classList.add("selecting")}function U(){const X=R.current;X&&X.classList.remove("selecting")}const G=Z.useMemo(()=>c.getViewport({scale:v,rotation:p}),[c,p,v]);return Z.useLayoutEffect(function(){if(!c||!_)return;const{current:Q}=R;if(!Q)return;Q.innerHTML="";const it=c.streamTextContent({includeMarkedContent:!0}),ot={container:Q,textContentSource:it,viewport:G},st=new hx(ot),mt=st;return st.render().then(()=>{const vt=document.createElement("div");vt.className="endOfContent",Q.append(vt);const ft=Q.querySelectorAll('[role="presentation"]');if(e){let ht=0;_.items.forEach((B,q)=>{if(!jM(B))return;const W=ft[ht];if(!W)return;const Et=e(Object.assign({pageIndex:h,pageNumber:f,itemIndex:q},B));W.innerHTML=Et,ht+=B.str&&B.hasEOL?2:1})}D()}).catch(N),()=>Go(mt)},[e,N,D,c,h,f,_,G]),et.jsx("div",{className:lm("react-pdf__Page__textContent","textLayer"),onMouseUp:U,onMouseDown:z,ref:R})}function PM(){const m=bx(),e=hm();ae(e);const i=Object.assign(Object.assign({},m),e),{imageResourcesPath:a,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:p,pdf:v,renderForms:b,rotate:y,scale:_=1}=i;ae(v),ae(p),ae(r);const[T,R]=Vu(),{value:k,error:C}=T,D=Z.useRef(null);gi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function N(){k&&c&&c(k)}function z(){C&&(gi(!1,C.toString()),l&&l(C))}Z.useEffect(function(){R({type:"RESET"})},[R,p]),Z.useEffect(function(){if(!p)return;const it=Dd(p.getAnnotations()),ot=it;return it.promise.then(st=>{R({type:"RESOLVE",value:st})}).catch(st=>{R({type:"REJECT",error:st})}),()=>{Go(ot)}},[R,p]),Z.useEffect(()=>{if(k!==void 0){if(k===!1){z();return}N()}},[k]);function U(){f&&f()}function G(Q){gi(!1,`${Q}`),h&&h(Q)}const X=Z.useMemo(()=>p.getViewport({scale:_,rotation:y}),[p,y,_]);return Z.useEffect(function(){if(!v||!p||!r||!k)return;const{current:it}=D;if(!it)return;const ot=X.clone({dontFlip:!0}),st={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:it,l10n:null,page:p,structTreeLayer:null,viewport:ot},mt={annotations:k,annotationStorage:v.annotationStorage,div:it,imageResourcesPath:a,linkService:r,page:p,renderForms:b,viewport:ot};it.innerHTML="";try{new ux(st).render(mt),U()}catch(vt){G(vt)}return()=>{}},[k,a,r,p,v,b,X]),et.jsx("div",{className:lm("react-pdf__Page__annotations","annotationLayer"),ref:D})}var BM=function(m,e){var i={};for(var a in m)Object.prototype.hasOwnProperty.call(m,a)&&e.indexOf(a)<0&&(i[a]=m[a]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(m);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(m,a[r])&&(i[a[r]]=m[a[r]]);return i};const JS=1;function UM(m){const e=bx(),i=Object.assign(Object.assign({},e),m),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:c,children:h,className:f,customRenderer:p,customTextRenderer:v,devicePixelRatio:b,error:y="Failed to load the page.",height:_,inputRef:T,loading:R="Loading page",noData:k="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:D,onGetStructTreeError:N,onGetStructTreeSuccess:z,onGetTextError:U,onGetTextSuccess:G,onLoadError:X,onLoadSuccess:Q,onRenderAnnotationLayerError:it,onRenderAnnotationLayerSuccess:ot,onRenderError:st,onRenderSuccess:mt,onRenderTextLayerError:vt,onRenderTextLayerSuccess:ft,pageIndex:ht,pageNumber:B,pdf:q,registerPage:W,renderAnnotationLayer:Et=!0,renderForms:L=!1,renderMode:Y="canvas",renderTextLayer:tt=!0,rotate:J,scale:lt=JS,unregisterPage:xt,width:ut}=i,Tt=BM(i,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Bt,xe]=Vu(),{value:Qt,error:Gn}=Bt,pa=Z.useRef(null);ae(q);const qt=zr(B)?B-1:ht??null,le=B??(zr(ht)?ht+1:null),He=J??(Qt?Qt.rotate:null),Te=Z.useMemo(()=>{if(!Qt)return null;let we=1;const Bi=lt??JS;if(ut||_){const Fe=Qt.getViewport({scale:1,rotation:He});ut?we=ut/Fe.width:_&&(we=_/Fe.height)}return Bi*we},[_,Qt,He,lt,ut]);Z.useEffect(function(){return()=>{zr(qt)&&r&&xt&&xt(qt)}},[r,q,qt,xt]);function We(){if(Q){if(!Qt||!Te)return;Q(s0(Qt,Te))}if(r&&W){if(!zr(qt)||!pa.current)return;W(qt,pa.current)}}function gr(){Gn&&(gi(!1,Gn.toString()),X&&X(Gn))}Z.useEffect(function(){xe({type:"RESET"})},[xe,q,qt]),Z.useEffect(function(){if(!q||!le)return;const Bi=Dd(q.getPage(le)),Fe=Bi;return Bi.promise.then(Xu=>{xe({type:"RESOLVE",value:Xu})}).catch(Xu=>{xe({type:"REJECT",error:Xu})}),()=>Go(Fe)},[xe,q,le]),Z.useEffect(()=>{if(Qt!==void 0){if(Qt===!1){gr();return}We()}},[Qt,Te]);const Od=Z.useMemo(()=>Qt&&zr(qt)&&le&&zr(He)&&zr(Te)?{_className:a,canvasBackground:l,customTextRenderer:v,devicePixelRatio:b,onGetAnnotationsError:C,onGetAnnotationsSuccess:D,onGetStructTreeError:N,onGetStructTreeSuccess:z,onGetTextError:U,onGetTextSuccess:G,onRenderAnnotationLayerError:it,onRenderAnnotationLayerSuccess:ot,onRenderError:st,onRenderSuccess:mt,onRenderTextLayerError:vt,onRenderTextLayerSuccess:ft,page:Qt,pageIndex:qt,pageNumber:le,renderForms:L,renderTextLayer:tt,rotate:He,scale:Te}:null,[a,l,v,b,C,D,N,z,U,G,it,ot,st,mt,vt,ft,Qt,qt,le,L,tt,He,Te]),Nd=Z.useMemo(()=>fx(Tt,()=>Qt&&(Te?s0(Qt,Te):void 0)),[Tt,Qt,Te]),ma=`${qt}@${Te}/${He}`;function dm(){switch(Y){case"custom":return ae(p),et.jsx(p,{},`${ma}_custom`);case"none":return null;case"canvas":default:return et.jsx(NM,{canvasRef:c},`${ma}_canvas`)}}function jd(){return tt?et.jsx(zM,{},`${ma}_text`):null}function fm(){return Et?et.jsx(PM,{},`${ma}_annotations`):null}function pm(){return et.jsxs(Ax.Provider,{value:Od,children:[dm(),jd(),fm(),h]})}function vr(){return le?q===null||Qt===void 0||Qt===null?et.jsx(Xl,{type:"loading",children:typeof R=="function"?R():R}):q===!1||Qt===!1?et.jsx(Xl,{type:"error",children:typeof y=="function"?y():y}):pm():et.jsx(Xl,{type:"no-data",children:typeof k=="function"?k():k})}return et.jsx("div",Object.assign({className:lm(a,f),"data-page-number":le,ref:yx(T,pa),style:{"--scale-factor":`${Te}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Nd,{children:vr()}))}SM();A0.workerSrc="pdf.worker.mjs";const HM=({src:m,index:e,onPlay:i})=>{const a=n_.useRef(null);return et.jsx("div",{className:"my-4",children:et.jsxs("audio",{id:`audio-${e}`,ref:a,controls:!0,className:"w-full",onPlay:()=>{i&&typeof e=="number"&&i(e)},children:[et.jsx("source",{src:m,type:"audio/mp3"}),"    ."]})})},FM=({number:m,text:e,audio:i,index:a,currentAudio:r,onPlay:l})=>{const[c,h]=Z.useState(!1);return et.jsxs("li",{className:"rounded-lg p-3 pl-0",children:[et.jsxs("p",{className:"text-base font-semibold mb-2",children:[" ",m]}),i&&et.jsx(HM,{src:i,index:a,onPlay:l}),e&&et.jsxs("div",{children:[et.jsx("button",{onClick:()=>h(!c),className:"text-xs text-gray-500 mb-1 hover:underline",children:c?" ":" "}),et.jsx("div",{className:`text-base leading-8 transition-all duration-500 whitespace-pre-line relative overflow-hidden p-2 pl-0 rounded  ${c?"":"before:absolute before:inset-0 before:opacity-100 before:backdrop-blur-xs"}`,onClick:()=>h(!0),children:e})]})]})},IM=[{page:12,items:[{number:"1",audio:"/ucimo_srpski/audio/002---1-LEKCIJE--Lekcija-1--Dobar-dan--Cetiri-razgovora-pozdravljanje.mp3"}]},{page:13,items:[{number:"2",audio:"/ucimo_srpski/audio/003---2-Slusajte-i-proverite.mp3"}]},{page:14,items:[{number:"3",audio:"/ucimo_srpski/audio/004---3-Slusajte-i-pisite-prirodan-odgovor.mp3"},{number:"4",audio:"/ucimo_srpski/audio/005---4-Proverite.mp3"},{number:"5",audio:"/ucimo_srpski/audio/006---5-Proverite.mp3"},{number:"6",audio:"/ucimo_srpski/audio/006---5-Proverite.mp3"}]},{page:15,items:[{number:"12",text:`1) Da li je ovo torba? - Ne, nije.
2) Da li je ovo novanik? - Ne, nije.
3) Da li je ovo kompjuter? - Da, jeste.
4) Da li je ovo moblini? - Ne, nije.
5) Da li je ovo stolica? - Ne, nije.
6) Da li je ovo torba? - Da, jeste.
7) Da li je ovo novanik? - Da, jeste.
8) Da li je ovo paso? - Da, jeste.`}]},{page:16,items:[{number:"7",audio:"/ucimo_srpski/audio/008---7-Sta-cujete.mp3"},{number:"15",text:`a) Vi ste Ana.
b) Mi smo student i profesor.
c) Ovo je knjiga.
) Ovo su knjiga i torba.
) Ja sam ena.
d) Ti si Petar.`}]},{page:17,items:[{number:"16",text:`A: Dobar dan.
B: Zdravo. Kako si?
A: Hvala, dobro sam. A Vi?
B: Nije loe. Da li je ovo Milica?
A: Ne, ovo niie Milica. Ovo je Dragana.
B: Hvala. Vidimo se.
A: Dovienja. Prijatno.`},{number:"17",text:`muki rod: mukarac, student, dan, novanik, kompjuter, klju, paso, profesor, mobilni telefon;
enski rod: ena, knjiga, stolica, torba;
srednji rod: vee, jutro.`},{number:"18",text:`formalno: Dovienja. Da li ste vi Boris? Dobro jutro. Kako ste? A Vi? Dobro vee.
neformalno: Kako si? ao. Vidimo se. Da li si ti Ana? Zdravo. A ti?`}]},{page:19,items:[{number:"8",audio:"/ucimo_srpski/audio/009---Lekcija-2-MOJA-ZEMLJA-8-Proverite.mp3"},{number:"4",text:`1) Milica i Milo su Srpkinja i Srbin. 2) ani i ja smo Italijan i Francuz. 3) Elizabet i Deniz su Amerikanka i Francuskinja.
4) Andrej i ti ste Rus i panac. 5) Rosa i Natalija su Italijanka i Ruskinja. 6) Anita i ja smo Maarica i Srpkinja. 7) Pavel
i Katja su Poljak i Poljakinja. 7) Erika i ja smo Maarica i pankinja. 8) Miklo i ti ste Maar i Kinez. 9) Jin i tefan su
Kineskinja i Nemac. 10) Sara i ia smo Nemica i Francuskinja.`},{number:"5",text:"1b); 2a); ); 4b); 5b); 6a); 7b); 8b)."}]},{page:20,items:[{number:"9",audio:"/ucimo_srpski/audio/010---9-Citajte-i-slusajte.mp3"}]},{page:21,items:[{number:"8",text:"2) Ti si Rus. 3) Vi ste Nemac i Italijanka. 4) Mi smo Kinez i Rus. 5) Ona je Francuskinja. 6) One su Italijanka i Nemica."},{number:"10",audio:"/ucimo_srpski/audio/011---10-Slusajte-i-ponovite.mp3"},{number:"11",audio:"/ucimo_srpski/audio/012---11-Slusajte-i-dopunite.mp3"},{number:"12",audio:"/ucimo_srpski/audio/013---12-Diktat.mp3"}]},{page:22,items:[{number:"13",audio:"/ucimo_srpski/audio/014---13-Slusajte-i-citajte-upoznavanje.mp3"},{number:"15",text:"1a); 2b); 3b); 4a); 5b)."}]},{page:24,items:[{number:"18",text:"1a); 2b); ); 4a); 5b); 6b); 7a); 8a); 9b); 1Ob)."},{number:"19",text:`1) Milica nije Francuskinja. 2) Oni nisu Pablo i ani. 3) Ja nisam stranac. 4) Moje ime nije Elizabet. 5) Ja se ne zovem
arli. 6) Ne, nismo. 7) Ti nisi moja drugarica. 8) Nismo loe. 9) Ne, niste. 10) Nisam dobro.`},{number:"20",text:"1) Ne, nije. 2) Da, jesmo. 3) Ne, nisam. 4) Da, jesam. 5) Da, jeste. 6) Ne, nisu."}]},{page:25,items:[{number:"14a",audio:"${import.meta.env.BASE_URL}audio/015   14a Slusajte i odgovorite prirodno..mp3"},{number:"14b",audio:"${import.meta.env.BASE_URL}audio/016   14b Slusajte i proverite.mp3"},{number:"21",text:`drugarica, drug; strankinja, stranac; Srpkinja, Srbin; studentkinja, student; Ruskinja, Rus; Amerikanka, Amerikanac;
Italijanka, Italijan; Kineskinja, Kinez.`},{number:"23",text:`slika 1: Izvolite. - Hvala. slika 2: Zdravo. - Dobar dan. slika 3: ao. Ja sam Milan. - Drago mi je. Ja sam Sara. slika
4. ao. - Vidimo se.`}]},{page:27,items:[{number:"15",audio:"${import.meta.env.BASE_URL}audio/017   15 Citajte i slusajte-razgovori.mp3"},{number:"5",text:"1b); 2a); ); 4b)."},{number:"16",audio:"${import.meta.env.BASE_URL}audio/018   16 Proverite.mp3"},{number:"8",text:`Ja nisam Nemac i ne govorim nemaki odlino. Ne govorim ni engleski jezik dobro. Ali, srpski jezik ne govorim loe. Sada
ne uim srpski zato to ne ivim i ne radim ovde. Ne razumem sve.`}]},{page:28,items:[{number:"9",text:`1) Uimo srpski jezik. 2) Ne razumem srpski dobro. 3) Nisam studentkinja. 4) Vi ivite ovde? 5) Boris je Nemac i radi ovde. 6)
ivi ovde zato to radi ovde. 7) Ue srpski zato to ive ovde. 8) Ti govori nemaki jezik? 9) Ne ivim ovde. 10) Zove se Jelena.`},{number:"10",text:"b);2a); ); 4a); 5c)."}]},{page:29,items:[{number:"17",audio:"${import.meta.env.BASE_URL}audio/019   17 Slusajte i upisite tacno ili netacno.mp3"},{number:"18",audio:"${import.meta.env.BASE_URL}audio/020   18 Sta cujete.mp3"},{number:"19",audio:"${import.meta.env.BASE_URL}audio/021   19 Marija i Viktor razgovaraju.mp3"}]},{page:31,items:[{number:"18",text:"1b); 2b); ; 4b); 5a; 6a); 7a)."}]},{page:32,items:[{number:"20",audio:"${import.meta.env.BASE_URL}audio/022   20 Srbija je i moja zemlja.mp3"},{number:"21",text:`Da li ste Vi Italijanka?; Kako se zove Va mu?; Da li je on Italijan?; Da li vi ivite ovde?; Da li Dario dobro govori srpski?;
A Vi?; Da li je Dario profesor?; Da li ste i Vi ekonomistkinja?; Da li radite u Srbiji?; Da li volite dez?`},{number:"22",text:`A: Zdravo. Ja se zovem Rosa. A ti? B: ao. Moje ime je tefan. Da li ui srpski jezik? A: Trenutno ne uim. Da li ti govori
srpski jezik dobro? B: Govorim loe, ali razumem dobro. Da li ivi ovde? A: Da, ja ivim ovde, ali ne radim ovde. A ti? B: I
ja ivim ovde. Ja sam student. Da li si ti studentkinja? A: Ne, nisam. Ja sam pevaica.`},{number:"23",text:"1 ,3 , 6, 2, 5, 4."}]},{page:33,items:[{number:"24",text:"1) moj; 2) govorim; 3) u Srbiji; 4) zato to; 5) volimo; 6) nije; 7) dobar;"},{number:"25",text:`1) govori, govore; 2) ivim, ive; 3) voli, vole; 4) ui, uite; 5) smo, ste; 6) razmem, raume; 7) radi, rade; 8) ivi, ivim,
radim; 9) si, nisam, sam; 10) ue, ive.`}]},{page:34,items:[{number:"21",audio:"${import.meta.env.BASE_URL}audio/023   Lekcija 4 MOJA PORODICA  21 Slusajte i dopunite.mp3"}]},{page:35,items:[{number:"22",audio:"${import.meta.env.BASE_URL}audio/024   22 Citajte i slusajte-prica 1.mp3"},{number:"5",text:"1T; 2N; ; 4T; 5N; 6N."},{number:"7",text:`1) Da li oni ive u Srbiji? 2) Da li Julija radi kao profesorica? 3) Da li su za vikend zauzeti? 4) Kako se Julija i njena
porodica vide svaki dan?; 5) ta im se svia u Srbiji?`}]},{page:36,items:[{number:"23",audio:"${import.meta.env.BASE_URL}audio/025   23 Citajte i slusajte-prica 2.mp3"},{number:"9",text:"1N; 2N; 3N; 4N; 5T; 6T."},{number:"11",text:`1) Da li Ernst i Lena ive u Srbiji? 2) Da li njegova porodica ivi u Srbiji? 3) Da li je njihov posao teak? 4) Da li su esto
zauzeti? 5) ta rade kada su slobodni? 6) ta im se svia u Srbiji?`}]},{page:37,items:[{number:"12",text:`Nieno ime je Julija. Nien mu i niihova deca ive u S rbiji. Niena porodica ivi daleko i oni se vide retko. Nien mu je Srbin
i niegova porodca ivi u Srbiji. Oni su niihovi gosti esto.`},{number:"13",text:`Nieeovo ime je Ernst. On je Austrijanac, a nieeova ena je Srpkinja. ive u Srbiji, zato to i Ernst i Lena rade ovde.
Niihove porodice nisu u Srbiji. Nieeova porodica ivi u Austriji, a nieni roditelji, sestra i brat ive u Bosni.`},{number:"14",text:"1a); 2b); ); 4b); 5a); )."}]},{page:38,items:[{number:"16",text:"1) Retko smo slobodni. 2)Retko sam zauzeta. 3) Volim ivot ovde. 4) Ne vidimo se retko."},{number:"17",text:"1) kuvamo, radimo; 2) ivi, radi; 3) koristi; 4) se vide; 5) slua; 6) se zove; 7) gledam, itam; 8) se etaju; 9) ruate; 10) voli."},{number:"18",text:`1) itati novine; 2) korisitit internet; 3) sluati radio; 4) spavati dugo; 5) uiti srpski jezik; 6) gledati TV; 7) trenirati
pilates; 8) kuvati ruak.`},{number:"24",audio:"${import.meta.env.BASE_URL}audio/026   24 Slusajte i proverite-Zovem se Metju.mp3"}]},{page:39,items:[{number:"22",text:`1) ne voli da spava; 2) ne vole da itaju; 3) volite da se etate; 4) ne voli da gleda; 5) ne volim da kuvam; 6) voli da se
drui; 7) voli da radi?; 8) ne vole da ruaju; 9) ne vole da se vide; 10) volimo da sluamo.`}]},{page:40,items:[{number:"25",audio:"${import.meta.env.BASE_URL}audio/027   25 Slusajte i odgovorite prirodno-I ja-Ja ne.mp3"},{number:"24",text:`Ja sam Ruskinja, a moj mu je Srbin. Naa erka i na sin govore srpski i ruski odlino. Moj mu i moja deca ive u Srbiji.
 roditeljj ne ive ovde. Ali, njegovi roditelji su nai gosti ponekad. Moj mu i ja smo zauzetj svaki dan, ali naa deca
nisu zauzeta.`},{number:"25",text:"1) slobodan, zauzet; 2) velik, mali; 3) mnogo, malo; 4) esto, retko; 5) daleko, blizu; 6) lak, teak; 7) uvee, ujutro."},{number:"27",text:"1a); 2a); 3b); 4b); 5a); ); 7a); 8a)."}]},{page:41,items:[{number:"28",text:"1 a/b; 2a; ; 4b; 5a; 6c; 7a/c."},{number:"29",text:"1) a; 2) ali; 3) ili; 4) i; 5) ali; ) ili; 7) a; 8) i."}]},{page:42,items:[{number:"26",audio:"${import.meta.env.BASE_URL}audio/028   Lekcija 5 MOJ SVET  26 Beograd.mp3"}]},{page:43,items:[{number:"3",text:"1N; 2T; 3N; 4N; 5T; 6T; 7N; 8T."},{number:"4",text:`1) Saobraaj  haotian. 2) Parkovi su veliki. 3) Trgovi su stari. 4) Restorani su odlini. 5) Bulevari su iroki. 6) Muzeji
su zanimljivi. 7) ivot je brz. 8) Ulice su duge. 9) Reke su velike. 10) Hrana je dobra. 11) Guva je velika. 12) Ljudi su
otvoreni. 13) Zgrade su visoke.`}]},{page:44,items:[{number:"27",audio:"${import.meta.env.BASE_URL}audio/029   27 Tri razgovora.mp3"}]},{page:45,items:[{number:"8",text:`1) Uvek je mir i tiina.  
2) Saobraaj nikad nije haotian.  
3) ivot u Beogradu je lep.  
4) Malo mesto je dobro za ivot.  
5) Velik grad je opasan.  
6) Park je zdravo mesto.  
7) Ovde restorani nisu odlini.  
8) Ponekad je guva.  
9) Bulevari su iroki.  
10) Ulice su lepe i duge.  
11) Galerije su uvek interesantne.  
12) Reke su duge i iroke.  
13) Malo mesto nikad nije opasno za ivot.  
14) Selo je sigurno za ivot.`},{number:"28",audio:"${import.meta.env.BASE_URL}audio/030   28 Citajte i ponovite.mp3"}]},{page:47,items:[{number:"29",audio:"${import.meta.env.BASE_URL}audio/031   29 Orijentacija.mp3"}]},{page:49,items:[{number:"16",text:"1) Nikolina; 2) Markov; 3) Miloeva; 4) Jelenina; 5) Jovanovi; 6) Miliini; 7) Sarin; 8) Siniine; 9) oreva; 10) Aleksandrova."},{number:"17",text:"1) Beogradska; 2) srpski; 3) praka; 4) nika; 5) Nemaki; ) Dunavska; 7) Subotiko; 8) Ameriki."},{number:"18",text:"1) restoran; 2) park; 3) bioskop; 4) knjiara; 5) pozorite; 6) trg; 7) biblioteka; 8) banka, 9) sportski centar; 10) pijaca."},{number:"19",text:"pozitivne: zdrav, interesantan, lep, mir, tiina, divan; negativne: opasan, dosadan, guva, haotian."}]},{page:50,items:[{number:"30",audio:"${import.meta.env.BASE_URL}audio/032   Lekcija 6 STA RADIS  30 Razgovor-Jesi li slobodna.mp3"},{number:"3",text:"2) za etnju; 4) za aj; 6) za putovanje."},{number:"31",audio:"${import.meta.env.BASE_URL}audio/033   31 Slusajte razgovore i odgovorite.mp3"}]},{page:51,items:[{number:"7",text:`1) Mislim da je opasno biti ronilac zato to mora da ide duboko u vodu.  
2) Mislim da je naporno biti policajac zato to mora da radi nou.  
3) Mislim da je stresno biti lekar zato to mora da lei bolesne ljude.  
4) Mislim da je dosadno biti domaica zato to mora da bude kod kue.  
5) Mislim da nije dosadno biti menader zato to mora da ima uvek nove ideje.  
6) Mislim da je naporno biti domaica zato to mora da sprema kuu i decu.`}]},{page:52,items:[{number:"32",audio:"${import.meta.env.BASE_URL}audio/034   32 Zanimanja-cetiri price.mp3"}]},{page:53,items:[{number:"13",text:"Marija Petrovi je menaderka. Ona ima dobar posao. Mora da koristi kompjuter esto. Nema uniformu, ali treba da nosi elegantno odelo. Radi mnogo, ali za vikend je slobodna. Marija ima divnu porodicu. Nema vremena da sprema sina i erku za kolu. To radi njen mu. Kada imaju vremena, svi zajedno gledaju film ili igraju karte. Marija voli da ita knjigu uvee, kada deca spavaju."}]},{page:54,items:[{number:"33",audio:"${import.meta.env.BASE_URL}audio/035   33 Kuba.mp3"},{number:"34",audio:"${import.meta.env.BASE_URL}audio/036   34 Libija.mp3"},{number:"35",audio:"${import.meta.env.BASE_URL}audio/037   35 Srbija.mp3"}]},{page:55,items:[{number:"17",text:"1E; 2S; 3K; 4K; 5K; 6E; 7K; 8K; 9S."}]},{page:56,items:[{number:"19",text:"1N; 2N; 3T; 4T; 5T; 6T; 7N."}]},{page:58,items:[{number:"21",text:"1) teko; 2) dosadno; 3) opasno; 4) stresno; 5) naporan; 6) lako; 7) interesantan; 8) lepo."},{number:"36",audio:"${import.meta.env.BASE_URL}audio/038   36 Slusajte i dopunite.mp3"},{number:"37",audio:"${import.meta.env.BASE_URL}audio/039   37 Kod direktora.mp3"}]},{page:59,items:[{number:"38",audio:"${import.meta.env.BASE_URL}audio/040   38 Slusajte razgovor.mp3"},{number:"24",text:`1) ta rade Marko i Ana?  
2) ta radi Ana?  
3) ta radi Marko danas?  
4) ta oni ele da rade?  
5) Kada oni ele da idu na kafu?`},{number:"27",text:`1) Naalost, nemam vremena.  
2) Na sreu, ne moram.  
3) Ja sam policajac.  
4) Ba super ideja.  
5) Uvek moe bolje.  
6) Jo ne.`},{number:"39",audio:"${import.meta.env.BASE_URL}audio/041   39 Ana i Marko.mp3"}]},{page:61,items:[{number:"40",audio:"${import.meta.env.BASE_URL}audio/042   Lekcija 7 SRECAN PUT  40 Sta ovi ljudi rade prvo, drugo i trece.mp3"}]},{page:62,items:[{number:"7",text:"1) da li; 2) ta; 3) kako; 4) koliko; 5) da."}]},{page:63,items:[{number:"9",text:"11) za nju; 2) za nas; 3) za njih; 4) za nas; 5) za vas."}]},{page:64,items:[{number:"10",text:"1) u; 2) na; 3) na, u; 4) u, u; 5) u; ) na; 7) na; 8) na, u; 9) u; 10) u, na."}]},{page:66,items:[{number:"41",audio:"${import.meta.env.BASE_URL}audio/043   41 Sta kaze Branislav.mp3"},{number:"42",audio:"${import.meta.env.BASE_URL}audio/044   42 Slusajte i dopunite.mp3"}]},{page:68,items:[{number:"43",audio:"${import.meta.env.BASE_URL}audio/045   43 Po cemu je poznata Srbija.mp3"},{number:"20",text:`1) veeri; 
        2) Engleskoj; 
        3) ulici; 
        4) Tajlandu; 
        5) moru; 
        6) skupim satovima; 
        7) modernim zgradama; 
        8) njegovim
fotografijama 
9) muzikim festivalima; 
10) poznatim mestima.`}]},{page:69,items:[{number:"44",audio:"${import.meta.env.BASE_URL}audio/046   44 Pismo iz Norveske.mp3"}]},{page:70,items:[{number:"45",audio:"${import.meta.env.BASE_URL}audio/047   45 Kuda na odmor.mp3"}]},{page:72,items:[{number:"1",text:"a)3; b)1; c) 6; )7; )2; d)4; d)5."}]},{page:73,items:[{number:"46",audio:"${import.meta.env.BASE_URL}audio/048   Lekcija 8 STIL ZIVOTA  46 Komentarisite prirodno-Tako je i kod nas-Kod nas nije tako.mp3"}]},{page:75,items:[{number:"7",text:`kuni red; 
        porodini trenutak;
         nedeljni ruak;
          radni dan;
           popodnevni odmor.`},{number:"8",text:"1b); 2a); 3b); 4a): 5b); 6b)."},{number:"9",text:"1) pre supe; 2) Bez slatkia; 3) Posle glavnog jela; 4) bez dobrog pia; 5) od jabuka; 6) od sira."}]},{page:76,items:[{number:"47",audio:"${import.meta.env.BASE_URL}audio/049   47 Kakva je kafa.mp3"}]},{page:78,items:[{number:"48",audio:"${import.meta.env.BASE_URL}audio/050   48 U koliko sati.mp3"},{number:"49",audio:"${import.meta.env.BASE_URL}audio/051   49 Rezervacija mesta u restoranu.mp3"}]},{page:79,items:[{number:"50",audio:"${import.meta.env.BASE_URL}audio/052   50 Narucivanje u restoranu.mp3"}]},{page:80,items:[{number:"50",text:`Za roendan. - Srean roendan. 
        Za slavu. -> Srena slava. 
        Za Novu godinu. -> Srena Nova godina. 
        Za Boi. - Srean Boi. 
        Za Uskrs. - Srean Uskrs. 
        Pre puta. -Srean put. 
        Pre vanog posla. - Sreno. 
        Pre jela. - Prijatno.
        Pre pia. - iveli. 
        Posle venanja. - estitamo.`}]},{page:81,items:[{number:"51",audio:"${import.meta.env.BASE_URL}audio/053   51 Nasa slava.mp3"},{number:"24",text:"1T; 2N; 3N; 4T; 5N; 6N; 7T."}]},{page:82,items:[{number:"25",text:`1) Slavi se trideset prvog decembra. 2) Slavi se sedmog januara. 3) Slavi se dvadeset sedmog janura. 4) Slavi se prvog
aprila. 5) Slavi se prvog maja. 6) Slavi se osmog marta.`},{number:"26",text:") kod; 2) od, do; 3) po; 4) na, u; 5) zbog; 6) na; 7) bez; 8) u; 9) za; 10) od; 11) u; 12) U; 1 3) pre; 14) posle."},{number:"27",text:`Ernst i Lena svake godine idu na slavu u Bosnu. Lenini roditelji slave Svetog ora. Ova slava je u maiu tanije estog
maja. Slava Sveti ore nije posna slava, ali se na slavskoi trpezi moe nai riba. Lenina majka sprema posni kola i
ito. Njen tata ide u crkvu pre ruka. Sve je spremno za goste, koji dolaze u dva sata.
Ove godine Lena i Ernst ne mogu da dou jedan dan ranije, zbog Ernstovog posla. Dolaze  dan slave. Pre puta moraju
da kupe poklone - cvee za domaicu i vino za domaina. Treba da kupe i slatkie zato to dolazi i mnogo dece.`}]},{page:83,items:[{number:"28",text:"1) svoju; 2) svoj; 3) svoju, svog; 4) svoje; 5) svoje; 6) svoju; 7) svoj; 8) svoje; 9) svoje; 10) svoje, svoje."},{number:"52",audio:"${import.meta.env.BASE_URL}audio/054   52 Razgovor o slavi.mp3"}]},{page:85,items:[{number:"5",text:"A: 1) nama; 2) njoj; 3) njemu; 4) meni; 5) njima; B: 1) ih; 2) ga; 3) je; 4) nas; 5) vas."}]},{page:86,items:[{number:"6",text:`velik, vei, najvei; dobar, bolji, najbolji; miran, mirniji, najmirniji; mali, manji, najmanji; vaan, vaniji, najvaniji, lo, gori,
najgori; lep, lepi, najlepi.`},{number:"7",text:"lb ); 2a); ); 4b); 5c)."},{number:"8",text:"1) raskoan; 2) bogat; 3) uspean; 4) nepoznat; 5) nesrean; 6) nekvalitetan."},{number:"9",text:`1) skromna, raskona; 2) siromana, bogata; 3) neuspena, uspena; 4) poznata, nepoznata; 5) nesrean; 6) kvalitetna,
nekvalitetna.`}]},{page:87,items:[{number:"10",text:`mnogo, vie, najvie; malo, manje, najmanje; dobro, bolje, najbolje; loe, gore, najgore; lepo, lepe, najlepe; mirno,
mirnije, najmirnije; skromno, skromnije, najskromnije; uspeno, uspenije, najuspenije; sreno, srenije, najsrenije;
zdravo, zdravije, najzdravije; vano, vanije, najvanije; kvalitetno, kvalitetnije, najkvalitetnije.`},{number:"11",text:`1) najvanije; 2) Bolje; 3) najgore; 4) Najlepe; 5) lake; 6) najzdravije; 7) srenije; 8) najmanje; 9) najvie; 10)
najkvalitetnije.`}]},{page:88,items:[{number:"14",text:`zaraditi + novac, bogatstvo; promeniti + novac, stil ivota, avion, bicikl, (kuu za siromane); dati + novavac,
bogatstvo, avion, kuu za siromane, bicikl; snimiti + film; voziti + avion, bicikl; otvoriti + kuu za siromane; kupiti +
avion, kuu za siromane, bicikl`}]},{page:89,items:[{number:"16",text:`Poznato je da su uspeni filmski reditelji i glumci bogati. Ni Tom adijak, holivudski reditelj, nije bio drugaiji. Radio je
veoma uspeno  filmu i postao bogat i poznat. On do sada nije iveo skromno ali je sada uradio neto neobino -
promenio je stil ivota. Tom ne ivi vie raskono. ve deli svoje bogatstvo drugima. ivi neobino i srean je.`}]},{page:90,items:[{number:"53",audio:"${import.meta.env.BASE_URL}audio/055   Lekcija 9 UPOMOC  53 Prva prica-Intervju za posao.mp3"}]},{page:91,items:[{number:"54",audio:"${import.meta.env.BASE_URL}audio/056   54 Druga prica-Putovanje.mp3"},{number:"55",audio:"${import.meta.env.BASE_URL}audio/057   55 Komentarisite prirodno.Tako je-Nije tako.mp3"}]},{page:92,items:[{number:"26",text:`A: 1) ekajmo. 2) Pazite kada putujete. 3) Sluaj mamu. 4) Zaboravite sve. 5) Pourimo. 6) Doi u pet.
B: 1) Nemoj gledati ovaj film. 2) Nemojte kasniti. 3) Nemojmo paniiti. 4) Nemojte ekati dugo. 5) Nemojte doi sad.
6) Nemoj doi kasno. 7) Nemojmo zaboraviti`}]},{page:93,items:[{number:"27",text:"1; 2c; 3; 4; 5a; 6d; 7f; 8d; 9) b; 10) f."},{number:"28",text:"1) zatvoriti; 2) zapamtiti; 3) otkljuati; 4) izlaziti; 5) upaliti; 6) krasti."}]},{page:95,items:[{number:"56",audio:"${import.meta.env.BASE_URL}audio/058   56 Sta cujete.mp3"},{number:"31",text:"1) otvorim; 2) zakljuajte; 3) zatvoriti; 4) otvorim; 5) ukljuim."},{number:"35",text:"1) nikog; 2) neko; 3) neto; 4) nita; 5) nekog; 6) nikog; 7) nita; 8) nekog; 9) nita, neto; 10) Neko."}]},{page:96,items:[{number:"57",audio:"${import.meta.env.BASE_URL}audio/059   57 Lopov u penziji daje savete.mp3"},{number:"37",text:"1T; 2T; 3N; 4T; 5N; 6T; 7N; 8."}]},{page:97,items:[{number:"58",audio:"${import.meta.env.BASE_URL}audio/060   58 Razgovor-Lose vesti.mp3"}]},{page:98,items:[{number:"2",text:") 0 ; b) -1 5 ; ) 25 ; ) 40 ; ) 1 5 ; d) 5 "},{number:"3",text:"1) Pada kia i sija sunce. 2) Pada kia i pada sneg. 3) Sunce sija, kia pada. 4) Duva vetar, sunce sija. Duva vetar i pada sneg."}]},{page:99,items:[{number:"8",text:"1 a/b; 2b/c; /; 4a/b; 5b/c; 6a/c."}]},{page:100,items:[{number:"59",audio:"${import.meta.env.BASE_URL}audio/061   Lekcija 10 KAKO JE KOD VAS  59 Boris.mp3"},{number:"60",audio:"${import.meta.env.BASE_URL}audio/062   60 Ana.mp3"},{number:"61",audio:"${import.meta.env.BASE_URL}audio/063   61 Jovana i Marko.mp3"},{number:"10",text:"1)J/M; 2) A; 3 )B; 4)A; 5) J/M; 6)B; 7)A; 8)J/M; 9)A"}]},{page:102,items:[{number:"62",audio:"${import.meta.env.BASE_URL}audio/064   62 Omiljeno godisnje doba.mp3"},{number:"16",text:"1) toplija; 2) krai; 3) kiovitiji; 4) hladniji, 5) lepe; 6) dui."}]},{page:103,items:[{number:"63",audio:"${import.meta.env.BASE_URL}audio/065   63 Nevreme.mp3"},{number:"18",text:"1 T ; 2 N ; 3 N ; 4 N ; 5 T ; 6 T ; 7 N ; 8 N ."}]},{page:104,items:[{number:"19",text:`dobro, bolje, najbolje; loe, gore, najgore; toplo, toplije, najtoplije; hladno, hladnije, najhladnije; opasno, opasnije,
najopasnije; sigurno, sigurnije, najsigurnije.`},{number:"64",audio:"${import.meta.env.BASE_URL}audio/066   64 Kakvo ce vreme biti u Srbiji.mp3"},{number:"65",audio:"${import.meta.env.BASE_URL}audio/067   65 Vremenska prognoza.mp3"}]},{page:107,items:[{number:"26",text:`1) Ostae kod kue. 2) Jeemo laku hranu. 3) Pomoi e mu. 4) Nee biti  poslu sutra. 5) Dae mu lekove sutra. 6)
Javiu ti. 7) Neete proi dugo. 8) Mirovaete dve nedelje.`},{number:"27",text:"1 a/c; 2a/b; /b; 4a; 5c; 6a/b; 7b/c; 8a; 9a."}]},{page:108,items:[{number:"29",text:"1) Boli je desna ruka. 2) Ne boli me vie glava. 3) Boli je glava jako. 4) Boli ga zub jako. 5) Boli ih stomak."},{number:"30",text:"1) je; 2) me, mi; 3) vam; 4) ga; 5) me; 6) ti; 7) im; 8) nas."}]},{page:109,items:[{number:"66",audio:"${import.meta.env.BASE_URL}audio/068   66 Pet razgovora.mp3"}]},{page:110,items:[{number:"1",text:"visoka, niska, stara, mlada, iroka, uska, tamna, svetla, velika, mala, mrava, debela, duga, kratka, krupna, sitna, bela, crna."}]},{page:113,items:[{number:"9",text:`1) Zene nose haljine. 2) ene ne nose naoare. 3) ene nemaju eire. 4) Mukarci ne nose kape. 5) Mukarci nose
pantalone. 6) Mukarci dre cvee i cigaru.`},{number:"10",text:"a)N; b)T; v)T; g) N; d) T; ) T; e) T; ) N; z) N."}]},{page:114,items:[{number:"67",audio:"${import.meta.env.BASE_URL}audio/069   Lekcija 11 ODELO (NE) CINI COVEKA  67 Moda nekada.mp3"}]},{page:115,items:[{number:"68",audio:"${import.meta.env.BASE_URL}audio/070   68 Moda sada.mp3"}]},{page:116,items:[{number:"69",audio:"${import.meta.env.BASE_URL}audio/071   69 Kako izgledaju ovi ljudi.mp3"},{number:"70",audio:"${import.meta.env.BASE_URL}audio/072   70 Koji opis ide uz koju sliku.mp3"}]},{page:117,items:[{number:"71",audio:"${import.meta.env.BASE_URL}audio/073   71 Razgovor-Na snizenju.mp3"}]},{page:118,items:[{number:"23",text:`3) ena sa eirom. 4) Mukarac sa naoarima; 5) Mukarac u belim patikama. 6) Ljudi sa kiobranima. 7) Mukarac sa
alom i kapom. 8) Ljudi u dugakim kaputima. 9) ena u belim pantalonama. 10) ena sa podignutom kosom.`},{number:"24",text:"nizak, visok, debeo, mrav, star, mlad, irok, uzak, kratak, dug, taman, svetao, velik, mali."}]},{page:119,items:[{number:"25",text:"1) nii; 2) krau; 3) vei; 4) mravija; 5) starija; 6) tamniju; 7) krupnije; 8) ire."},{number:"72",audio:"${import.meta.env.BASE_URL}audio/074   72 Odgovorite prirodno.mp3"},{number:"73",audio:"${import.meta.env.BASE_URL}audio/075   73 Kako mi stoji.mp3"}]},{page:121,items:[{number:"74",audio:"${import.meta.env.BASE_URL}audio/076   Lekcija 12 HOTEL S PET ZVEZDICA  74 Slusajte opise osoba.mp3"}]},{page:122,items:[{number:"75",audio:"${import.meta.env.BASE_URL}audio/077   75 Tradicionalna srpska kuca.mp3"},{number:"7",text:"1N; 2T; 3N; 4T; 5T; 6N; 7T; 8; 9N; 10."}]},{page:123,items:[{number:"8",text:"1) na, u; 2) do; 3) na, iza; 4) od; 5) na; 6) na, od; 7) od, od."},{number:"76",audio:"${import.meta.env.BASE_URL}audio/078   76 Exit festival.mp3"}]},{page:124,items:[{number:"13",text:"Izvolite.; Koliko biste ostali?; Koliko kota noenje?; Ne, ne, u redu je.; Imate li internet?; I jo neto.; Da, doplauje se."}]},{page:125,items:[{number:"15",text:`vedski sto; pun pansion; soba sa pogledom; kontinentalni doruak; cena po osobi; beini internet; kablovska televizija;
parking mesto.`}]},{page:126,items:[{number:"18",text:"1N; 2N; 3T; 4T; 5T; 6N; 7N; 8N."}]},{page:128,items:[{number:"23",text:"1a) ; 2b); ); 4b); 5a)."}]},{page:129,items:[{number:"24",text:`1) se selila, se preselila; 2) promenim, menjao/-la; 3) su sagradili, gradim; 4) nudi, su ponudili; 5) platim, plaa; 6) biram,
izabrao/-la bih; 7) ste proveli, provodimo; 8) sednete, sedim.`},{number:"25",text:"1) tebe, mene; 2) nas; 3) njega; 4) nje; 5) njih; 6) vas."},{number:"26",text:"1) kojem/kom; 2) kojom; 3) koju; 4) kojeg/kog; 5) kojima; ) kojoj; 7) koje; 8) koje; 9) koji; 10) kojoj."}]},{page:130,items:[{number:"1",text:"jutro, Dobro jutro. / dan, Dobar dan. / vee, Dobro vee; Laku no."},{number:"2",text:"1) sam; 2) ste; 3) si; 4) su; 5) je; 6) smo; 7) je; 8) su."},{number:"3",text:"1) nije; 2) nije; 3) nisam; 4) nisu; 5) nisu; 6) niste; 7) nismo; 8) nisi."},{number:"4",text:`1) Da li ste vi Milo i Sara? 2)Da li je ona Milica? 3) Da li su one Milica i Sara? 4) Da li je on Milo? 5) Da li si ti Boris? 6)
Da li su oni Milo i Boris? 7) Da li si ti Ana? 8) Da li ste vi Sara i Ana?`}]},{page:131,items:[{number:"1",audio:"${import.meta.env.BASE_URL}audio/079   VEZBANKA  Lekcija 1 DOBAR DAN  1 Slusajte i odgovorite prirodno.mp3"},{number:"6",text:"B: novanik; C: stolica; : mobilni telefon; : klju; D: knjiga; D: torba; : kompjuter; E: paso."},{number:"7",text:`1) ta je ovo? Ovo su klju i novanik. 2) ta je ovo? Ovo je mobilni telefon. 3) ta je ovo? Ovo je kompjuter. 4) ta je
ovo? Ovo su novac i paso. 5) ta je ovo? Ovo je torba. 6) ta je ovo? Ovo su novanik i novac.`}]},{page:132,items:[{number:"8",text:`1) Ovo nije torba. 2) Ja sam Marija. 3) Oni su Milo i Marija. 4) Da li ste Vi profesor? 5) Mi smo dobro. 6) Ovo su knjiga i
kompjuter. 7) Kako ste vi? 8) Ona je odlino.`},{number:"2",audio:"${import.meta.env.BASE_URL}audio/080   2 Proverite.mp3"}]},{page:133,items:[{number:"3",audio:"${import.meta.env.BASE_URL}audio/081   Lekcija 2 DOBRODOSLI  3 Slusajte i proverite.mp3"},{number:"4",audio:"${import.meta.env.BASE_URL}audio/082   4 Patrik i Marko razgovaraju.mp3"},{number:"5",text:"1 T; 2 T; 3 N; 4 T; 5 N; 6 T."},{number:"5",audio:"${import.meta.env.BASE_URL}audio/083   5 Diktat.mp3"}]},{page:134,items:[{number:"8",text:"1) Da li ste Vi Aleks? - Jesam. 2) Da li ste Vi strankinja? - Jesam. 3) Da li ste vi Nemica? - Nisam."},{number:"9",text:"1) Da li si ti Miel? - Nisam. 2) Da li si ti stranac? - Jesam. 3) Da li si ti Englez? - Nisam."},{number:"10",text:`1) Nemica; 2) Francuz, Italijan; 3) Francuskinja; 4) Ruskinja; 5) Amerikanka; 6) Engleskinja; 7) Srpkinja; 8) Srbin;
9) Maarica; 10) Japanka; 11) Kinez; 12) pankinja,`},{number:"11",text:"a) smo, je, je, sam; b) je, nije, je, je; c) je, sam, je, nije, je."}]},{page:135,items:[{number:"1",text:`raditi: radim, radi, radi, radimo, radite, rade;
         iveti: ivim ivi, ivi, ivimo, ivite, ive;
          uiti: uim, ui, ui, uimo, uite, ue;
          voleti: volim, voli, voli, volimo, volite, vole.`},{number:"2",text:`1) Kako se zove? 2) Da li razume srpski? 3) Loe sam. 4) Dobro smo. 5) Razume srpski. 6) Da li govorite engleski?
7) Nisam Srbin. 8) Ne govori francuski. 9) Da li ivite ovde? 10) ta radi?`},{number:"3",text:"muko: lekar, diplomata, inenjer; ensko: novinarka, studentkinja, kuvarica, pevaica, profesorica, ekonomistkinja."}]},{page:136,items:[{number:"6",audio:"${import.meta.env.BASE_URL}audio/084   Lekcija 3 RAZUMES LI  6 Slusajte i odgovorite prirodno.mp3"},{number:"5",text:`1) ja se zovem Ana. 2) Da li ti govori nemaki? 3) Razumete li? 4) Ja uim srpski zato to radim ovde. 5) On je moj student.
6) Da li je ona novinarka? 7) Kuvarica sam. 8) Nisam novinar. 9) Zovem se Milo. 10) Ja ne govorim srpski dobro.`},{number:"7",text:`1) Vi radite kao inenjeri. 2) One rade kao lekarke. 3) Mi smo policajci. 4) Oni su ekonomisti. 5) Mi smo profesorice.
6) One rade kao diplomatkinje. 7) Vi ste kuvarice. 8) Oni rade kao novinari.`}]},{page:137,items:[{number:"7",audio:"${import.meta.env.BASE_URL}audio/085   7 Slusajte i proverite.mp3"},{number:"8",audio:"${import.meta.env.BASE_URL}audio/086   8 Ko ovo kaze, Ana ili Luka.mp3"},{number:"10",text:"1)A; 2)L; 3)L; 4)L, 5)A; 6)L; 7)A."},{number:"12",text:"1) radimo; 2) govori; 3) vole; 4) ive, rade; 5) razumem; ) uite; 7) radi; 8) ive; 9) govorim; 10) razumete."}]},{page:138,items:[{number:"1",text:`gledati: gledam, gleda, gleda, gledamo, gledate, gledaju;
         itati: itam, ita, ita, itamo, itate, itaju; 
         sluati: sluam, slua, slua, sluamo, sluate, sluaju; 
         etati se: ja se etam, ti se eta, on se eta, mi se etamo, vi se etate, on se etaju.`},{number:"2",text:`Nieno ime je Karen. Niena porodica ivi u Srbiji zato to nien tata radi ovde. Niena mama ne radi, a nien brat studira.
Nieni prijatelji ive ovde.`},{number:"3",text:"1) njegova; 2) njegova; 3) njegov; 4) njegovi."},{number:"9",audio:"${import.meta.env.BASE_URL}audio/087   Lekcija 4 MOJA PORODICA  9 Moja porodica.mp3"}]},{page:139,items:[{number:"5",text:`sluati radio; gledati TV/film; trenirati karate/pilates; uiti srpski jezik; itati novine; ruati u restoranu/kod kue; kuvati
ruak.`},{number:"6",text:"1) ita; 2) kuvaju; 3) studiramo; 4) sluate; 5) ne spava; 6) se etaju; 7) igra; 8) gleda; 9) gledamo; 10) itam."},{number:"7",text:`1) voli da se eta; 2) vole da ive; 3) vole da gledaju; 4) ne volimo da spavamo; 5) voli da kuva; 6) vole da ue; 7) volite
da trenirate; 8) voli da rua; 9) ne volim da koristim; 10) vole da sluaju.`},{number:"10",audio:"${import.meta.env.BASE_URL}audio/088   10 Boris prica.mp3"}]},{page:140,items:[{number:"10",text:"1) zauzet; 2) daleko; 3) mala, velika; 4) teak; 5) slobodni; 6) ujutro; 7) lak; 8) uvee."},{number:"11",text:"1) kod kue; 2) zajedno; 3) Tada; 4) daleko; 5) ovde; 6) u restoranu; 7) dugo."},{number:"12",text:"1) ili; 2) a; 3) I; 4) a; 5) i; 6) ili; 7) a; 8) ali; 9) I; 10) a."}]},{page:141,items:[{number:"13",text:"1) a/b; 2) c; 3) a; 4) b; 5) a; 6) b; 7) a/c; 8) a."}]},{page:142,items:[{number:"11",audio:"${import.meta.env.BASE_URL}audio/089   Lekcija 5 MOJ GRAD  11 Proverite. a.Novi Sad-b.Nis.mp3"}]},{page:144,items:[{number:"12",audio:"${import.meta.env.BASE_URL}audio/090   12 Razgovori.mp3"}]},{page:145,items:[{number:"13",audio:"${import.meta.env.BASE_URL}audio/091   13 Price 1, 2 i 3.mp3"}]},{page:148,items:[{number:"14",audio:"${import.meta.env.BASE_URL}audio/092   Lekcija 6 STA RADIS  14 Sta je tacno za Vas.mp3"}]},{page:153,items:[{number:"15",audio:"${import.meta.env.BASE_URL}audio/093   Lekcija 7 SRECAN PUT  15 Pismo iz Kanade.mp3"}]},{page:157,items:[{number:"16",audio:"${import.meta.env.BASE_URL}audio/094   Lekcija 8 STIL ZIVOTA  16 Moja radna nedelja.mp3"}]},{page:158,items:[{number:"17",audio:"${import.meta.env.BASE_URL}audio/095   17 Razgovor u restoranu.mp3"},{number:"18",audio:"${import.meta.env.BASE_URL}audio/096   18 Gosti na veceri.mp3"}]},{page:161,items:[{number:"19",audio:"${import.meta.env.BASE_URL}audio/097   19 Odgovorite prirodno.mp3"}]},{page:168,items:[{number:"20",audio:"${import.meta.env.BASE_URL}audio/098   Lekcija 9 UPOMOC  20 Vasilije-Andrija-Milica.mp3"}]},{page:169,items:[{number:"21",audio:"${import.meta.env.BASE_URL}audio/099   21 Postavite pitanja.mp3"}]},{page:170,items:[{number:"22",audio:"${import.meta.env.BASE_URL}audio/100   Lekcija 10 KAKO JE KOD VAS  22 Zivot u Njujorku.mp3"}]},{page:171,items:[{number:"23",audio:"${import.meta.env.BASE_URL}audio/101   23 Kod doktora.mp3"}]},{page:173,items:[{number:"24",audio:"${import.meta.env.BASE_URL}audio/102   24 Kakvo ce vreme biti sutr u Srbiji.mp3"}]},{page:175,items:[{number:"25",audio:"${import.meta.env.BASE_URL}audio/103   Lekcija 11 ODELO (NE) CINI COVEKA  25 Kako izgledaju ovi ljudi.mp3"}]},{page:178,items:[{number:"26",audio:"${import.meta.env.BASE_URL}audio/104   26 Kao filmska zvezda.mp3"}]},{page:184,items:[{number:"27",audio:"${import.meta.env.BASE_URL}audio/105   Lekcija 12 HOTEL S PET ZVEZDICA  27 Trazim stan.mp3"}]},{page:184,items:[{number:"28",audio:"${import.meta.env.BASE_URL}audio/106   28 Prica 1.mp3"},{number:"29",audio:"${import.meta.env.BASE_URL}audio/107   29 Prica 2.mp3"},{number:"30",audio:"${import.meta.env.BASE_URL}audio/108   30 Prica 3.mp3"}]},{page:187,items:[{number:"31",audio:"${import.meta.env.BASE_URL}audio/109   31 Glasovi i pisma srpskog jezika.mp3"},{number:"32",audio:"${import.meta.env.BASE_URL}audio/110   32 Slusajte i ponovite.mp3"}]},{page:188,items:[{number:"33",audio:"${import.meta.env.BASE_URL}audio/111   33 Cirilica.mp3"},{number:"34",audio:"${import.meta.env.BASE_URL}audio/112   34 Prica o cirilici.mp3"}]},{page:189,items:[{number:"35",audio:"${import.meta.env.BASE_URL}audio/113   35 Vokali A, E, I, O, U.mp3"},{number:"36",audio:"${import.meta.env.BASE_URL}audio/114   36 Glasovi koji se izgovaraju uz osmeh-C, DJ, S, Z, C, LJ, NJ.mp3"},{number:"37",audio:"${import.meta.env.BASE_URL}audio/115   37 Glasovi koji se izgovaraju bez osmeha-C, DZ, S, Z.mp3"},{number:"38",audio:"${import.meta.env.BASE_URL}audio/116   38 Glasovi-R, L, D, T, S, Z, S, C.mp3"}]},{page:190,items:[{number:"39",audio:"${import.meta.env.BASE_URL}audio/117   39 Dopunite-H, J, G.mp3"},{number:"40",audio:"${import.meta.env.BASE_URL}audio/118   40 Dopunite-C ili C.mp3"},{number:"41",audio:"${import.meta.env.BASE_URL}audio/119   41 DJ ili DZ.mp3"},{number:"42",audio:"${import.meta.env.BASE_URL}audio/120   42 S ili S.mp3"},{number:"43",audio:"${import.meta.env.BASE_URL}audio/121   43 C ili S.mp3"},{number:"44",audio:"${import.meta.env.BASE_URL}audio/122   44 Z ili S.mp3"},{number:"45",audio:"${import.meta.env.BASE_URL}audio/123   45 Z ili Z.mp3"},{number:"46",audio:"${import.meta.env.BASE_URL}audio/124   46 L ili LJ.mp3"},{number:"47",audio:"${import.meta.env.BASE_URL}audio/125   47 N ili NJ.mp3"}]},{page:191,items:[{number:"48",audio:"${import.meta.env.BASE_URL}audio/126   48 Napisite cirilicom.mp3"},{number:"49",audio:"${import.meta.env.BASE_URL}audio/127   49 Konsonanti-C, C, DZ, C, DJ.mp3"},{number:"50",audio:"${import.meta.env.BASE_URL}audio/128   50 Konsonanti-S, Z, S, Z, F, H.mp3"}]},{page:192,items:[{number:"51",audio:"${import.meta.env.BASE_URL}audio/129   51 Konsonanti-L, LJ, R, M, N, NJ, J, V.mp3"},{number:"52",audio:"${import.meta.env.BASE_URL}audio/130   52 Konsonanti-B, P, D, T, G, K.mp3"},{number:"53",audio:"${import.meta.env.BASE_URL}audio/131   53 Sta cujete, zaokruzite.mp3"}]}],GM=({currentPage:m})=>{const e=IM.find(l=>l.page===m),[i,a]=Z.useState(null),r=Z.useCallback(l=>{if(i!==null&&i!==l){const c=document.getElementById(`audio-${i}`);c&&c.pause()}a(l)},[i]);return et.jsxs("div",{className:"p-2 text-sm",children:[et.jsx("h3",{className:"font-bold mb-4 text-lg",children:"  "}),e?et.jsx("ul",{className:"space-y-2",children:e.items.map((l,c)=>et.jsx(FM,{index:c,...l,currentAudio:i,onPlay:r},l.number))}):et.jsx("p",{className:"italic text-gray-500",children:"    "})]})};function qM({title:m,titleId:e,...i},a){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),m?Z.createElement("title",{id:e},m):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const VM=Z.forwardRef(qM);function XM({title:m,titleId:e,...i},a){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),m?Z.createElement("title",{id:e},m):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const YM=Z.forwardRef(XM);function $M({title:m,titleId:e,...i},a){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),m?Z.createElement("title",{id:e},m):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const KM=Z.forwardRef($M);function ZM({title:m,titleId:e,...i},a){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),m?Z.createElement("title",{id:e},m):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const QM=Z.forwardRef(ZM);function WM({title:m,titleId:e,...i},a){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),m?Z.createElement("title",{id:e},m):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const JM=Z.forwardRef(WM);function tk({title:m,titleId:e,...i},a){return Z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),m?Z.createElement("title",{id:e},m):null,Z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ek=Z.forwardRef(tk);A0.workerSrc=new URL("/ucimo_srpski/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();const ik=[{lekcija:1,title:"Dobar dan",page:12},{lekcija:2,title:"Moja zemlja",page:18},{lekcija:3,title:"Razume li?",page:26},{lekcija:4,title:"Moja porodica",page:34},{lekcija:5,title:"Moj svet",page:42},{lekcija:6,title:"ta radi?",page:50},{lekcija:7,title:"Srean put",page:60},{lekcija:8,title:"Stil ivota",page:72},{lekcija:9,title:"Upomo!",page:84},{lekcija:10,title:"Kako je kod vas?",page:98},{lekcija:11,title:"Odelo (ne) ini oveka",page:110},{lekcija:12,title:"Hotel s pet zvezdica",page:120},{topic:"Dodatak",page:187},{topic:"Testovi",page:193}];function nk(){const[m,e]=Z.useState(0),[i,a]=Z.useState(()=>{const D=localStorage.getItem("lastPageNumber");return D?parseInt(D,10):1}),[r,l]=Z.useState(300),[c,h]=Z.useState(()=>{const D=localStorage.getItem("pdfWidth");return D?parseInt(D,10):800}),[f,p]=Z.useState(!1),[v,b]=Z.useState(!1);Z.useEffect(()=>{localStorage.setItem("pdfWidth",String(c))},[c]),Z.useEffect(()=>{localStorage.setItem("lastPageNumber",String(i)),console.log("/ucimo_srpski/")},[i]);const y=200,_=600,T=({numPages:D})=>{e(D)},R=D=>{D>=1&&D<=m&&(a(D),b(!1))},k=()=>h(D=>Math.min(D+100,2e3)),C=()=>h(D=>Math.max(D-100,200));return Z.useEffect(()=>{const D=z=>{if(!f)return;const U=Math.min(_,Math.max(y,window.innerWidth-z.clientX));l(U)},N=()=>{f&&p(!1)};return window.addEventListener("mousemove",D),window.addEventListener("mouseup",N),()=>{window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",N)}},[f]),Z.useEffect(()=>{const D=N=>{N.ctrlKey&&(N.preventDefault(),N.deltaY<0?k():C())};return window.addEventListener("wheel",D,{passive:!1}),()=>window.removeEventListener("wheel",D)},[]),et.jsxs("div",{className:"text-[var(--text-light)] dark:text-[var(--text-dark)] bg-white dark:bg-[var(--bg-dark)] h-screen overflow-hidden flex flex-col",children:[et.jsx(aR,{}),et.jsxs("div",{className:"p-2 sm:p-4 flex flex-wrap items-center gap-2 sm:gap-4 shrink-0",children:[et.jsxs("button",{onClick:()=>b(!0),className:"px-3 py-1 rounded flex items-center dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200",children:[et.jsx(YM,{className:"h-5 w-5"}),et.jsx("span",{className:"hidden sm:inline ml-1",children:""})]}),et.jsxs("button",{onClick:()=>R(i-1),disabled:i===1,className:"px-3 py-1 rounded  dark:bg-gray-600 dark:hover:bg-gray-500 disabled:opacity-50 flex items-center text-gray-800 dark:text-gray-200",children:[et.jsx(KM,{className:"h-5 w-5"}),et.jsx("span",{className:"hidden sm:inline ml-1",children:""})]}),et.jsxs("span",{children:[".",et.jsx("input",{type:"number",value:i,min:1,max:m,onChange:D=>R(Number(D.target.value)),className:"w-16 mx-2 border px-2 py-1 rounded text-center"}),"/ ",m]}),et.jsxs("button",{onClick:()=>R(i+1),disabled:i===m,className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 disabled:opacity-50 flex items-center text-gray-800 dark:text-gray-200",children:[et.jsx(QM,{className:"h-5 w-5"}),et.jsx("span",{className:"hidden sm:inline ml-1",children:""})]}),et.jsxs("button",{onClick:C,className:"ml-4 px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 flex items-center text-gray-800 dark:text-gray-200",children:[et.jsx(JM,{className:"h-5 w-5"}),et.jsx("span",{className:"hidden sm:inline ml-1",children:""})]}),et.jsxs("button",{onClick:k,className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 flex items-center text-gray-800 dark:text-gray-200",children:[et.jsx(ek,{className:"h-5 w-5"}),et.jsx("span",{className:"hidden sm:inline ml-1",children:""})]})]}),et.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[et.jsx("div",{style:{flex:`0 0 calc(100% - ${r}px)`},className:"overflow-y-auto px-4 flex justify-center",children:et.jsx("div",{className:"my-auto",children:et.jsx(CM,{file:"/ucimo_srpski/pdf/Uimo-srpski.pdf",onLoadSuccess:T,loading:et.jsx("div",{className:"text-center mt-10 text-[var(--text-light)] dark:text-[var(--text-dark)] bg-white dark:bg-[var(--bg-dark)]",children:"..."}),children:et.jsx(UM,{pageNumber:i,width:c,renderTextLayer:!0,renderAnnotationLayer:!0,renderMode:"canvas",loading:et.jsx("div",{className:"text-center mt-10 text-[var(--text-light)] dark:text-[var(--text-dark)] bg-white dark:bg-[var(--bg-dark)]",children:"..."})})})})}),et.jsx("div",{onMouseDown:()=>p(!0),className:"w-4 bg-gray-300 hover:bg-gray-200 dark:bg-gray-500 dark:hover:bg-gray-400 transition-colors cursor-col-resize flex items-center justify-center",style:{cursor:"col-resize"},children:et.jsx(VM,{className:"size-6 text-gray-400 dark:text-gray-100"})}),et.jsx("div",{style:{width:`${r}px`},className:"overflow-y-auto p-4",children:et.jsx(GM,{currentPage:i})}),v&&et.jsxs(et.Fragment,{children:[et.jsx("div",{className:"fixed inset-0 bg-black opacity-70 z-40",onClick:()=>b(!1)}),et.jsxs("div",{className:"text-[var(--text-light)] absolute top-20 left-1/2 -translate-x-1/2 z-50 bg-white shadow-[0_0_40px_rgba(0,0,0,0.6)] p-4 rounded-lg max-h-[70vh] overflow-y-auto w-96",children:[et.jsx("button",{onClick:()=>b(!1),className:"absolute top-2 right-3 text-gray-600 hover:text-black text-xl",children:""}),et.jsx("ul",{className:"space-y-2",children:ik.map(({lekcija:D,title:N,topic:z,page:U},G)=>et.jsx("li",{className:"cursor-pointer hover:text-blue-600",onClick:()=>R(U),children:D?et.jsxs(et.Fragment,{children:[et.jsxs("span",{className:"font-semibold",children:["Lekcija ",D,":"]})," ",N]}):et.jsx("span",{className:"font-semibold",children:z})},D??z??G))})]})]})]})]})}Qw.createRoot(document.getElementById("root")).render(et.jsx(n_.StrictMode,{children:et.jsx(Ww,{children:et.jsx(nk,{})})}));
