var Bw=Object.defineProperty;var fS=g=>{throw TypeError(g)};var Uw=(g,e,i)=>e in g?Bw(g,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):g[e]=i;var St=(g,e,i)=>Uw(g,typeof e!="symbol"?e+"":e,i),wb=(g,e,i)=>e.has(g)||fS("Cannot "+i);var u=(g,e,i)=>(wb(g,e,"read from private field"),i?i.call(g):e.get(g)),w=(g,e,i)=>e.has(g)?fS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(g):e.set(g,i),S=(g,e,i,a)=>(wb(g,e,"write to private field"),a?a.call(g,i):e.set(g,i),i),E=(g,e,i)=>(wb(g,e,"access private method"),i);var yi=(g,e,i,a)=>({set _(r){S(g,e,r,i)},get _(){return u(g,e,a)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}})();function i_(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Cb={exports:{}},Gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function Iw(){if(pS)return Gc;pS=1;var g=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:g,type:a,key:c,ref:r!==void 0?r:null,props:l}}return Gc.Fragment=e,Gc.jsx=i,Gc.jsxs=i,Gc}var gS;function Gw(){return gS||(gS=1,Cb.exports=Iw()),Cb.exports}var et=Gw(),Rb={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS;function qw(){if(mS)return Rt;mS=1;var g=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function k(D,Y,tt){this.props=D,this.context=Y,this.refs=C,this.updater=tt||_}k.prototype.isReactComponent={},k.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=k.prototype;function L(D,Y,tt){this.props=D,this.context=Y,this.refs=C,this.updater=tt||_}var N=L.prototype=new R;N.constructor=L,T(N,k.prototype),N.isPureReactComponent=!0;var z=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function X(D,Y,tt,J,lt,xt){return tt=xt.ref,{$$typeof:g,type:D,key:Y,ref:tt!==void 0?tt:null,props:xt}}function W(D,Y){return X(D.type,Y,void 0,void 0,void 0,D.props)}function it(D){return typeof D=="object"&&D!==null&&D.$$typeof===g}function ot(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(tt){return Y[tt]})}var st=/\/+/g;function gt(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?ot(""+D.key):Y.toString(36)}function bt(){}function ft(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(bt,bt):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ht(D,Y,tt,J,lt){var xt=typeof D;(xt==="undefined"||xt==="boolean")&&(D=null);var ut=!1;if(D===null)ut=!0;else switch(xt){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(D.$$typeof){case g:case e:ut=!0;break;case b:return ut=D._init,ht(ut(D._payload),Y,tt,J,lt)}}if(ut)return lt=lt(D),ut=J===""?"."+gt(D,0):J,z(lt)?(tt="",ut!=null&&(tt=ut.replace(st,"$&/")+"/"),ht(lt,Y,tt,"",function(xe){return xe})):lt!=null&&(it(lt)&&(lt=W(lt,tt+(lt.key==null||D&&D.key===lt.key?"":(""+lt.key).replace(st,"$&/")+"/")+ut)),Y.push(lt)),1;ut=0;var Tt=J===""?".":J+":";if(z(D))for(var Ht=0;Ht<D.length;Ht++)J=D[Ht],xt=Tt+gt(J,Ht),ut+=ht(J,Y,tt,xt,lt);else if(Ht=y(D),typeof Ht=="function")for(D=Ht.call(D),Ht=0;!(J=D.next()).done;)J=J.value,xt=Tt+gt(J,Ht++),ut+=ht(J,Y,tt,xt,lt);else if(xt==="object"){if(typeof D.then=="function")return ht(ft(D),Y,tt,J,lt);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ut}function H(D,Y,tt){if(D==null)return D;var J=[],lt=0;return ht(D,J,"","",function(xt){return Y.call(tt,xt,lt++)}),J}function q(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(tt){(D._status===0||D._status===-1)&&(D._status=1,D._result=tt)},function(tt){(D._status===0||D._status===-1)&&(D._status=2,D._result=tt)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var $=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Et(){}return Rt.Children={map:H,forEach:function(D,Y,tt){H(D,function(){Y.apply(this,arguments)},tt)},count:function(D){var Y=0;return H(D,function(){Y++}),Y},toArray:function(D){return H(D,function(Y){return Y})||[]},only:function(D){if(!it(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=k,Rt.Fragment=i,Rt.Profiler=r,Rt.PureComponent=L,Rt.StrictMode=a,Rt.Suspense=f,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return F.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,Y,tt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=T({},D.props),lt=D.key,xt=void 0;if(Y!=null)for(ut in Y.ref!==void 0&&(xt=void 0),Y.key!==void 0&&(lt=""+Y.key),Y)!G.call(Y,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&Y.ref===void 0||(J[ut]=Y[ut]);var ut=arguments.length-2;if(ut===1)J.children=tt;else if(1<ut){for(var Tt=Array(ut),Ht=0;Ht<ut;Ht++)Tt[Ht]=arguments[Ht+2];J.children=Tt}return X(D.type,lt,void 0,void 0,xt,J)},Rt.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Rt.createElement=function(D,Y,tt){var J,lt={},xt=null;if(Y!=null)for(J in Y.key!==void 0&&(xt=""+Y.key),Y)G.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(lt[J]=Y[J]);var ut=arguments.length-2;if(ut===1)lt.children=tt;else if(1<ut){for(var Tt=Array(ut),Ht=0;Ht<ut;Ht++)Tt[Ht]=arguments[Ht+2];lt.children=Tt}if(D&&D.defaultProps)for(J in ut=D.defaultProps,ut)lt[J]===void 0&&(lt[J]=ut[J]);return X(D,xt,void 0,void 0,null,lt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:h,render:D}},Rt.isValidElement=it,Rt.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:q}},Rt.memo=function(D,Y){return{$$typeof:p,type:D,compare:Y===void 0?null:Y}},Rt.startTransition=function(D){var Y=F.T,tt={};F.T=tt;try{var J=D(),lt=F.S;lt!==null&&lt(tt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Et,$)}catch(xt){$(xt)}finally{F.T=Y}},Rt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Rt.use=function(D){return F.H.use(D)},Rt.useActionState=function(D,Y,tt){return F.H.useActionState(D,Y,tt)},Rt.useCallback=function(D,Y){return F.H.useCallback(D,Y)},Rt.useContext=function(D){return F.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,Y){return F.H.useDeferredValue(D,Y)},Rt.useEffect=function(D,Y,tt){var J=F.H;if(typeof tt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,Y)},Rt.useId=function(){return F.H.useId()},Rt.useImperativeHandle=function(D,Y,tt){return F.H.useImperativeHandle(D,Y,tt)},Rt.useInsertionEffect=function(D,Y){return F.H.useInsertionEffect(D,Y)},Rt.useLayoutEffect=function(D,Y){return F.H.useLayoutEffect(D,Y)},Rt.useMemo=function(D,Y){return F.H.useMemo(D,Y)},Rt.useOptimistic=function(D,Y){return F.H.useOptimistic(D,Y)},Rt.useReducer=function(D,Y,tt){return F.H.useReducer(D,Y,tt)},Rt.useRef=function(D){return F.H.useRef(D)},Rt.useState=function(D){return F.H.useState(D)},Rt.useSyncExternalStore=function(D,Y,tt){return F.H.useSyncExternalStore(D,Y,tt)},Rt.useTransition=function(){return F.H.useTransition()},Rt.version="19.1.0",Rt}var bS;function r0(){return bS||(bS=1,Rb.exports=qw()),Rb.exports}var Q=r0();const n_=i_(Q);var Mb={exports:{}},qc={},kb={exports:{}},Db={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS;function Vw(){return vS||(vS=1,function(g){function e(H,q){var $=H.length;H.push(q);t:for(;0<$;){var Et=$-1>>>1,D=H[Et];if(0<r(D,q))H[Et]=q,H[$]=D,$=Et;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var q=H[0],$=H.pop();if($!==q){H[0]=$;t:for(var Et=0,D=H.length,Y=D>>>1;Et<Y;){var tt=2*(Et+1)-1,J=H[tt],lt=tt+1,xt=H[lt];if(0>r(J,$))lt<D&&0>r(xt,J)?(H[Et]=xt,H[lt]=$,Et=lt):(H[Et]=J,H[tt]=$,Et=tt);else if(lt<D&&0>r(xt,$))H[Et]=xt,H[lt]=$,Et=lt;else break t}}return q}function r(H,q){var $=H.sortIndex-q.sortIndex;return $!==0?$:H.id-q.id}if(g.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;g.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();g.unstable_now=function(){return c.now()-h}}var f=[],p=[],b=1,v=null,y=3,_=!1,T=!1,C=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function z(H){for(var q=i(p);q!==null;){if(q.callback===null)a(p);else if(q.startTime<=H)a(p),q.sortIndex=q.expirationTime,e(f,q);else break;q=i(p)}}function F(H){if(C=!1,z(H),!T)if(i(f)!==null)T=!0,G||(G=!0,gt());else{var q=i(p);q!==null&&ht(F,q.startTime-H)}}var G=!1,X=-1,W=5,it=-1;function ot(){return k?!0:!(g.unstable_now()-it<W)}function st(){if(k=!1,G){var H=g.unstable_now();it=H;var q=!0;try{t:{T=!1,C&&(C=!1,L(X),X=-1),_=!0;var $=y;try{e:{for(z(H),v=i(f);v!==null&&!(v.expirationTime>H&&ot());){var Et=v.callback;if(typeof Et=="function"){v.callback=null,y=v.priorityLevel;var D=Et(v.expirationTime<=H);if(H=g.unstable_now(),typeof D=="function"){v.callback=D,z(H),q=!0;break e}v===i(f)&&a(f),z(H)}else a(f);v=i(f)}if(v!==null)q=!0;else{var Y=i(p);Y!==null&&ht(F,Y.startTime-H),q=!1}}break t}finally{v=null,y=$,_=!1}q=void 0}}finally{q?gt():G=!1}}}var gt;if(typeof N=="function")gt=function(){N(st)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,ft=bt.port2;bt.port1.onmessage=st,gt=function(){ft.postMessage(null)}}else gt=function(){R(st,0)};function ht(H,q){X=R(function(){H(g.unstable_now())},q)}g.unstable_IdlePriority=5,g.unstable_ImmediatePriority=1,g.unstable_LowPriority=4,g.unstable_NormalPriority=3,g.unstable_Profiling=null,g.unstable_UserBlockingPriority=2,g.unstable_cancelCallback=function(H){H.callback=null},g.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<H?Math.floor(1e3/H):5},g.unstable_getCurrentPriorityLevel=function(){return y},g.unstable_next=function(H){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return H()}finally{y=$}},g.unstable_requestPaint=function(){k=!0},g.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=y;y=H;try{return q()}finally{y=$}},g.unstable_scheduleCallback=function(H,q,$){var Et=g.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Et+$:Et):$=Et,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=$+D,H={id:b++,callback:q,priorityLevel:H,startTime:$,expirationTime:D,sortIndex:-1},$>Et?(H.sortIndex=$,e(p,H),i(f)===null&&H===i(p)&&(C?(L(X),X=-1):C=!0,ht(F,$-Et))):(H.sortIndex=D,e(f,H),T||_||(T=!0,G||(G=!0,gt()))),H},g.unstable_shouldYield=ot,g.unstable_wrapCallback=function(H){var q=y;return function(){var $=y;y=q;try{return H.apply(this,arguments)}finally{y=$}}}}(Db)),Db}var yS;function Xw(){return yS||(yS=1,kb.exports=Vw()),kb.exports}var Lb={exports:{}},ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS;function Yw(){if(AS)return ui;AS=1;var g=r0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:p,implementation:b}}var c=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ui.createPortal=function(f,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,b)},ui.flushSync=function(f){var p=c.T,b=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=p,a.p=b,a.d.f()}},ui.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(f,p))},ui.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},ui.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var b=p.as,v=h(b,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?a.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:_}):b==="script"&&a.d.X(f,{crossOrigin:v,integrity:y,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ui.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=h(p.as,p.crossOrigin);a.d.M(f,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(f)},ui.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=h(b,p.crossOrigin);a.d.L(f,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ui.preloadModule=function(f,p){if(typeof f=="string")if(p){var b=h(p.as,p.crossOrigin);a.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(f)},ui.requestFormReset=function(f){a.d.r(f)},ui.unstable_batchedUpdates=function(f,p){return f(p)},ui.useFormState=function(f,p,b){return c.H.useFormState(f,p,b)},ui.useFormStatus=function(){return c.H.useHostTransitionStatus()},ui.version="19.1.0",ui}var SS;function Kw(){if(SS)return Lb.exports;SS=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(e){console.error(e)}}return g(),Lb.exports=Yw(),Lb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _S;function Zw(){if(_S)return qc;_S=1;var g=Xw(),e=r0(),i=Kw();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function c(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(l(t)!==t)throw Error(a(188))}function f(t){var n=t.alternate;if(!n){if(n=l(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var d=s.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){s=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===s)return h(d),t;if(m===o)return h(d),n;m=m.sibling}throw Error(a(188))}if(s.return!==o.return)s=d,o=m;else{for(var A=!1,x=d.child;x;){if(x===s){A=!0,s=d,o=m;break}if(x===o){A=!0,o=d,s=m;break}x=x.sibling}if(!A){for(x=m.child;x;){if(x===s){A=!0,s=m,o=d;break}if(x===o){A=!0,o=m,s=d;break}x=x.sibling}if(!A)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),N=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),it=Symbol.for("react.activity"),ot=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function gt(t){return t===null||typeof t!="object"?null:(t=st&&t[st]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===bt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList";case it:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case _:return"Portal";case N:return(t.displayName||"Context")+".Provider";case L:return(t._context.displayName||"Context")+".Consumer";case z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return n=t.displayName||null,n!==null?n:ft(t.type)||"Memo";case W:n=t._payload,t=t._init;try{return ft(t(n))}catch{}}return null}var ht=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Et=[],D=-1;function Y(t){return{current:t}}function tt(t){0>D||(t.current=Et[D],Et[D]=null,D--)}function J(t,n){D++,Et[D]=t.current,t.current=n}var lt=Y(null),xt=Y(null),ut=Y(null),Tt=Y(null);function Ht(t,n){switch(J(ut,n),J(xt,t),J(lt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?U1(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=U1(n),t=I1(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(lt),J(lt,t)}function xe(){tt(lt),tt(xt),tt(ut)}function Wt(t){t.memoizedState!==null&&J(Tt,t);var n=lt.current,s=I1(n,t.type);n!==s&&(J(xt,t),J(lt,s))}function Gn(t){xt.current===t&&(tt(lt),tt(xt)),Tt.current===t&&(tt(Tt),Hc._currentValue=$)}var pa=Object.prototype.hasOwnProperty,qt=g.unstable_scheduleCallback,le=g.unstable_cancelCallback,Be=g.unstable_shouldYield,Te=g.unstable_requestPaint,$e=g.unstable_now,mr=g.unstable_getCurrentPriorityLevel,Od=g.unstable_ImmediatePriority,Nd=g.unstable_UserBlockingPriority,ga=g.unstable_NormalPriority,dg=g.unstable_LowPriority,jd=g.unstable_IdlePriority,fg=g.log,pg=g.unstable_setDisableYieldValue,br=null,we=null;function Hi(t){if(typeof fg=="function"&&pg(t),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(br,t)}catch{}}var Ue=Math.clz32?Math.clz32:wx,Xu=Math.log,Tx=Math.LN2;function wx(t){return t>>>=0,t===0?32:31-(Xu(t)/Tx|0)|0}var zd=256,Pd=4194304;function vr(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Hd(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,m=t.suspendedLanes,A=t.pingedLanes;t=t.warmLanes;var x=o&134217727;return x!==0?(o=x&~m,o!==0?d=vr(o):(A&=x,A!==0?d=vr(A):s||(s=x&~t,s!==0&&(d=vr(s))))):(x=o&~m,x!==0?d=vr(x):A!==0?d=vr(A):s||(s=o&~t,s!==0&&(d=vr(s)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,s=n&-n,m>=s||m===32&&(s&4194048)!==0)?n:d}function Yu(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Cx(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x0(){var t=zd;return zd<<=1,(zd&4194048)===0&&(zd=256),t}function T0(){var t=Pd;return Pd<<=1,(Pd&62914560)===0&&(Pd=4194304),t}function gg(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ku(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rx(t,n,s,o,d,m){var A=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var x=t.entanglements,M=t.expirationTimes,B=t.hiddenUpdates;for(s=A&~s;0<s;){var V=31-Ue(s),Z=1<<V;x[V]=0,M[V]=-1;var U=B[V];if(U!==null)for(B[V]=null,V=0;V<U.length;V++){var I=U[V];I!==null&&(I.lane&=-536870913)}s&=~Z}o!==0&&w0(t,o,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(A&~n))}function w0(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Ue(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&4194090}function C0(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Ue(s),d=1<<o;d&n|t[o]&n&&(t[o]|=n),s&=~d}}function mg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bg(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function R0(){var t=q.p;return t!==0?t:(t=window.event,t===void 0?32:oS(t.type))}function Mx(t,n){var s=q.p;try{return q.p=t,n()}finally{q.p=s}}var ds=Math.random().toString(36).slice(2),oi="__reactFiber$"+ds,wi="__reactProps$"+ds,Zo="__reactContainer$"+ds,vg="__reactEvents$"+ds,kx="__reactListeners$"+ds,Dx="__reactHandles$"+ds,M0="__reactResources$"+ds,Zu="__reactMarker$"+ds;function yg(t){delete t[oi],delete t[wi],delete t[vg],delete t[kx],delete t[Dx]}function Qo(t){var n=t[oi];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Zo]||s[oi]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=X1(t);t!==null;){if(s=t[oi])return s;t=X1(t)}return n}t=s,s=t.parentNode}return null}function Wo(t){if(t=t[oi]||t[Zo]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qu(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function $o(t){var n=t[M0];return n||(n=t[M0]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(t){t[Zu]=!0}var k0=new Set,D0={};function yr(t,n){Jo(t,n),Jo(t+"Capture",n)}function Jo(t,n){for(D0[t]=n,t=0;t<n.length;t++)k0.add(n[t])}var Lx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),L0={},O0={};function Ox(t){return pa.call(O0,t)?!0:pa.call(L0,t)?!1:Lx.test(t)?O0[t]=!0:(L0[t]=!0,!1)}function Fd(t,n,s){if(Ox(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Bd(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function ma(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}var Ag,N0;function tl(t){if(Ag===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ag=n&&n[1]||"",N0=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ag+t+N0}var Sg=!1;function _g(t,n){if(!t||Sg)return"";Sg=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(I){var U=I}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(I){U=I}t.call(Z.prototype)}}else{try{throw Error()}catch(I){U=I}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(I){if(I&&U&&typeof I.stack=="string")return[I.stack,U.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),A=m[0],x=m[1];if(A&&x){var M=A.split(`
`),B=x.split(`
`);for(d=o=0;o<M.length&&!M[o].includes("DetermineComponentFrameRoot");)o++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(o===M.length||d===B.length)for(o=M.length-1,d=B.length-1;1<=o&&0<=d&&M[o]!==B[d];)d--;for(;1<=o&&0<=d;o--,d--)if(M[o]!==B[d]){if(o!==1||d!==1)do if(o--,d--,0>d||M[o]!==B[d]){var V=`
`+M[o].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=o&&0<=d);break}}}finally{Sg=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?tl(s):""}function Nx(t){switch(t.tag){case 26:case 27:case 5:return tl(t.type);case 16:return tl("Lazy");case 13:return tl("Suspense");case 19:return tl("SuspenseList");case 0:case 15:return _g(t.type,!1);case 11:return _g(t.type.render,!1);case 1:return _g(t.type,!0);case 31:return tl("Activity");default:return""}}function j0(t){try{var n="";do n+=Nx(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z0(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jx(t){var n=z0(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(A){o=""+A,m.call(this,A)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(A){o=""+A},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ud(t){t._valueTracker||(t._valueTracker=jx(t))}function P0(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=z0(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zx=/[\n"\\]/g;function rn(t){return t.replace(zx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Eg(t,n,s,o,d,m,A,x){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),n!=null?A==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+sn(n)):t.value!==""+sn(n)&&(t.value=""+sn(n)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),n!=null?xg(t,A,sn(n)):s!=null?xg(t,A,sn(s)):o!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+sn(x):t.removeAttribute("name")}function H0(t,n,s,o,d,m,A,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;s=s!=null?""+sn(s):"",n=n!=null?""+sn(n):s,x||n===t.value||(t.value=n),t.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=x?t.checked:!!o,t.defaultChecked=!!o,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A)}function xg(t,n,s){n==="number"&&Id(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function el(t,n,s,o){if(t=t.options,n){n={};for(var d=0;d<s.length;d++)n["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=n.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&o&&(t[s].defaultSelected=!0)}else{for(s=""+sn(s),n=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function F0(t,n,s){if(n!=null&&(n=""+sn(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+sn(s):""}function B0(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ht(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=sn(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o)}function il(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Px=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function U0(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||Px.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function I0(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&s[d]!==o&&U0(t,d,o)}else for(var m in n)n.hasOwnProperty(m)&&U0(t,m,n[m])}function Tg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gd(t){return Fx.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var wg=null;function Cg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nl=null,al=null;function G0(t){var n=Wo(t);if(n&&(t=n.stateNode)){var s=t[wi]||null;t:switch(t=n.stateNode,n.type){case"input":if(Eg(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var d=o[wi]||null;if(!d)throw Error(a(90));Eg(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&P0(o)}break t;case"textarea":F0(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&el(t,!!s.multiple,n,!1)}}}var Rg=!1;function q0(t,n,s){if(Rg)return t(n,s);Rg=!0;try{var o=t(n);return o}finally{if(Rg=!1,(nl!==null||al!==null)&&(Mf(),nl&&(n=nl,t=al,al=nl=null,G0(n),t)))for(n=0;n<t.length;n++)G0(t[n])}}function Wu(t,n){var s=t.stateNode;if(s===null)return null;var o=s[wi]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mg=!1;if(ba)try{var $u={};Object.defineProperty($u,"passive",{get:function(){Mg=!0}}),window.addEventListener("test",$u,$u),window.removeEventListener("test",$u,$u)}catch{Mg=!1}var fs=null,kg=null,qd=null;function V0(){if(qd)return qd;var t,n=kg,s=n.length,o,d="value"in fs?fs.value:fs.textContent,m=d.length;for(t=0;t<s&&n[t]===d[t];t++);var A=s-t;for(o=1;o<=A&&n[s-o]===d[m-o];o++);return qd=d.slice(t,1<o?1-o:void 0)}function Vd(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xd(){return!0}function X0(){return!1}function Ci(t){function n(s,o,d,m,A){this._reactName=s,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=A,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(s=t[x],this[x]=s?s(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xd:X0,this.isPropagationStopped=X0,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xd)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xd)},persist:function(){},isPersistent:Xd}),n}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yd=Ci(Ar),Ju=b({},Ar,{view:0,detail:0}),Bx=Ci(Ju),Dg,Lg,tc,Kd=b({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ng,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tc&&(tc&&t.type==="mousemove"?(Dg=t.screenX-tc.screenX,Lg=t.screenY-tc.screenY):Lg=Dg=0,tc=t),Dg)},movementY:function(t){return"movementY"in t?t.movementY:Lg}}),Y0=Ci(Kd),Ux=b({},Kd,{dataTransfer:0}),Ix=Ci(Ux),Gx=b({},Ju,{relatedTarget:0}),Og=Ci(Gx),qx=b({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Vx=Ci(qx),Xx=b({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yx=Ci(Xx),Kx=b({},Ar,{data:0}),K0=Ci(Kx),Zx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $x(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Wx[t])?!!n[t]:!1}function Ng(){return $x}var Jx=b({},Ju,{key:function(t){if(t.key){var n=Zx[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Vd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ng,charCode:function(t){return t.type==="keypress"?Vd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tT=Ci(Jx),eT=b({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z0=Ci(eT),iT=b({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ng}),nT=Ci(iT),aT=b({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),sT=Ci(aT),rT=b({},Kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oT=Ci(rT),lT=b({},Ar,{newState:0,oldState:0}),uT=Ci(lT),cT=[9,13,27,32],jg=ba&&"CompositionEvent"in window,ec=null;ba&&"documentMode"in document&&(ec=document.documentMode);var hT=ba&&"TextEvent"in window&&!ec,Q0=ba&&(!jg||ec&&8<ec&&11>=ec),W0=" ",$0=!1;function J0(t,n){switch(t){case"keyup":return cT.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sl=!1;function dT(t,n){switch(t){case"compositionend":return ty(n);case"keypress":return n.which!==32?null:($0=!0,W0);case"textInput":return t=n.data,t===W0&&$0?null:t;default:return null}}function fT(t,n){if(sl)return t==="compositionend"||!jg&&J0(t,n)?(t=V0(),qd=kg=fs=null,sl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Q0&&n.locale!=="ko"?null:n.data;default:return null}}var pT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ey(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!pT[t.type]:n==="textarea"}function iy(t,n,s,o){nl?al?al.push(o):al=[o]:nl=o,n=jf(n,"onChange"),0<n.length&&(s=new Yd("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var ic=null,nc=null;function gT(t){z1(t,0)}function Zd(t){var n=Qu(t);if(P0(n))return t}function ny(t,n){if(t==="change")return n}var ay=!1;if(ba){var zg;if(ba){var Pg="oninput"in document;if(!Pg){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),Pg=typeof sy.oninput=="function"}zg=Pg}else zg=!1;ay=zg&&(!document.documentMode||9<document.documentMode)}function ry(){ic&&(ic.detachEvent("onpropertychange",oy),nc=ic=null)}function oy(t){if(t.propertyName==="value"&&Zd(nc)){var n=[];iy(n,nc,t,Cg(t)),q0(gT,n)}}function mT(t,n,s){t==="focusin"?(ry(),ic=n,nc=s,ic.attachEvent("onpropertychange",oy)):t==="focusout"&&ry()}function bT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zd(nc)}function vT(t,n){if(t==="click")return Zd(n)}function yT(t,n){if(t==="input"||t==="change")return Zd(n)}function AT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Fi=typeof Object.is=="function"?Object.is:AT;function ac(t,n){if(Fi(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var d=s[o];if(!pa.call(n,d)||!Fi(t[d],n[d]))return!1}return!0}function ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uy(t,n){var s=ly(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ly(s)}}function cy(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cy(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function hy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Id(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Id(t.document)}return n}function Hg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ST=ba&&"documentMode"in document&&11>=document.documentMode,rl=null,Fg=null,sc=null,Bg=!1;function dy(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bg||rl==null||rl!==Id(o)||(o=rl,"selectionStart"in o&&Hg(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),sc&&ac(sc,o)||(sc=o,o=jf(Fg,"onSelect"),0<o.length&&(n=new Yd("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=rl)))}function Sr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ol={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Ug={},fy={};ba&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function _r(t){if(Ug[t])return Ug[t];if(!ol[t])return t;var n=ol[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in fy)return Ug[t]=n[s];return t}var py=_r("animationend"),gy=_r("animationiteration"),my=_r("animationstart"),_T=_r("transitionrun"),ET=_r("transitionstart"),xT=_r("transitioncancel"),by=_r("transitionend"),vy=new Map,Ig="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ig.push("scrollEnd");function xn(t,n){vy.set(t,n),yr(n,[t])}var yy=new WeakMap;function on(t,n){if(typeof t=="object"&&t!==null){var s=yy.get(t);return s!==void 0?s:(n={value:t,source:n,stack:j0(n)},yy.set(t,n),n)}return{value:t,source:n,stack:j0(n)}}var ln=[],ll=0,Gg=0;function Qd(){for(var t=ll,n=Gg=ll=0;n<t;){var s=ln[n];ln[n++]=null;var o=ln[n];ln[n++]=null;var d=ln[n];ln[n++]=null;var m=ln[n];if(ln[n++]=null,o!==null&&d!==null){var A=o.pending;A===null?d.next=d:(d.next=A.next,A.next=d),o.pending=d}m!==0&&Ay(s,d,m)}}function Wd(t,n,s,o){ln[ll++]=t,ln[ll++]=n,ln[ll++]=s,ln[ll++]=o,Gg|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function qg(t,n,s,o){return Wd(t,n,s,o),$d(t)}function ul(t,n){return Wd(t,null,null,n),$d(t)}function Ay(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var d=!1,m=t.return;m!==null;)m.childLanes|=s,o=m.alternate,o!==null&&(o.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&n!==null&&(d=31-Ue(s),t=m.hiddenUpdates,o=t[d],o===null?t[d]=[n]:o.push(n),n.lane=s|536870912),m):null}function $d(t){if(50<kc)throw kc=0,Qm=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var cl={};function TT(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(t,n,s,o){return new TT(t,n,s,o)}function Vg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function va(t,n){var s=t.alternate;return s===null?(s=Bi(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Sy(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Jd(t,n,s,o,d,m){var A=0;if(o=t,typeof t=="function")Vg(t)&&(A=1);else if(typeof t=="string")A=Cw(t,s,lt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case it:return t=Bi(31,s,n,d),t.elementType=it,t.lanes=m,t;case T:return Er(s.children,d,m,n);case C:A=8,d|=24;break;case k:return t=Bi(12,s,n,d|2),t.elementType=k,t.lanes=m,t;case F:return t=Bi(13,s,n,d),t.elementType=F,t.lanes=m,t;case G:return t=Bi(19,s,n,d),t.elementType=G,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:case N:A=10;break t;case L:A=9;break t;case z:A=11;break t;case X:A=14;break t;case W:A=16,o=null;break t}A=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Bi(A,s,n,d),n.elementType=t,n.type=o,n.lanes=m,n}function Er(t,n,s,o){return t=Bi(7,t,o,n),t.lanes=s,t}function Xg(t,n,s){return t=Bi(6,t,null,n),t.lanes=s,t}function Yg(t,n,s){return n=Bi(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var hl=[],dl=0,tf=null,ef=0,un=[],cn=0,xr=null,ya=1,Aa="";function Tr(t,n){hl[dl++]=ef,hl[dl++]=tf,tf=t,ef=n}function _y(t,n,s){un[cn++]=ya,un[cn++]=Aa,un[cn++]=xr,xr=t;var o=ya;t=Aa;var d=32-Ue(o)-1;o&=~(1<<d),s+=1;var m=32-Ue(n)+d;if(30<m){var A=d-d%5;m=(o&(1<<A)-1).toString(32),o>>=A,d-=A,ya=1<<32-Ue(n)+d|s<<d|o,Aa=m+t}else ya=1<<m|s<<d|o,Aa=t}function Kg(t){t.return!==null&&(Tr(t,1),_y(t,1,0))}function Zg(t){for(;t===tf;)tf=hl[--dl],hl[dl]=null,ef=hl[--dl],hl[dl]=null;for(;t===xr;)xr=un[--cn],un[cn]=null,Aa=un[--cn],un[cn]=null,ya=un[--cn],un[cn]=null}var vi=null,me=null,It=!1,wr=null,qn=!1,Qg=Error(a(519));function Cr(t){var n=Error(a(418,""));throw lc(on(n,t)),Qg}function Ey(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[oi]=t,n[wi]=o,s){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(s=0;s<Lc.length;s++)zt(Lc[s],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":zt("invalid",n),H0(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ud(n);break;case"select":zt("invalid",n);break;case"textarea":zt("invalid",n),B0(n,o.value,o.defaultValue,o.children),Ud(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||B1(n.textContent,s)?(o.popover!=null&&(zt("beforetoggle",n),zt("toggle",n)),o.onScroll!=null&&zt("scroll",n),o.onScrollEnd!=null&&zt("scrollend",n),o.onClick!=null&&(n.onclick=zf),n=!0):n=!1,n||Cr(t)}function xy(t){for(vi=t.return;vi;)switch(vi.tag){case 5:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:vi=vi.return}}function rc(t){if(t!==vi)return!1;if(!It)return xy(t),It=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||db(t.type,t.memoizedProps)),s=!s),s&&me&&Cr(t),xy(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){me=wn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}me=null}}else n===27?(n=me,Ms(t.type)?(t=mb,mb=null,me=t):me=n):me=vi?wn(t.stateNode.nextSibling):null;return!0}function oc(){me=vi=null,It=!1}function Ty(){var t=wr;return t!==null&&(ki===null?ki=t:ki.push.apply(ki,t),wr=null),t}function lc(t){wr===null?wr=[t]:wr.push(t)}var Wg=Y(null),Rr=null,Sa=null;function ps(t,n,s){J(Wg,n._currentValue),n._currentValue=s}function _a(t){t._currentValue=Wg.current,tt(Wg)}function $g(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Jg(t,n,s,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var A=d.child;m=m.firstContext;t:for(;m!==null;){var x=m;m=d;for(var M=0;M<n.length;M++)if(x.context===n[M]){m.lanes|=s,x=m.alternate,x!==null&&(x.lanes|=s),$g(m.return,s,t),o||(A=null);break t}m=x.next}}else if(d.tag===18){if(A=d.return,A===null)throw Error(a(341));A.lanes|=s,m=A.alternate,m!==null&&(m.lanes|=s),$g(A,s,t),A=null}else A=d.child;if(A!==null)A.return=d;else for(A=d;A!==null;){if(A===t){A=null;break}if(d=A.sibling,d!==null){d.return=A.return,A=d;break}A=A.return}d=A}}function uc(t,n,s,o){t=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var A=d.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var x=d.type;Fi(d.pendingProps.value,A.value)||(t!==null?t.push(x):t=[x])}}else if(d===Tt.current){if(A=d.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Hc):t=[Hc])}d=d.return}t!==null&&Jg(n,t,s,o),n.flags|=262144}function nf(t){for(t=t.firstContext;t!==null;){if(!Fi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Mr(t){Rr=t,Sa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function li(t){return wy(Rr,t)}function af(t,n){return Rr===null&&Mr(t),wy(t,n)}function wy(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Sa===null){if(t===null)throw Error(a(308));Sa=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Sa=Sa.next=n;return s}var wT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},CT=g.unstable_scheduleCallback,RT=g.unstable_NormalPriority,Le={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new wT,data:new Map,refCount:0}}function cc(t){t.refCount--,t.refCount===0&&CT(RT,function(){t.controller.abort()})}var hc=null,em=0,fl=0,pl=null;function MT(t,n){if(hc===null){var s=hc=[];em=0,fl=nb(),pl={status:"pending",value:void 0,then:function(o){s.push(o)}}}return em++,n.then(Cy,Cy),n}function Cy(){if(--em===0&&hc!==null){pl!==null&&(pl.status="fulfilled");var t=hc;hc=null,fl=0,pl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function kT(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<s.length;d++)(0,s[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),o}var Ry=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&MT(t,n),Ry!==null&&Ry(t,n)};var kr=Y(null);function im(){var t=kr.current;return t!==null?t:se.pooledCache}function sf(t,n){n===null?J(kr,kr.current):J(kr,n.pool)}function My(){var t=im();return t===null?null:{parent:Le._currentValue,pool:t}}var dc=Error(a(460)),ky=Error(a(474)),rf=Error(a(542)),nm={then:function(){}};function Dy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function of(){}function Ly(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(of,of),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ny(t),t;default:if(typeof n.status=="string")n.then(of,of);else{if(t=se,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ny(t),t}throw fc=n,dc}}var fc=null;function Oy(){if(fc===null)throw Error(a(459));var t=fc;return fc=null,t}function Ny(t){if(t===dc||t===rf)throw Error(a(483))}var gs=!1;function am(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function bs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=$d(t),Ay(t,null,s),n}return Wd(t,o,n,s),$d(t)}function pc(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,C0(t,s)}}function rm(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var d=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var A={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?d=m=A:m=m.next=A,s=s.next}while(s!==null);m===null?d=m=n:m=m.next=n}else d=m=n;s={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var om=!1;function gc(){if(om){var t=pl;if(t!==null)throw t}}function mc(t,n,s,o){om=!1;var d=t.updateQueue;gs=!1;var m=d.firstBaseUpdate,A=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var M=x,B=M.next;M.next=null,A===null?m=B:A.next=B,A=M;var V=t.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==A&&(x===null?V.firstBaseUpdate=B:x.next=B,V.lastBaseUpdate=M))}if(m!==null){var Z=d.baseState;A=0,V=B=M=null,x=m;do{var U=x.lane&-536870913,I=U!==x.lane;if(I?(Bt&U)===U:(o&U)===U){U!==0&&U===fl&&(om=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var At=t,vt=x;U=n;var te=s;switch(vt.tag){case 1:if(At=vt.payload,typeof At=="function"){Z=At.call(te,Z,U);break t}Z=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=vt.payload,U=typeof At=="function"?At.call(te,Z,U):At,U==null)break t;Z=b({},Z,U);break t;case 2:gs=!0}}U=x.callback,U!==null&&(t.flags|=64,I&&(t.flags|=8192),I=d.callbacks,I===null?d.callbacks=[U]:I.push(U))}else I={lane:U,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(B=V=I,M=Z):V=V.next=I,A|=U;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;I=x,x=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);V===null&&(M=Z),d.baseState=M,d.firstBaseUpdate=B,d.lastBaseUpdate=V,m===null&&(d.shared.lanes=0),Ts|=A,t.lanes=A,t.memoizedState=Z}}function jy(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function zy(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)jy(s[t],n)}var gl=Y(null),lf=Y(0);function Py(t,n){t=Ma,J(lf,t),J(gl,n),Ma=t|n.baseLanes}function lm(){J(lf,Ma),J(gl,gl.current)}function um(){Ma=lf.current,tt(gl),tt(lf)}var vs=0,Dt=null,$t=null,Ce=null,uf=!1,ml=!1,Dr=!1,cf=0,bc=0,bl=null,DT=0;function Ae(){throw Error(a(321))}function cm(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!Fi(t[s],n[s]))return!1;return!0}function hm(t,n,s,o,d,m){return vs=m,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?AA:SA,Dr=!1,m=s(o,d),Dr=!1,ml&&(m=Fy(n,s,o,d)),Hy(t),m}function Hy(t){H.H=mf;var n=$t!==null&&$t.next!==null;if(vs=0,Ce=$t=Dt=null,uf=!1,bc=0,bl=null,n)throw Error(a(300));t===null||Ge||(t=t.dependencies,t!==null&&nf(t)&&(Ge=!0))}function Fy(t,n,s,o){Dt=t;var d=0;do{if(ml&&(bl=null),bc=0,ml=!1,25<=d)throw Error(a(301));if(d+=1,Ce=$t=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=HT,m=n(s,o)}while(ml);return m}function LT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?vc(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(Dt.flags|=1024),n}function dm(){var t=cf!==0;return cf=0,t}function fm(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function pm(t){if(uf){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}uf=!1}vs=0,Ce=$t=Dt=null,ml=!1,bc=cf=0,bl=null}function Ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Dt.memoizedState=Ce=t:Ce=Ce.next=t,Ce}function Re(){if($t===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=Ce===null?Dt.memoizedState:Ce.next;if(n!==null)Ce=n,$t=t;else{if(t===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ce===null?Dt.memoizedState=Ce=t:Ce=Ce.next=t}return Ce}function gm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vc(t){var n=bc;return bc+=1,bl===null&&(bl=[]),t=Ly(bl,t,n),n=Dt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?AA:SA),t}function hf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vc(t);if(t.$$typeof===N)return li(t)}throw Error(a(438,String(t)))}function mm(t){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=gm(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=ot;return n.index++,s}function Ea(t,n){return typeof n=="function"?n(t):n}function df(t){var n=Re();return bm(n,$t,t)}function bm(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var d=t.baseQueue,m=o.pending;if(m!==null){if(d!==null){var A=d.next;d.next=m.next,m.next=A}n.baseQueue=d=m,o.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{n=d.next;var x=A=null,M=null,B=n,V=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Bt&Z)===Z:(vs&Z)===Z){var U=B.revertLane;if(U===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===fl&&(V=!0);else if((vs&U)===U){B=B.next,U===fl&&(V=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(x=M=Z,A=m):M=M.next=Z,Dt.lanes|=U,Ts|=U;Z=B.action,Dr&&s(m,Z),m=B.hasEagerState?B.eagerState:s(m,Z)}else U={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},M===null?(x=M=U,A=m):M=M.next=U,Dt.lanes|=Z,Ts|=Z;B=B.next}while(B!==null&&B!==n);if(M===null?A=m:M.next=x,!Fi(m,t.memoizedState)&&(Ge=!0,V&&(s=pl,s!==null)))throw s;t.memoizedState=m,t.baseState=A,t.baseQueue=M,o.lastRenderedState=m}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function vm(t){var n=Re(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,d=s.pending,m=n.memoizedState;if(d!==null){s.pending=null;var A=d=d.next;do m=t(m,A.action),A=A.next;while(A!==d);Fi(m,n.memoizedState)||(Ge=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),s.lastRenderedState=m}return[m,o]}function By(t,n,s){var o=Dt,d=Re(),m=It;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=n();var A=!Fi(($t||d).memoizedState,s);A&&(d.memoizedState=s,Ge=!0),d=d.queue;var x=Gy.bind(null,o,d,t);if(yc(2048,8,x,[t]),d.getSnapshot!==n||A||Ce!==null&&Ce.memoizedState.tag&1){if(o.flags|=2048,vl(9,ff(),Iy.bind(null,o,d,s,n),null),se===null)throw Error(a(349));m||(vs&124)!==0||Uy(o,n,s)}return s}function Uy(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=gm(),Dt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Iy(t,n,s,o){n.value=s,n.getSnapshot=o,qy(n)&&Vy(t)}function Gy(t,n,s){return s(function(){qy(n)&&Vy(t)})}function qy(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!Fi(t,s)}catch{return!0}}function Vy(t){var n=ul(t,2);n!==null&&Vi(n,t,2)}function ym(t){var n=Ri();if(typeof t=="function"){var s=t;if(t=s(),Dr){Hi(!0);try{s()}finally{Hi(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:t},n}function Xy(t,n,s,o){return t.baseState=s,bm(t,$t,typeof o=="function"?o:Ea)}function OT(t,n,s,o,d){if(gf(t))throw Error(a(485));if(t=n.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){m.listeners.push(A)}};H.T!==null?s(!0):m.isTransition=!1,o(m),s=n.pending,s===null?(m.next=n.pending=m,Yy(n,m)):(m.next=s.next,n.pending=s.next=m)}}function Yy(t,n){var s=n.action,o=n.payload,d=t.state;if(n.isTransition){var m=H.T,A={};H.T=A;try{var x=s(d,o),M=H.S;M!==null&&M(A,x),Ky(t,n,x)}catch(B){Am(t,n,B)}finally{H.T=m}}else try{m=s(d,o),Ky(t,n,m)}catch(B){Am(t,n,B)}}function Ky(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Zy(t,n,o)},function(o){return Am(t,n,o)}):Zy(t,n,s)}function Zy(t,n,s){n.status="fulfilled",n.value=s,Qy(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Yy(t,s)))}function Am(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Qy(n),n=n.next;while(n!==o)}t.action=null}function Qy(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Wy(t,n){return n}function $y(t,n){if(It){var s=se.formState;if(s!==null){t:{var o=Dt;if(It){if(me){e:{for(var d=me,m=qn;d.nodeType!==8;){if(!m){d=null;break e}if(d=wn(d.nextSibling),d===null){d=null;break e}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){me=wn(d.nextSibling),o=d.data==="F!";break t}}Cr(o)}o=!1}o&&(n=s[0])}}return s=Ri(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wy,lastRenderedState:n},s.queue=o,s=bA.bind(null,Dt,o),o.dispatch=s,o=ym(!1),m=Tm.bind(null,Dt,!1,o.queue),o=Ri(),d={state:n,dispatch:null,action:t,pending:null},o.queue=d,s=OT.bind(null,Dt,d,m,s),d.dispatch=s,o.memoizedState=t,[n,s,!1]}function Jy(t){var n=Re();return tA(n,$t,t)}function tA(t,n,s){if(n=bm(t,n,Wy)[0],t=df(Ea)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=vc(n)}catch(A){throw A===dc?rf:A}else o=n;n=Re();var d=n.queue,m=d.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,vl(9,ff(),NT.bind(null,d,s),null)),[o,m,t]}function NT(t,n){t.action=n}function eA(t){var n=Re(),s=$t;if(s!==null)return tA(n,s,t);Re(),n=n.memoizedState,s=Re();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function vl(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=gm(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function ff(){return{destroy:void 0,resource:void 0}}function iA(){return Re().memoizedState}function pf(t,n,s,o){var d=Ri();o=o===void 0?null:o,Dt.flags|=t,d.memoizedState=vl(1|n,ff(),s,o)}function yc(t,n,s,o){var d=Re();o=o===void 0?null:o;var m=d.memoizedState.inst;$t!==null&&o!==null&&cm(o,$t.memoizedState.deps)?d.memoizedState=vl(n,m,s,o):(Dt.flags|=t,d.memoizedState=vl(1|n,m,s,o))}function nA(t,n){pf(8390656,8,t,n)}function aA(t,n){yc(2048,8,t,n)}function sA(t,n){return yc(4,2,t,n)}function rA(t,n){return yc(4,4,t,n)}function oA(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lA(t,n,s){s=s!=null?s.concat([t]):null,yc(4,4,oA.bind(null,n,t),s)}function Sm(){}function uA(t,n){var s=Re();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&cm(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function cA(t,n){var s=Re();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&cm(n,o[1]))return o[0];if(o=t(),Dr){Hi(!0);try{t()}finally{Hi(!1)}}return s.memoizedState=[o,n],o}function _m(t,n,s){return s===void 0||(vs&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=f1(),Dt.lanes|=t,Ts|=t,s)}function hA(t,n,s,o){return Fi(s,n)?s:gl.current!==null?(t=_m(t,s,o),Fi(t,n)||(Ge=!0),t):(vs&42)===0?(Ge=!0,t.memoizedState=s):(t=f1(),Dt.lanes|=t,Ts|=t,n)}function dA(t,n,s,o,d){var m=q.p;q.p=m!==0&&8>m?m:8;var A=H.T,x={};H.T=x,Tm(t,!1,n,s);try{var M=d(),B=H.S;if(B!==null&&B(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var V=kT(M,o);Ac(t,n,V,qi(t))}else Ac(t,n,o,qi(t))}catch(Z){Ac(t,n,{then:function(){},status:"rejected",reason:Z},qi())}finally{q.p=m,H.T=A}}function jT(){}function Em(t,n,s,o){if(t.tag!==5)throw Error(a(476));var d=fA(t).queue;dA(t,d,n,$,s===null?jT:function(){return pA(t),s(o)})}function fA(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:$},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pA(t){var n=fA(t).next.queue;Ac(t,n,{},qi())}function xm(){return li(Hc)}function gA(){return Re().memoizedState}function mA(){return Re().memoizedState}function zT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=qi();t=ms(s);var o=bs(n,t,s);o!==null&&(Vi(o,n,s),pc(o,n,s)),n={cache:tm()},t.payload=n;return}n=n.return}}function PT(t,n,s){var o=qi();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},gf(t)?vA(n,s):(s=qg(t,n,s,o),s!==null&&(Vi(s,t,o),yA(s,n,o)))}function bA(t,n,s){var o=qi();Ac(t,n,s,o)}function Ac(t,n,s,o){var d={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(gf(t))vA(n,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var A=n.lastRenderedState,x=m(A,s);if(d.hasEagerState=!0,d.eagerState=x,Fi(x,A))return Wd(t,n,d,0),se===null&&Qd(),!1}catch{}finally{}if(s=qg(t,n,d,o),s!==null)return Vi(s,t,o),yA(s,n,o),!0}return!1}function Tm(t,n,s,o){if(o={lane:2,revertLane:nb(),action:o,hasEagerState:!1,eagerState:null,next:null},gf(t)){if(n)throw Error(a(479))}else n=qg(t,s,o,2),n!==null&&Vi(n,t,2)}function gf(t){var n=t.alternate;return t===Dt||n!==null&&n===Dt}function vA(t,n){ml=uf=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function yA(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,C0(t,s)}}var mf={readContext:li,use:hf,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae},AA={readContext:li,use:hf,useCallback:function(t,n){return Ri().memoizedState=[t,n===void 0?null:n],t},useContext:li,useEffect:nA,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,pf(4194308,4,oA.bind(null,n,t),s)},useLayoutEffect:function(t,n){return pf(4194308,4,t,n)},useInsertionEffect:function(t,n){pf(4,2,t,n)},useMemo:function(t,n){var s=Ri();n=n===void 0?null:n;var o=t();if(Dr){Hi(!0);try{t()}finally{Hi(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Ri();if(s!==void 0){var d=s(n);if(Dr){Hi(!0);try{s(n)}finally{Hi(!1)}}}else d=n;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=PT.bind(null,Dt,t),[o.memoizedState,t]},useRef:function(t){var n=Ri();return t={current:t},n.memoizedState=t},useState:function(t){t=ym(t);var n=t.queue,s=bA.bind(null,Dt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Sm,useDeferredValue:function(t,n){var s=Ri();return _m(s,t,n)},useTransition:function(){var t=ym(!1);return t=dA.bind(null,Dt,t.queue,!0,!1),Ri().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Dt,d=Ri();if(It){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(Bt&124)!==0||Uy(o,n,s)}d.memoizedState=s;var m={value:s,getSnapshot:n};return d.queue=m,nA(Gy.bind(null,o,m,t),[t]),o.flags|=2048,vl(9,ff(),Iy.bind(null,o,m,s,n),null),s},useId:function(){var t=Ri(),n=se.identifierPrefix;if(It){var s=Aa,o=ya;s=(o&~(1<<32-Ue(o)-1)).toString(32)+s,n="«"+n+"R"+s,s=cf++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=DT++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:xm,useFormState:$y,useActionState:$y,useOptimistic:function(t){var n=Ri();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Tm.bind(null,Dt,!0,s),s.dispatch=n,[t,n]},useMemoCache:mm,useCacheRefresh:function(){return Ri().memoizedState=zT.bind(null,Dt)}},SA={readContext:li,use:hf,useCallback:uA,useContext:li,useEffect:aA,useImperativeHandle:lA,useInsertionEffect:sA,useLayoutEffect:rA,useMemo:cA,useReducer:df,useRef:iA,useState:function(){return df(Ea)},useDebugValue:Sm,useDeferredValue:function(t,n){var s=Re();return hA(s,$t.memoizedState,t,n)},useTransition:function(){var t=df(Ea)[0],n=Re().memoizedState;return[typeof t=="boolean"?t:vc(t),n]},useSyncExternalStore:By,useId:gA,useHostTransitionStatus:xm,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,n){var s=Re();return Xy(s,$t,t,n)},useMemoCache:mm,useCacheRefresh:mA},HT={readContext:li,use:hf,useCallback:uA,useContext:li,useEffect:aA,useImperativeHandle:lA,useInsertionEffect:sA,useLayoutEffect:rA,useMemo:cA,useReducer:vm,useRef:iA,useState:function(){return vm(Ea)},useDebugValue:Sm,useDeferredValue:function(t,n){var s=Re();return $t===null?_m(s,t,n):hA(s,$t.memoizedState,t,n)},useTransition:function(){var t=vm(Ea)[0],n=Re().memoizedState;return[typeof t=="boolean"?t:vc(t),n]},useSyncExternalStore:By,useId:gA,useHostTransitionStatus:xm,useFormState:eA,useActionState:eA,useOptimistic:function(t,n){var s=Re();return $t!==null?Xy(s,$t,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:mm,useCacheRefresh:mA},yl=null,Sc=0;function bf(t){var n=Sc;return Sc+=1,yl===null&&(yl=[]),Ly(yl,t,n)}function _c(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function vf(t,n){throw n.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _A(t){var n=t._init;return n(t._payload)}function EA(t){function n(j,O){if(t){var P=j.deletions;P===null?(j.deletions=[O],j.flags|=16):P.push(O)}}function s(j,O){if(!t)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function d(j,O){return j=va(j,O),j.index=0,j.sibling=null,j}function m(j,O,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<O?(j.flags|=67108866,O):P):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function A(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function x(j,O,P,K){return O===null||O.tag!==6?(O=Xg(P,j.mode,K),O.return=j,O):(O=d(O,P),O.return=j,O)}function M(j,O,P,K){var ct=P.type;return ct===T?V(j,O,P.props.children,K,P.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===W&&_A(ct)===O.type)?(O=d(O,P.props),_c(O,P),O.return=j,O):(O=Jd(P.type,P.key,P.props,null,j.mode,K),_c(O,P),O.return=j,O)}function B(j,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Yg(P,j.mode,K),O.return=j,O):(O=d(O,P.children||[]),O.return=j,O)}function V(j,O,P,K,ct){return O===null||O.tag!==7?(O=Er(P,j.mode,K,ct),O.return=j,O):(O=d(O,P),O.return=j,O)}function Z(j,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Xg(""+O,j.mode,P),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case y:return P=Jd(O.type,O.key,O.props,null,j.mode,P),_c(P,O),P.return=j,P;case _:return O=Yg(O,j.mode,P),O.return=j,O;case W:var K=O._init;return O=K(O._payload),Z(j,O,P)}if(ht(O)||gt(O))return O=Er(O,j.mode,P,null),O.return=j,O;if(typeof O.then=="function")return Z(j,bf(O),P);if(O.$$typeof===N)return Z(j,af(j,O),P);vf(j,O)}return null}function U(j,O,P,K){var ct=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:x(j,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case y:return P.key===ct?M(j,O,P,K):null;case _:return P.key===ct?B(j,O,P,K):null;case W:return ct=P._init,P=ct(P._payload),U(j,O,P,K)}if(ht(P)||gt(P))return ct!==null?null:V(j,O,P,K,null);if(typeof P.then=="function")return U(j,O,bf(P),K);if(P.$$typeof===N)return U(j,O,af(j,P),K);vf(j,P)}return null}function I(j,O,P,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return j=j.get(P)||null,x(O,j,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case y:return j=j.get(K.key===null?P:K.key)||null,M(O,j,K,ct);case _:return j=j.get(K.key===null?P:K.key)||null,B(O,j,K,ct);case W:var Ot=K._init;return K=Ot(K._payload),I(j,O,P,K,ct)}if(ht(K)||gt(K))return j=j.get(P)||null,V(O,j,K,ct,null);if(typeof K.then=="function")return I(j,O,P,bf(K),ct);if(K.$$typeof===N)return I(j,O,P,af(O,K),ct);vf(O,K)}return null}function At(j,O,P,K){for(var ct=null,Ot=null,pt=O,yt=O=0,Ve=null;pt!==null&&yt<P.length;yt++){pt.index>yt?(Ve=pt,pt=null):Ve=pt.sibling;var Ut=U(j,pt,P[yt],K);if(Ut===null){pt===null&&(pt=Ve);break}t&&pt&&Ut.alternate===null&&n(j,pt),O=m(Ut,O,yt),Ot===null?ct=Ut:Ot.sibling=Ut,Ot=Ut,pt=Ve}if(yt===P.length)return s(j,pt),It&&Tr(j,yt),ct;if(pt===null){for(;yt<P.length;yt++)pt=Z(j,P[yt],K),pt!==null&&(O=m(pt,O,yt),Ot===null?ct=pt:Ot.sibling=pt,Ot=pt);return It&&Tr(j,yt),ct}for(pt=o(pt);yt<P.length;yt++)Ve=I(pt,j,yt,P[yt],K),Ve!==null&&(t&&Ve.alternate!==null&&pt.delete(Ve.key===null?yt:Ve.key),O=m(Ve,O,yt),Ot===null?ct=Ve:Ot.sibling=Ve,Ot=Ve);return t&&pt.forEach(function(Ns){return n(j,Ns)}),It&&Tr(j,yt),ct}function vt(j,O,P,K){if(P==null)throw Error(a(151));for(var ct=null,Ot=null,pt=O,yt=O=0,Ve=null,Ut=P.next();pt!==null&&!Ut.done;yt++,Ut=P.next()){pt.index>yt?(Ve=pt,pt=null):Ve=pt.sibling;var Ns=U(j,pt,Ut.value,K);if(Ns===null){pt===null&&(pt=Ve);break}t&&pt&&Ns.alternate===null&&n(j,pt),O=m(Ns,O,yt),Ot===null?ct=Ns:Ot.sibling=Ns,Ot=Ns,pt=Ve}if(Ut.done)return s(j,pt),It&&Tr(j,yt),ct;if(pt===null){for(;!Ut.done;yt++,Ut=P.next())Ut=Z(j,Ut.value,K),Ut!==null&&(O=m(Ut,O,yt),Ot===null?ct=Ut:Ot.sibling=Ut,Ot=Ut);return It&&Tr(j,yt),ct}for(pt=o(pt);!Ut.done;yt++,Ut=P.next())Ut=I(pt,j,yt,Ut.value,K),Ut!==null&&(t&&Ut.alternate!==null&&pt.delete(Ut.key===null?yt:Ut.key),O=m(Ut,O,yt),Ot===null?ct=Ut:Ot.sibling=Ut,Ot=Ut);return t&&pt.forEach(function(Fw){return n(j,Fw)}),It&&Tr(j,yt),ct}function te(j,O,P,K){if(typeof P=="object"&&P!==null&&P.type===T&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case y:t:{for(var ct=P.key;O!==null;){if(O.key===ct){if(ct=P.type,ct===T){if(O.tag===7){s(j,O.sibling),K=d(O,P.props.children),K.return=j,j=K;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===W&&_A(ct)===O.type){s(j,O.sibling),K=d(O,P.props),_c(K,P),K.return=j,j=K;break t}s(j,O);break}else n(j,O);O=O.sibling}P.type===T?(K=Er(P.props.children,j.mode,K,P.key),K.return=j,j=K):(K=Jd(P.type,P.key,P.props,null,j.mode,K),_c(K,P),K.return=j,j=K)}return A(j);case _:t:{for(ct=P.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(j,O.sibling),K=d(O,P.children||[]),K.return=j,j=K;break t}else{s(j,O);break}else n(j,O);O=O.sibling}K=Yg(P,j.mode,K),K.return=j,j=K}return A(j);case W:return ct=P._init,P=ct(P._payload),te(j,O,P,K)}if(ht(P))return At(j,O,P,K);if(gt(P)){if(ct=gt(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),vt(j,O,P,K)}if(typeof P.then=="function")return te(j,O,bf(P),K);if(P.$$typeof===N)return te(j,O,af(j,P),K);vf(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(j,O.sibling),K=d(O,P),K.return=j,j=K):(s(j,O),K=Xg(P,j.mode,K),K.return=j,j=K),A(j)):s(j,O)}return function(j,O,P,K){try{Sc=0;var ct=te(j,O,P,K);return yl=null,ct}catch(pt){if(pt===dc||pt===rf)throw pt;var Ot=Bi(29,pt,null,j.mode);return Ot.lanes=K,Ot.return=j,Ot}finally{}}}var Al=EA(!0),xA=EA(!1),hn=Y(null),Vn=null;function ys(t){var n=t.alternate;J(Oe,Oe.current&1),J(hn,t),Vn===null&&(n===null||gl.current!==null||n.memoizedState!==null)&&(Vn=t)}function TA(t){if(t.tag===22){if(J(Oe,Oe.current),J(hn,t),Vn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Vn=t)}}else As()}function As(){J(Oe,Oe.current),J(hn,hn.current)}function xa(t){tt(hn),Vn===t&&(Vn=null),tt(Oe)}var Oe=Y(0);function yf(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||gb(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wm(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Cm={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=qi(),d=ms(o);d.payload=n,s!=null&&(d.callback=s),n=bs(t,d,o),n!==null&&(Vi(n,t,o),pc(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=qi(),d=ms(o);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=bs(t,d,o),n!==null&&(Vi(n,t,o),pc(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=qi(),o=ms(s);o.tag=2,n!=null&&(o.callback=n),n=bs(t,o,s),n!==null&&(Vi(n,t,s),pc(n,t,s))}};function wA(t,n,s,o,d,m,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,A):n.prototype&&n.prototype.isPureReactComponent?!ac(s,o)||!ac(d,m):!0}function CA(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Cm.enqueueReplaceState(n,n.state,null)}function Lr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=b({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}var Af=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function RA(t){Af(t)}function MA(t){console.error(t)}function kA(t){Af(t)}function Sf(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function DA(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Rm(t,n,s){return s=ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Sf(t,n)},s}function LA(t){return t=ms(t),t.tag=3,t}function OA(t,n,s,o){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;t.payload=function(){return d(m)},t.callback=function(){DA(n,s,o)}}var A=s.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){DA(n,s,o),typeof d!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function FT(t,n,s,o,d){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&uc(n,s,d,!0),s=hn.current,s!==null){switch(s.tag){case 13:return Vn===null?$m():s.alternate===null&&be===0&&(be=3),s.flags&=-257,s.flags|=65536,s.lanes=d,o===nm?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),tb(t,o,d)),!1;case 22:return s.flags|=65536,o===nm?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),tb(t,o,d)),!1}throw Error(a(435,s.tag))}return tb(t,o,d),$m(),!1}if(It)return n=hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==Qg&&(t=Error(a(422),{cause:o}),lc(on(t,s)))):(o!==Qg&&(n=Error(a(423),{cause:o}),lc(on(n,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=on(o,s),d=Rm(t.stateNode,o,d),rm(t,d),be!==4&&(be=2)),!1;var m=Error(a(520),{cause:o});if(m=on(m,s),Mc===null?Mc=[m]:Mc.push(m),be!==4&&(be=2),n===null)return!0;o=on(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Rm(s.stateNode,o,t),rm(s,t),!1;case 1:if(n=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ws===null||!ws.has(m))))return s.flags|=65536,d&=-d,s.lanes|=d,d=LA(d),OA(d,t,s,o),rm(s,d),!1}s=s.return}while(s!==null);return!1}var NA=Error(a(461)),Ge=!1;function Je(t,n,s,o){n.child=t===null?xA(n,null,s,o):Al(n,t.child,s,o)}function jA(t,n,s,o,d){s=s.render;var m=n.ref;if("ref"in o){var A={};for(var x in o)x!=="ref"&&(A[x]=o[x])}else A=o;return Mr(n),o=hm(t,n,s,A,m,d),x=dm(),t!==null&&!Ge?(fm(t,n,d),Ta(t,n,d)):(It&&x&&Kg(n),n.flags|=1,Je(t,n,o,d),n.child)}function zA(t,n,s,o,d){if(t===null){var m=s.type;return typeof m=="function"&&!Vg(m)&&m.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=m,PA(t,n,m,o,d)):(t=Jd(s.type,null,o,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!zm(t,d)){var A=m.memoizedProps;if(s=s.compare,s=s!==null?s:ac,s(A,o)&&t.ref===n.ref)return Ta(t,n,d)}return n.flags|=1,t=va(m,o),t.ref=n.ref,t.return=n,n.child=t}function PA(t,n,s,o,d){if(t!==null){var m=t.memoizedProps;if(ac(m,o)&&t.ref===n.ref)if(Ge=!1,n.pendingProps=o=m,zm(t,d))(t.flags&131072)!==0&&(Ge=!0);else return n.lanes=t.lanes,Ta(t,n,d)}return Mm(t,n,s,o,d)}function HA(t,n,s){var o=n.pendingProps,d=o.children,m=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=m!==null?m.baseLanes|s:s,t!==null){for(d=n.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;n.childLanes=m&~o}else n.childLanes=0,n.child=null;return FA(t,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&sf(n,m!==null?m.cachePool:null),m!==null?Py(n,m):lm(),TA(n);else return n.lanes=n.childLanes=536870912,FA(t,n,m!==null?m.baseLanes|s:s,s)}else m!==null?(sf(n,m.cachePool),Py(n,m),As(),n.memoizedState=null):(t!==null&&sf(n,null),lm(),As());return Je(t,n,d,s),n.child}function FA(t,n,s,o){var d=im();return d=d===null?null:{parent:Le._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},t!==null&&sf(n,null),lm(),TA(n),t!==null&&uc(t,n,o,!0),null}function _f(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Mm(t,n,s,o,d){return Mr(n),s=hm(t,n,s,o,void 0,d),o=dm(),t!==null&&!Ge?(fm(t,n,d),Ta(t,n,d)):(It&&o&&Kg(n),n.flags|=1,Je(t,n,s,d),n.child)}function BA(t,n,s,o,d,m){return Mr(n),n.updateQueue=null,s=Fy(n,o,s,d),Hy(t),o=dm(),t!==null&&!Ge?(fm(t,n,m),Ta(t,n,m)):(It&&o&&Kg(n),n.flags|=1,Je(t,n,s,m),n.child)}function UA(t,n,s,o,d){if(Mr(n),n.stateNode===null){var m=cl,A=s.contextType;typeof A=="object"&&A!==null&&(m=li(A)),m=new s(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Cm,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},am(n),A=s.contextType,m.context=typeof A=="object"&&A!==null?li(A):cl,m.state=n.memoizedState,A=s.getDerivedStateFromProps,typeof A=="function"&&(wm(n,s,A,o),m.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(A=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),A!==m.state&&Cm.enqueueReplaceState(m,m.state,null),mc(n,o,m,d),gc(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){m=n.stateNode;var x=n.memoizedProps,M=Lr(s,x);m.props=M;var B=m.context,V=s.contextType;A=cl,typeof V=="object"&&V!==null&&(A=li(V));var Z=s.getDerivedStateFromProps;V=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||B!==A)&&CA(n,m,o,A),gs=!1;var U=n.memoizedState;m.state=U,mc(n,o,m,d),gc(),B=n.memoizedState,x||U!==B||gs?(typeof Z=="function"&&(wm(n,s,Z,o),B=n.memoizedState),(M=gs||wA(n,s,M,o,U,B,A))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),m.props=o,m.state=B,m.context=A,o=M):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,sm(t,n),A=n.memoizedProps,V=Lr(s,A),m.props=V,Z=n.pendingProps,U=m.context,B=s.contextType,M=cl,typeof B=="object"&&B!==null&&(M=li(B)),x=s.getDerivedStateFromProps,(B=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A!==Z||U!==M)&&CA(n,m,o,M),gs=!1,U=n.memoizedState,m.state=U,mc(n,o,m,d),gc();var I=n.memoizedState;A!==Z||U!==I||gs||t!==null&&t.dependencies!==null&&nf(t.dependencies)?(typeof x=="function"&&(wm(n,s,x,o),I=n.memoizedState),(V=gs||wA(n,s,V,o,U,I,M)||t!==null&&t.dependencies!==null&&nf(t.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,I,M),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,I,M)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||A===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=I),m.props=o,m.state=I,m.context=M,o=V):(typeof m.componentDidUpdate!="function"||A===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),o=!1)}return m=o,_f(t,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&o?(n.child=Al(n,t.child,null,d),n.child=Al(n,null,s,d)):Je(t,n,s,d),n.memoizedState=m.state,t=n.child):t=Ta(t,n,d),t}function IA(t,n,s,o){return oc(),n.flags|=256,Je(t,n,s,o),n.child}var km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dm(t){return{baseLanes:t,cachePool:My()}}function Lm(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=dn),t}function GA(t,n,s){var o=n.pendingProps,d=!1,m=(n.flags&128)!==0,A;if((A=m)||(A=t!==null&&t.memoizedState===null?!1:(Oe.current&2)!==0),A&&(d=!0,n.flags&=-129),A=(n.flags&32)!==0,n.flags&=-33,t===null){if(It){if(d?ys(n):As(),It){var x=me,M;if(M=x){t:{for(M=x,x=qn;M.nodeType!==8;){if(!x){x=null;break t}if(M=wn(M.nextSibling),M===null){x=null;break t}}x=M}x!==null?(n.memoizedState={dehydrated:x,treeContext:xr!==null?{id:ya,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},M=Bi(18,null,null,0),M.stateNode=x,M.return=n,n.child=M,vi=n,me=null,M=!0):M=!1}M||Cr(n)}if(x=n.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return gb(x)?n.lanes=32:n.lanes=536870912,null;xa(n)}return x=o.children,o=o.fallback,d?(As(),d=n.mode,x=Ef({mode:"hidden",children:x},d),o=Er(o,d,s,null),x.return=n,o.return=n,x.sibling=o,n.child=x,d=n.child,d.memoizedState=Dm(s),d.childLanes=Lm(t,A,s),n.memoizedState=km,o):(ys(n),Om(n,x))}if(M=t.memoizedState,M!==null&&(x=M.dehydrated,x!==null)){if(m)n.flags&256?(ys(n),n.flags&=-257,n=Nm(t,n,s)):n.memoizedState!==null?(As(),n.child=t.child,n.flags|=128,n=null):(As(),d=o.fallback,x=n.mode,o=Ef({mode:"visible",children:o.children},x),d=Er(d,x,s,null),d.flags|=2,o.return=n,d.return=n,o.sibling=d,n.child=o,Al(n,t.child,null,s),o=n.child,o.memoizedState=Dm(s),o.childLanes=Lm(t,A,s),n.memoizedState=km,n=d);else if(ys(n),gb(x)){if(A=x.nextSibling&&x.nextSibling.dataset,A)var B=A.dgst;A=B,o=Error(a(419)),o.stack="",o.digest=A,lc({value:o,source:null,stack:null}),n=Nm(t,n,s)}else if(Ge||uc(t,n,s,!1),A=(s&t.childLanes)!==0,Ge||A){if(A=se,A!==null&&(o=s&-s,o=(o&42)!==0?1:mg(o),o=(o&(A.suspendedLanes|s))!==0?0:o,o!==0&&o!==M.retryLane))throw M.retryLane=o,ul(t,o),Vi(A,t,o),NA;x.data==="$?"||$m(),n=Nm(t,n,s)}else x.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=M.treeContext,me=wn(x.nextSibling),vi=n,It=!0,wr=null,qn=!1,t!==null&&(un[cn++]=ya,un[cn++]=Aa,un[cn++]=xr,ya=t.id,Aa=t.overflow,xr=n),n=Om(n,o.children),n.flags|=4096);return n}return d?(As(),d=o.fallback,x=n.mode,M=t.child,B=M.sibling,o=va(M,{mode:"hidden",children:o.children}),o.subtreeFlags=M.subtreeFlags&65011712,B!==null?d=va(B,d):(d=Er(d,x,s,null),d.flags|=2),d.return=n,o.return=n,o.sibling=d,n.child=o,o=d,d=n.child,x=t.child.memoizedState,x===null?x=Dm(s):(M=x.cachePool,M!==null?(B=Le._currentValue,M=M.parent!==B?{parent:B,pool:B}:M):M=My(),x={baseLanes:x.baseLanes|s,cachePool:M}),d.memoizedState=x,d.childLanes=Lm(t,A,s),n.memoizedState=km,o):(ys(n),s=t.child,t=s.sibling,s=va(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(A=n.deletions,A===null?(n.deletions=[t],n.flags|=16):A.push(t)),n.child=s,n.memoizedState=null,s)}function Om(t,n){return n=Ef({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ef(t,n){return t=Bi(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Nm(t,n,s){return Al(n,t.child,null,s),t=Om(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function qA(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),$g(t.return,n,s)}function jm(t,n,s,o,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:d}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=s,m.tailMode=d)}function VA(t,n,s){var o=n.pendingProps,d=o.revealOrder,m=o.tail;if(Je(t,n,o.children,s),o=Oe.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qA(t,s,n);else if(t.tag===19)qA(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(J(Oe,o),d){case"forwards":for(s=n.child,d=null;s!==null;)t=s.alternate,t!==null&&yf(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=n.child,n.child=null):(d=s.sibling,s.sibling=null),jm(n,!1,d,s,m);break;case"backwards":for(s=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&yf(t)===null){n.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}jm(n,!0,s,null,m);break;case"together":jm(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ta(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Ts|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(uc(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=va(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=va(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function zm(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&nf(t)))}function BT(t,n,s){switch(n.tag){case 3:Ht(n,n.stateNode.containerInfo),ps(n,Le,t.memoizedState.cache),oc();break;case 27:case 5:Wt(n);break;case 4:Ht(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ys(n),n.flags|=128,null):(s&n.child.childLanes)!==0?GA(t,n,s):(ys(n),t=Ta(t,n,s),t!==null?t.sibling:null);ys(n);break;case 19:var d=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(uc(t,n,s,!1),o=(s&n.childLanes)!==0),d){if(o)return VA(t,n,s);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(Oe,Oe.current),o)break;return null;case 22:case 23:return n.lanes=0,HA(t,n,s);case 24:ps(n,Le,t.memoizedState.cache)}return Ta(t,n,s)}function XA(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ge=!0;else{if(!zm(t,s)&&(n.flags&128)===0)return Ge=!1,BT(t,n,s);Ge=(t.flags&131072)!==0}else Ge=!1,It&&(n.flags&1048576)!==0&&_y(n,ef,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var o=n.elementType,d=o._init;if(o=d(o._payload),n.type=o,typeof o=="function")Vg(o)?(t=Lr(o,t),n.tag=1,n=UA(null,n,o,t,s)):(n.tag=0,n=Mm(null,n,o,t,s));else{if(o!=null){if(d=o.$$typeof,d===z){n.tag=11,n=jA(null,n,o,t,s);break t}else if(d===X){n.tag=14,n=zA(null,n,o,t,s);break t}}throw n=ft(o)||o,Error(a(306,n,""))}}return n;case 0:return Mm(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,d=Lr(o,n.pendingProps),UA(t,n,o,d,s);case 3:t:{if(Ht(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var m=n.memoizedState;d=m.element,sm(t,n),mc(n,o,null,s);var A=n.memoizedState;if(o=A.cache,ps(n,Le,o),o!==m.cache&&Jg(n,[Le],s,!0),gc(),o=A.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:A.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=IA(t,n,o,s);break t}else if(o!==d){d=on(Error(a(424)),n),lc(d),n=IA(t,n,o,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(me=wn(t.firstChild),vi=n,It=!0,wr=null,qn=!0,s=xA(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(oc(),o===d){n=Ta(t,n,s);break t}Je(t,n,o,s)}n=n.child}return n;case 26:return _f(t,n),t===null?(s=Q1(n.type,null,n.pendingProps,null))?n.memoizedState=s:It||(s=n.type,t=n.pendingProps,o=Pf(ut.current).createElement(s),o[oi]=n,o[wi]=t,ei(o,s,t),Ie(o),n.stateNode=o):n.memoizedState=Q1(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Wt(n),t===null&&It&&(o=n.stateNode=Y1(n.type,n.pendingProps,ut.current),vi=n,qn=!0,d=me,Ms(n.type)?(mb=d,me=wn(o.firstChild)):me=d),Je(t,n,n.pendingProps.children,s),_f(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&It&&((d=o=me)&&(o=pw(o,n.type,n.pendingProps,qn),o!==null?(n.stateNode=o,vi=n,me=wn(o.firstChild),qn=!1,d=!0):d=!1),d||Cr(n)),Wt(n),d=n.type,m=n.pendingProps,A=t!==null?t.memoizedProps:null,o=m.children,db(d,m)?o=null:A!==null&&db(d,A)&&(n.flags|=32),n.memoizedState!==null&&(d=hm(t,n,LT,null,null,s),Hc._currentValue=d),_f(t,n),Je(t,n,o,s),n.child;case 6:return t===null&&It&&((t=s=me)&&(s=gw(s,n.pendingProps,qn),s!==null?(n.stateNode=s,vi=n,me=null,t=!0):t=!1),t||Cr(n)),null;case 13:return GA(t,n,s);case 4:return Ht(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Al(n,null,o,s):Je(t,n,o,s),n.child;case 11:return jA(t,n,n.type,n.pendingProps,s);case 7:return Je(t,n,n.pendingProps,s),n.child;case 8:return Je(t,n,n.pendingProps.children,s),n.child;case 12:return Je(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ps(n,n.type,o.value),Je(t,n,o.children,s),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,Mr(n),d=li(d),o=o(d),n.flags|=1,Je(t,n,o,s),n.child;case 14:return zA(t,n,n.type,n.pendingProps,s);case 15:return PA(t,n,n.type,n.pendingProps,s);case 19:return VA(t,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},t===null?(s=Ef(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=va(t.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return HA(t,n,s);case 24:return Mr(n),o=li(Le),t===null?(d=im(),d===null&&(d=se,m=tm(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=s),d=m),n.memoizedState={parent:o,cache:d},am(n),ps(n,Le,d)):((t.lanes&s)!==0&&(sm(t,n),mc(n,null,null,s),gc()),d=t.memoizedState,m=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),ps(n,Le,o)):(o=m.cache,ps(n,Le,o),o!==d.cache&&Jg(n,[Le],s,!0))),Je(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function wa(t){t.flags|=4}function YA(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!eS(n)){if(n=hn.current,n!==null&&((Bt&4194048)===Bt?Vn!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||n!==Vn))throw fc=nm,ky;t.flags|=8192}}function xf(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?T0():536870912,t.lanes|=n,xl|=n)}function Ec(t,n){if(!It)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function he(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function UT(t,n,s){var o=n.pendingProps;switch(Zg(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),_a(Le),xe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(rc(n)?wa(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ty())),he(n),null;case 26:return s=n.memoizedState,t===null?(wa(n),s!==null?(he(n),YA(n,s)):(he(n),n.flags&=-16777217)):s?s!==t.memoizedState?(wa(n),he(n),YA(n,s)):(he(n),n.flags&=-16777217):(t.memoizedProps!==o&&wa(n),he(n),n.flags&=-16777217),null;case 27:Gn(n),s=ut.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&wa(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return he(n),null}t=lt.current,rc(n)?Ey(n):(t=Y1(d,o,s),n.stateNode=t,wa(n))}return he(n),null;case 5:if(Gn(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&wa(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return he(n),null}if(t=lt.current,rc(n))Ey(n);else{switch(d=Pf(ut.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?d.createElement(s,{is:o.is}):d.createElement(s)}}t[oi]=n,t[wi]=o;t:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break t;for(;d.sibling===null;){if(d.return===null||d.return===n)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;t:switch(ei(t,s,o),s){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wa(n)}}return he(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&wa(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=ut.current,rc(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,d=vi,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[oi]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||B1(t.nodeValue,s)),t||Cr(n)}else t=Pf(t).createTextNode(o),t[oi]=n,n.stateNode=t}return he(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=rc(n),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[oi]=n}else oc(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),d=!1}else d=Ty(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(xa(n),n):(xa(n),null)}if(xa(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,t=t!==null&&t.memoizedState!==null,s){o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),xf(n,n.updateQueue),he(n),null;case 4:return xe(),t===null&&ob(n.stateNode.containerInfo),he(n),null;case 10:return _a(n.type),he(n),null;case 19:if(tt(Oe),d=n.memoizedState,d===null)return he(n),null;if(o=(n.flags&128)!==0,m=d.rendering,m===null)if(o)Ec(d,!1);else{if(be!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=yf(t),m!==null){for(n.flags|=128,Ec(d,!1),t=m.updateQueue,n.updateQueue=t,xf(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Sy(s,t),s=s.sibling;return J(Oe,Oe.current&1|2),n.child}t=t.sibling}d.tail!==null&&$e()>Cf&&(n.flags|=128,o=!0,Ec(d,!1),n.lanes=4194304)}else{if(!o)if(t=yf(m),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,xf(n,t),Ec(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!It)return he(n),null}else 2*$e()-d.renderingStartTime>Cf&&s!==536870912&&(n.flags|=128,o=!0,Ec(d,!1),n.lanes=4194304);d.isBackwards?(m.sibling=n.child,n.child=m):(t=d.last,t!==null?t.sibling=m:n.child=m,d.last=m)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=$e(),n.sibling=null,t=Oe.current,J(Oe,o?t&1|2:t&1),n):(he(n),null);case 22:case 23:return xa(n),um(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),s=n.updateQueue,s!==null&&xf(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&tt(kr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),_a(Le),he(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function IT(t,n){switch(Zg(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return _a(Le),xe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Gn(n),null;case 13:if(xa(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));oc()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(Oe),null;case 4:return xe(),null;case 10:return _a(n.type),null;case 22:case 23:return xa(n),um(),t!==null&&tt(kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return _a(Le),null;case 25:return null;default:return null}}function KA(t,n){switch(Zg(n),n.tag){case 3:_a(Le),xe();break;case 26:case 27:case 5:Gn(n);break;case 4:xe();break;case 13:xa(n);break;case 19:tt(Oe);break;case 10:_a(n.type);break;case 22:case 23:xa(n),um(),t!==null&&tt(kr);break;case 24:_a(Le)}}function xc(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&t)===t){o=void 0;var m=s.create,A=s.inst;o=m(),A.destroy=o}s=s.next}while(s!==d)}}catch(x){ne(n,n.return,x)}}function Ss(t,n,s){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&t)===t){var A=o.inst,x=A.destroy;if(x!==void 0){A.destroy=void 0,d=n;var M=s,B=x;try{B()}catch(V){ne(d,M,V)}}}o=o.next}while(o!==m)}}catch(V){ne(n,n.return,V)}}function ZA(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{zy(n,s)}catch(o){ne(t,t.return,o)}}}function QA(t,n,s){s.props=Lr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){ne(t,n,o)}}function Tc(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(d){ne(t,n,d)}}function Xn(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(d){ne(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){ne(t,n,d)}else s.current=null}function WA(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(d){ne(t,t.return,d)}}function Pm(t,n,s){try{var o=t.stateNode;uw(o,t.type,s,n),o[wi]=n}catch(d){ne(t,t.return,d)}}function $A(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ms(t.type)||t.tag===4}function Hm(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||$A(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fm(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=zf));else if(o!==4&&(o===27&&Ms(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Fm(t,n,s),t=t.sibling;t!==null;)Fm(t,n,s),t=t.sibling}function Tf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&Ms(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Tf(t,n,s),t=t.sibling;t!==null;)Tf(t,n,s),t=t.sibling}function JA(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ei(n,o,s),n[oi]=t,n[wi]=s}catch(m){ne(t,t.return,m)}}var Ca=!1,Se=!1,Bm=!1,t1=typeof WeakSet=="function"?WeakSet:Set,qe=null;function GT(t,n){if(t=t.containerInfo,cb=Gf,t=hy(t),Hg(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break t}var A=0,x=-1,M=-1,B=0,V=0,Z=t,U=null;e:for(;;){for(var I;Z!==s||d!==0&&Z.nodeType!==3||(x=A+d),Z!==m||o!==0&&Z.nodeType!==3||(M=A+o),Z.nodeType===3&&(A+=Z.nodeValue.length),(I=Z.firstChild)!==null;)U=Z,Z=I;for(;;){if(Z===t)break e;if(U===s&&++B===d&&(x=A),U===m&&++V===o&&(M=A),(I=Z.nextSibling)!==null)break;Z=U,U=Z.parentNode}Z=I}s=x===-1||M===-1?null:{start:x,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(hb={focusedElem:t,selectionRange:s},Gf=!1,qe=n;qe!==null;)if(n=qe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,qe=t;else for(;qe!==null;){switch(n=qe,m=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=n,d=m.memoizedProps,m=m.memoizedState,o=s.stateNode;try{var At=Lr(s.type,d,s.elementType===s.type);t=o.getSnapshotBeforeUpdate(At,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(vt){ne(s,s.return,vt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)pb(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pb(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,qe=t;break}qe=n.return}}function e1(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:_s(t,s),o&4&&xc(5,s);break;case 1:if(_s(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(A){ne(s,s.return,A)}else{var d=Lr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(A){ne(s,s.return,A)}}o&64&&ZA(s),o&512&&Tc(s,s.return);break;case 3:if(_s(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{zy(t,n)}catch(A){ne(s,s.return,A)}}break;case 27:n===null&&o&4&&JA(s);case 26:case 5:_s(t,s),n===null&&o&4&&WA(s),o&512&&Tc(s,s.return);break;case 12:_s(t,s);break;case 13:_s(t,s),o&4&&a1(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=$T.bind(null,s),mw(t,s))));break;case 22:if(o=s.memoizedState!==null||Ca,!o){n=n!==null&&n.memoizedState!==null||Se,d=Ca;var m=Se;Ca=o,(Se=n)&&!m?Es(t,s,(s.subtreeFlags&8772)!==0):_s(t,s),Ca=d,Se=m}break;case 30:break;default:_s(t,s)}}function i1(t){var n=t.alternate;n!==null&&(t.alternate=null,i1(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&yg(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ue=null,Mi=!1;function Ra(t,n,s){for(s=s.child;s!==null;)n1(t,n,s),s=s.sibling}function n1(t,n,s){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(br,s)}catch{}switch(s.tag){case 26:Se||Xn(s,n),Ra(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||Xn(s,n);var o=ue,d=Mi;Ms(s.type)&&(ue=s.stateNode,Mi=!1),Ra(t,n,s),Nc(s.stateNode),ue=o,Mi=d;break;case 5:Se||Xn(s,n);case 6:if(o=ue,d=Mi,ue=null,Ra(t,n,s),ue=o,Mi=d,ue!==null)if(Mi)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(m){ne(s,n,m)}else try{ue.removeChild(s.stateNode)}catch(m){ne(s,n,m)}break;case 18:ue!==null&&(Mi?(t=ue,V1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Ic(t)):V1(ue,s.stateNode));break;case 4:o=ue,d=Mi,ue=s.stateNode.containerInfo,Mi=!0,Ra(t,n,s),ue=o,Mi=d;break;case 0:case 11:case 14:case 15:Se||Ss(2,s,n),Se||Ss(4,s,n),Ra(t,n,s);break;case 1:Se||(Xn(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&QA(s,n,o)),Ra(t,n,s);break;case 21:Ra(t,n,s);break;case 22:Se=(o=Se)||s.memoizedState!==null,Ra(t,n,s),Se=o;break;default:Ra(t,n,s)}}function a1(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ic(t)}catch(s){ne(n,n.return,s)}}function qT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new t1),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new t1),n;default:throw Error(a(435,t.tag))}}function Um(t,n){var s=qT(t);n.forEach(function(o){var d=JT.bind(null,t,o);s.has(o)||(s.add(o),o.then(d,d))})}function Ui(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var d=s[o],m=t,A=n,x=A;t:for(;x!==null;){switch(x.tag){case 27:if(Ms(x.type)){ue=x.stateNode,Mi=!1;break t}break;case 5:ue=x.stateNode,Mi=!1;break t;case 3:case 4:ue=x.stateNode.containerInfo,Mi=!0;break t}x=x.return}if(ue===null)throw Error(a(160));n1(m,A,d),ue=null,Mi=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)s1(n,t),n=n.sibling}var Tn=null;function s1(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ui(n,t),Ii(t),o&4&&(Ss(3,t,t.return),xc(3,t),Ss(5,t,t.return));break;case 1:Ui(n,t),Ii(t),o&512&&(Se||s===null||Xn(s,s.return)),o&64&&Ca&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var d=Tn;if(Ui(n,t),Ii(t),o&512&&(Se||s===null||Xn(s,s.return)),o&4){var m=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){t:{o=t.type,s=t.memoizedProps,d=d.ownerDocument||d;e:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Zu]||m[oi]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),ei(m,o,s),m[oi]=t,Ie(m),o=m;break t;case"link":var A=J1("link","href",d).get(o+(s.href||""));if(A){for(var x=0;x<A.length;x++)if(m=A[x],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){A.splice(x,1);break e}}m=d.createElement(o),ei(m,o,s),d.head.appendChild(m);break;case"meta":if(A=J1("meta","content",d).get(o+(s.content||""))){for(x=0;x<A.length;x++)if(m=A[x],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){A.splice(x,1);break e}}m=d.createElement(o),ei(m,o,s),d.head.appendChild(m);break;default:throw Error(a(468,o))}m[oi]=t,Ie(m),o=m}t.stateNode=o}else tS(d,t.type,t.stateNode);else t.stateNode=$1(d,o,t.memoizedProps);else m!==o?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,o===null?tS(d,t.type,t.stateNode):$1(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Pm(t,t.memoizedProps,s.memoizedProps)}break;case 27:Ui(n,t),Ii(t),o&512&&(Se||s===null||Xn(s,s.return)),s!==null&&o&4&&Pm(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Ui(n,t),Ii(t),o&512&&(Se||s===null||Xn(s,s.return)),t.flags&32){d=t.stateNode;try{il(d,"")}catch(I){ne(t,t.return,I)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,Pm(t,d,s!==null?s.memoizedProps:d)),o&1024&&(Bm=!0);break;case 6:if(Ui(n,t),Ii(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(I){ne(t,t.return,I)}}break;case 3:if(Bf=null,d=Tn,Tn=Hf(n.containerInfo),Ui(n,t),Tn=d,Ii(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ic(n.containerInfo)}catch(I){ne(t,t.return,I)}Bm&&(Bm=!1,r1(t));break;case 4:o=Tn,Tn=Hf(t.stateNode.containerInfo),Ui(n,t),Ii(t),Tn=o;break;case 12:Ui(n,t),Ii(t);break;case 13:Ui(n,t),Ii(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ym=$e()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Um(t,o)));break;case 22:d=t.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,B=Ca,V=Se;if(Ca=B||d,Se=V||M,Ui(n,t),Se=V,Ca=B,Ii(t),o&8192)t:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(s===null||M||Ca||Se||Or(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){M=s=n;try{if(m=M.stateNode,d)A=m.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{x=M.stateNode;var Z=M.memoizedProps.style,U=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;x.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(I){ne(M,M.return,I)}}}else if(n.tag===6){if(s===null){M=n;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(I){ne(M,M.return,I)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Um(t,s))));break;case 19:Ui(n,t),Ii(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Um(t,o)));break;case 30:break;case 21:break;default:Ui(n,t),Ii(t)}}function Ii(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if($A(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var d=s.stateNode,m=Hm(t);Tf(t,m,d);break;case 5:var A=s.stateNode;s.flags&32&&(il(A,""),s.flags&=-33);var x=Hm(t);Tf(t,x,A);break;case 3:case 4:var M=s.stateNode.containerInfo,B=Hm(t);Fm(t,B,M);break;default:throw Error(a(161))}}catch(V){ne(t,t.return,V)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function r1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;r1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function _s(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)e1(t,n.alternate,n),n=n.sibling}function Or(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ss(4,n,n.return),Or(n);break;case 1:Xn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&QA(n,n.return,s),Or(n);break;case 27:Nc(n.stateNode);case 26:case 5:Xn(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}t=t.sibling}}function Es(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=t,m=n,A=m.flags;switch(m.tag){case 0:case 11:case 15:Es(d,m,s),xc(4,m);break;case 1:if(Es(d,m,s),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){ne(o,o.return,B)}if(o=m,d=o.updateQueue,d!==null){var x=o.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)jy(M[d],x)}catch(B){ne(o,o.return,B)}}s&&A&64&&ZA(m),Tc(m,m.return);break;case 27:JA(m);case 26:case 5:Es(d,m,s),s&&o===null&&A&4&&WA(m),Tc(m,m.return);break;case 12:Es(d,m,s);break;case 13:Es(d,m,s),s&&A&4&&a1(d,m);break;case 22:m.memoizedState===null&&Es(d,m,s),Tc(m,m.return);break;case 30:break;default:Es(d,m,s)}n=n.sibling}}function Im(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&cc(s))}function Gm(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cc(t))}function Yn(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)o1(t,n,s,o),n=n.sibling}function o1(t,n,s,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(t,n,s,o),d&2048&&xc(9,n);break;case 1:Yn(t,n,s,o);break;case 3:Yn(t,n,s,o),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cc(t)));break;case 12:if(d&2048){Yn(t,n,s,o),t=n.stateNode;try{var m=n.memoizedProps,A=m.id,x=m.onPostCommit;typeof x=="function"&&x(A,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){ne(n,n.return,M)}}else Yn(t,n,s,o);break;case 13:Yn(t,n,s,o);break;case 23:break;case 22:m=n.stateNode,A=n.alternate,n.memoizedState!==null?m._visibility&2?Yn(t,n,s,o):wc(t,n):m._visibility&2?Yn(t,n,s,o):(m._visibility|=2,Sl(t,n,s,o,(n.subtreeFlags&10256)!==0)),d&2048&&Im(A,n);break;case 24:Yn(t,n,s,o),d&2048&&Gm(n.alternate,n);break;default:Yn(t,n,s,o)}}function Sl(t,n,s,o,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=t,A=n,x=s,M=o,B=A.flags;switch(A.tag){case 0:case 11:case 15:Sl(m,A,x,M,d),xc(8,A);break;case 23:break;case 22:var V=A.stateNode;A.memoizedState!==null?V._visibility&2?Sl(m,A,x,M,d):wc(m,A):(V._visibility|=2,Sl(m,A,x,M,d)),d&&B&2048&&Im(A.alternate,A);break;case 24:Sl(m,A,x,M,d),d&&B&2048&&Gm(A.alternate,A);break;default:Sl(m,A,x,M,d)}n=n.sibling}}function wc(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,d=o.flags;switch(o.tag){case 22:wc(s,o),d&2048&&Im(o.alternate,o);break;case 24:wc(s,o),d&2048&&Gm(o.alternate,o);break;default:wc(s,o)}n=n.sibling}}var Cc=8192;function _l(t){if(t.subtreeFlags&Cc)for(t=t.child;t!==null;)l1(t),t=t.sibling}function l1(t){switch(t.tag){case 26:_l(t),t.flags&Cc&&t.memoizedState!==null&&Mw(Tn,t.memoizedState,t.memoizedProps);break;case 5:_l(t);break;case 3:case 4:var n=Tn;Tn=Hf(t.stateNode.containerInfo),_l(t),Tn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Cc,Cc=16777216,_l(t),Cc=n):_l(t));break;default:_l(t)}}function u1(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,h1(o,t)}u1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c1(t),t=t.sibling}function c1(t){switch(t.tag){case 0:case 11:case 15:Rc(t),t.flags&2048&&Ss(9,t,t.return);break;case 3:Rc(t);break;case 12:Rc(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,wf(t)):Rc(t);break;default:Rc(t)}}function wf(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,h1(o,t)}u1(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ss(8,n,n.return),wf(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,wf(n));break;default:wf(n)}t=t.sibling}}function h1(t,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Ss(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:cc(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=t;qe!==null;){o=qe;var d=o.sibling,m=o.return;if(i1(o),o===s){qe=null;break t}if(d!==null){d.return=m,qe=d;break t}qe=m}}}var VT={getCacheForType:function(t){var n=li(Le),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},XT=typeof WeakMap=="function"?WeakMap:Map,Xt=0,se=null,jt=null,Bt=0,Yt=0,Gi=null,xs=!1,El=!1,qm=!1,Ma=0,be=0,Ts=0,Nr=0,Vm=0,dn=0,xl=0,Mc=null,ki=null,Xm=!1,Ym=0,Cf=1/0,Rf=null,ws=null,ti=0,Cs=null,Tl=null,wl=0,Km=0,Zm=null,d1=null,kc=0,Qm=null;function qi(){if((Xt&2)!==0&&Bt!==0)return Bt&-Bt;if(H.T!==null){var t=fl;return t!==0?t:nb()}return R0()}function f1(){dn===0&&(dn=(Bt&536870912)===0||It?x0():536870912);var t=hn.current;return t!==null&&(t.flags|=32),dn}function Vi(t,n,s){(t===se&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(Cl(t,0),Rs(t,Bt,dn,!1)),Ku(t,s),((Xt&2)===0||t!==se)&&(t===se&&((Xt&2)===0&&(Nr|=s),be===4&&Rs(t,Bt,dn,!1)),Kn(t))}function p1(t,n,s){if((Xt&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Yu(t,n),d=o?ZT(t,n):Jm(t,n,!0),m=o;do{if(d===0){El&&!o&&Rs(t,n,0,!1);break}else{if(s=t.current.alternate,m&&!YT(s)){d=Jm(t,n,!1),m=!1;continue}if(d===2){if(m=n,t.errorRecoveryDisabledLanes&m)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){n=A;t:{var x=t;d=Mc;var M=x.current.memoizedState.isDehydrated;if(M&&(Cl(x,A).flags|=256),A=Jm(x,A,!1),A!==2){if(qm&&!M){x.errorRecoveryDisabledLanes|=m,Nr|=m,d=4;break t}m=ki,ki=d,m!==null&&(ki===null?ki=m:ki.push.apply(ki,m))}d=A}if(m=!1,d!==2)continue}}if(d===1){Cl(t,0),Rs(t,n,0,!0);break}t:{switch(o=t,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Rs(o,n,dn,!xs);break t;case 2:ki=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Ym+300-$e(),10<d)){if(Rs(o,n,dn,!xs),Hd(o,0,!0)!==0)break t;o.timeoutHandle=G1(g1.bind(null,o,s,ki,Rf,Xm,n,dn,Nr,xl,xs,m,2,-0,0),d);break t}g1(o,s,ki,Rf,Xm,n,dn,Nr,xl,xs,m,0,-0,0)}}break}while(!0);Kn(t)}function g1(t,n,s,o,d,m,A,x,M,B,V,Z,U,I){if(t.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Pc={stylesheets:null,count:0,unsuspend:Rw},l1(n),Z=kw(),Z!==null)){t.cancelPendingCommit=Z(_1.bind(null,t,n,m,s,o,d,A,x,M,V,1,U,I)),Rs(t,m,A,!B);return}_1(t,n,m,s,o,d,A,x,M)}function YT(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var d=s[o],m=d.getSnapshot;d=d.value;try{if(!Fi(m(),d))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rs(t,n,s,o){n&=~Vm,n&=~Nr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var d=n;0<d;){var m=31-Ue(d),A=1<<m;o[m]=-1,d&=~A}s!==0&&w0(t,s,n)}function Mf(){return(Xt&6)===0?(Dc(0),!1):!0}function Wm(){if(jt!==null){if(Yt===0)var t=jt.return;else t=jt,Sa=Rr=null,pm(t),yl=null,Sc=0,t=jt;for(;t!==null;)KA(t.alternate,t),t=t.return;jt=null}}function Cl(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,hw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Wm(),se=t,jt=s=va(t.current,null),Bt=n,Yt=0,Gi=null,xs=!1,El=Yu(t,n),qm=!1,xl=dn=Vm=Nr=Ts=be=0,ki=Mc=null,Xm=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var d=31-Ue(o),m=1<<d;n|=t[d],o&=~m}return Ma=n,Qd(),s}function m1(t,n){Dt=null,H.H=mf,n===dc||n===rf?(n=Oy(),Yt=3):n===ky?(n=Oy(),Yt=4):Yt=n===NA?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gi=n,jt===null&&(be=1,Sf(t,on(n,t.current)))}function b1(){var t=H.H;return H.H=mf,t===null?mf:t}function v1(){var t=H.A;return H.A=VT,t}function $m(){be=4,xs||(Bt&4194048)!==Bt&&hn.current!==null||(El=!0),(Ts&134217727)===0&&(Nr&134217727)===0||se===null||Rs(se,Bt,dn,!1)}function Jm(t,n,s){var o=Xt;Xt|=2;var d=b1(),m=v1();(se!==t||Bt!==n)&&(Rf=null,Cl(t,n)),n=!1;var A=be;t:do try{if(Yt!==0&&jt!==null){var x=jt,M=Gi;switch(Yt){case 8:Wm(),A=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(n=!0);var B=Yt;if(Yt=0,Gi=null,Rl(t,x,M,B),s&&El){A=0;break t}break;default:B=Yt,Yt=0,Gi=null,Rl(t,x,M,B)}}KT(),A=be;break}catch(V){m1(t,V)}while(!0);return n&&t.shellSuspendCounter++,Sa=Rr=null,Xt=o,H.H=d,H.A=m,jt===null&&(se=null,Bt=0,Qd()),A}function KT(){for(;jt!==null;)y1(jt)}function ZT(t,n){var s=Xt;Xt|=2;var o=b1(),d=v1();se!==t||Bt!==n?(Rf=null,Cf=$e()+500,Cl(t,n)):El=Yu(t,n);t:do try{if(Yt!==0&&jt!==null){n=jt;var m=Gi;e:switch(Yt){case 1:Yt=0,Gi=null,Rl(t,n,m,1);break;case 2:case 9:if(Dy(m)){Yt=0,Gi=null,A1(n);break}n=function(){Yt!==2&&Yt!==9||se!==t||(Yt=7),Kn(t)},m.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Dy(m)?(Yt=0,Gi=null,A1(n)):(Yt=0,Gi=null,Rl(t,n,m,7));break;case 5:var A=null;switch(jt.tag){case 26:A=jt.memoizedState;case 5:case 27:var x=jt;if(!A||eS(A)){Yt=0,Gi=null;var M=x.sibling;if(M!==null)jt=M;else{var B=x.return;B!==null?(jt=B,kf(B)):jt=null}break e}}Yt=0,Gi=null,Rl(t,n,m,5);break;case 6:Yt=0,Gi=null,Rl(t,n,m,6);break;case 8:Wm(),be=6;break t;default:throw Error(a(462))}}QT();break}catch(V){m1(t,V)}while(!0);return Sa=Rr=null,H.H=o,H.A=d,Xt=s,jt!==null?0:(se=null,Bt=0,Qd(),be)}function QT(){for(;jt!==null&&!Be();)y1(jt)}function y1(t){var n=XA(t.alternate,t,Ma);t.memoizedProps=t.pendingProps,n===null?kf(t):jt=n}function A1(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=BA(s,n,n.pendingProps,n.type,void 0,Bt);break;case 11:n=BA(s,n,n.pendingProps,n.type.render,n.ref,Bt);break;case 5:pm(n);default:KA(s,n),n=jt=Sy(n,Ma),n=XA(s,n,Ma)}t.memoizedProps=t.pendingProps,n===null?kf(t):jt=n}function Rl(t,n,s,o){Sa=Rr=null,pm(n),yl=null,Sc=0;var d=n.return;try{if(FT(t,d,n,s,Bt)){be=1,Sf(t,on(s,t.current)),jt=null;return}}catch(m){if(d!==null)throw jt=d,m;be=1,Sf(t,on(s,t.current)),jt=null;return}n.flags&32768?(It||o===1?t=!0:El||(Bt&536870912)!==0?t=!1:(xs=t=!0,(o===2||o===9||o===3||o===6)&&(o=hn.current,o!==null&&o.tag===13&&(o.flags|=16384))),S1(n,t)):kf(n)}function kf(t){var n=t;do{if((n.flags&32768)!==0){S1(n,xs);return}t=n.return;var s=UT(n.alternate,n,Ma);if(s!==null){jt=s;return}if(n=n.sibling,n!==null){jt=n;return}jt=n=t}while(n!==null);be===0&&(be=5)}function S1(t,n){do{var s=IT(t.alternate,t);if(s!==null){s.flags&=32767,jt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){jt=t;return}jt=t=s}while(t!==null);be=6,jt=null}function _1(t,n,s,o,d,m,A,x,M){t.cancelPendingCommit=null;do Df();while(ti!==0);if((Xt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=Gg,Rx(t,s,m,A,x,M),t===se&&(jt=se=null,Bt=0),Tl=n,Cs=t,wl=s,Km=m,Zm=d,d1=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tw(ga,function(){return C1(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,d=q.p,q.p=2,A=Xt,Xt|=4;try{GT(t,n,s)}finally{Xt=A,q.p=d,H.T=o}}ti=1,E1(),x1(),T1()}}function E1(){if(ti===1){ti=0;var t=Cs,n=Tl,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var o=q.p;q.p=2;var d=Xt;Xt|=4;try{s1(n,t);var m=hb,A=hy(t.containerInfo),x=m.focusedElem,M=m.selectionRange;if(A!==x&&x&&x.ownerDocument&&cy(x.ownerDocument.documentElement,x)){if(M!==null&&Hg(x)){var B=M.start,V=M.end;if(V===void 0&&(V=B),"selectionStart"in x)x.selectionStart=B,x.selectionEnd=Math.min(V,x.value.length);else{var Z=x.ownerDocument||document,U=Z&&Z.defaultView||window;if(U.getSelection){var I=U.getSelection(),At=x.textContent.length,vt=Math.min(M.start,At),te=M.end===void 0?vt:Math.min(M.end,At);!I.extend&&vt>te&&(A=te,te=vt,vt=A);var j=uy(x,vt),O=uy(x,te);if(j&&O&&(I.rangeCount!==1||I.anchorNode!==j.node||I.anchorOffset!==j.offset||I.focusNode!==O.node||I.focusOffset!==O.offset)){var P=Z.createRange();P.setStart(j.node,j.offset),I.removeAllRanges(),vt>te?(I.addRange(P),I.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),I.addRange(P))}}}}for(Z=[],I=x;I=I.parentNode;)I.nodeType===1&&Z.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Z.length;x++){var K=Z[x];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Gf=!!cb,hb=cb=null}finally{Xt=d,q.p=o,H.T=s}}t.current=n,ti=2}}function x1(){if(ti===2){ti=0;var t=Cs,n=Tl,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var o=q.p;q.p=2;var d=Xt;Xt|=4;try{e1(t,n.alternate,n)}finally{Xt=d,q.p=o,H.T=s}}ti=3}}function T1(){if(ti===4||ti===3){ti=0,Te();var t=Cs,n=Tl,s=wl,o=d1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ti=5:(ti=0,Tl=Cs=null,w1(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ws=null),bg(s),n=n.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(br,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,d=q.p,q.p=2,H.T=null;try{for(var m=t.onRecoverableError,A=0;A<o.length;A++){var x=o[A];m(x.value,{componentStack:x.stack})}}finally{H.T=n,q.p=d}}(wl&3)!==0&&Df(),Kn(t),d=t.pendingLanes,(s&4194090)!==0&&(d&42)!==0?t===Qm?kc++:(kc=0,Qm=t):kc=0,Dc(0)}}function w1(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cc(n)))}function Df(t){return E1(),x1(),T1(),C1()}function C1(){if(ti!==5)return!1;var t=Cs,n=Km;Km=0;var s=bg(wl),o=H.T,d=q.p;try{q.p=32>s?32:s,H.T=null,s=Zm,Zm=null;var m=Cs,A=wl;if(ti=0,Tl=Cs=null,wl=0,(Xt&6)!==0)throw Error(a(331));var x=Xt;if(Xt|=4,c1(m.current),o1(m,m.current,A,s),Xt=x,Dc(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(br,m)}catch{}return!0}finally{q.p=d,H.T=o,w1(t,n)}}function R1(t,n,s){n=on(s,n),n=Rm(t.stateNode,n,2),t=bs(t,n,2),t!==null&&(Ku(t,2),Kn(t))}function ne(t,n,s){if(t.tag===3)R1(t,t,s);else for(;n!==null;){if(n.tag===3){R1(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ws===null||!ws.has(o))){t=on(s,t),s=LA(2),o=bs(n,s,2),o!==null&&(OA(s,o,n,t),Ku(o,2),Kn(o));break}}n=n.return}}function tb(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new XT;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(s)||(qm=!0,d.add(s),t=WT.bind(null,t,n,s),n.then(t,t))}function WT(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,se===t&&(Bt&s)===s&&(be===4||be===3&&(Bt&62914560)===Bt&&300>$e()-Ym?(Xt&2)===0&&Cl(t,0):Vm|=s,xl===Bt&&(xl=0)),Kn(t)}function M1(t,n){n===0&&(n=T0()),t=ul(t,n),t!==null&&(Ku(t,n),Kn(t))}function $T(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),M1(t,s)}function JT(t,n){var s=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),M1(t,s)}function tw(t,n){return qt(t,n)}var Lf=null,Ml=null,eb=!1,Of=!1,ib=!1,jr=0;function Kn(t){t!==Ml&&t.next===null&&(Ml===null?Lf=Ml=t:Ml=Ml.next=t),Of=!0,eb||(eb=!0,iw())}function Dc(t,n){if(!ib&&Of){ib=!0;do for(var s=!1,o=Lf;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var A=o.suspendedLanes,x=o.pingedLanes;m=(1<<31-Ue(42|t)+1)-1,m&=d&~(A&~x),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,O1(o,m))}else m=Bt,m=Hd(o,o===se?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Yu(o,m)||(s=!0,O1(o,m));o=o.next}while(s);ib=!1}}function ew(){k1()}function k1(){Of=eb=!1;var t=0;jr!==0&&(cw()&&(t=jr),jr=0);for(var n=$e(),s=null,o=Lf;o!==null;){var d=o.next,m=D1(o,n);m===0?(o.next=null,s===null?Lf=d:s.next=d,d===null&&(Ml=s)):(s=o,(t!==0||(m&3)!==0)&&(Of=!0)),o=d}Dc(t)}function D1(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var A=31-Ue(m),x=1<<A,M=d[A];M===-1?((x&s)===0||(x&o)!==0)&&(d[A]=Cx(x,n)):M<=n&&(t.expiredLanes|=x),m&=~x}if(n=se,s=Bt,s=Hd(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&le(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Yu(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&le(o),bg(s)){case 2:case 8:s=Nd;break;case 32:s=ga;break;case 268435456:s=jd;break;default:s=ga}return o=L1.bind(null,t),s=qt(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&le(o),t.callbackPriority=2,t.callbackNode=null,2}function L1(t,n){if(ti!==0&&ti!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Df()&&t.callbackNode!==s)return null;var o=Bt;return o=Hd(t,t===se?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(p1(t,o,n),D1(t,$e()),t.callbackNode!=null&&t.callbackNode===s?L1.bind(null,t):null)}function O1(t,n){if(Df())return null;p1(t,n,!0)}function iw(){dw(function(){(Xt&6)!==0?qt(Od,ew):k1()})}function nb(){return jr===0&&(jr=x0()),jr}function N1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gd(""+t)}function j1(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function nw(t,n,s,o,d){if(n==="submit"&&s&&s.stateNode===d){var m=N1((d[wi]||null).action),A=o.submitter;A&&(n=(n=A[wi]||null)?N1(n.formAction):A.getAttribute("formAction"),n!==null&&(m=n,A=null));var x=new Yd("action","action",null,o,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(jr!==0){var M=A?j1(d,A):new FormData(d);Em(s,{pending:!0,data:M,method:d.method,action:m},null,M)}}else typeof m=="function"&&(x.preventDefault(),M=A?j1(d,A):new FormData(d),Em(s,{pending:!0,data:M,method:d.method,action:m},m,M))},currentTarget:d}]})}}for(var ab=0;ab<Ig.length;ab++){var sb=Ig[ab],aw=sb.toLowerCase(),sw=sb[0].toUpperCase()+sb.slice(1);xn(aw,"on"+sw)}xn(py,"onAnimationEnd"),xn(gy,"onAnimationIteration"),xn(my,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(_T,"onTransitionRun"),xn(ET,"onTransitionStart"),xn(xT,"onTransitionCancel"),xn(by,"onTransitionEnd"),Jo("onMouseEnter",["mouseout","mouseover"]),Jo("onMouseLeave",["mouseout","mouseover"]),Jo("onPointerEnter",["pointerout","pointerover"]),Jo("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function z1(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],d=o.event;o=o.listeners;t:{var m=void 0;if(n)for(var A=o.length-1;0<=A;A--){var x=o[A],M=x.instance,B=x.currentTarget;if(x=x.listener,M!==m&&d.isPropagationStopped())break t;m=x,d.currentTarget=B;try{m(d)}catch(V){Af(V)}d.currentTarget=null,m=M}else for(A=0;A<o.length;A++){if(x=o[A],M=x.instance,B=x.currentTarget,x=x.listener,M!==m&&d.isPropagationStopped())break t;m=x,d.currentTarget=B;try{m(d)}catch(V){Af(V)}d.currentTarget=null,m=M}}}}function zt(t,n){var s=n[vg];s===void 0&&(s=n[vg]=new Set);var o=t+"__bubble";s.has(o)||(P1(n,t,2,!1),s.add(o))}function rb(t,n,s){var o=0;n&&(o|=4),P1(s,t,o,n)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function ob(t){if(!t[Nf]){t[Nf]=!0,k0.forEach(function(s){s!=="selectionchange"&&(rw.has(s)||rb(s,!1,t),rb(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Nf]||(n[Nf]=!0,rb("selectionchange",!1,n))}}function P1(t,n,s,o){switch(oS(n)){case 2:var d=Ow;break;case 8:d=Nw;break;default:d=Sb}s=d.bind(null,n,s,t),d=void 0,!Mg||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(n,s,{capture:!0,passive:d}):t.addEventListener(n,s,!0):d!==void 0?t.addEventListener(n,s,{passive:d}):t.addEventListener(n,s,!1)}function lb(t,n,s,o,d){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var A=o.tag;if(A===3||A===4){var x=o.stateNode.containerInfo;if(x===d)break;if(A===4)for(A=o.return;A!==null;){var M=A.tag;if((M===3||M===4)&&A.stateNode.containerInfo===d)return;A=A.return}for(;x!==null;){if(A=Qo(x),A===null)return;if(M=A.tag,M===5||M===6||M===26||M===27){o=m=A;continue t}x=x.parentNode}}o=o.return}q0(function(){var B=m,V=Cg(s),Z=[];t:{var U=vy.get(t);if(U!==void 0){var I=Yd,At=t;switch(t){case"keypress":if(Vd(s)===0)break t;case"keydown":case"keyup":I=tT;break;case"focusin":At="focus",I=Og;break;case"focusout":At="blur",I=Og;break;case"beforeblur":case"afterblur":I=Og;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Y0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Ix;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=nT;break;case py:case gy:case my:I=Vx;break;case by:I=sT;break;case"scroll":case"scrollend":I=Bx;break;case"wheel":I=oT;break;case"copy":case"cut":case"paste":I=Yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Z0;break;case"toggle":case"beforetoggle":I=uT}var vt=(n&4)!==0,te=!vt&&(t==="scroll"||t==="scrollend"),j=vt?U!==null?U+"Capture":null:U;vt=[];for(var O=B,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||j===null||(K=Wu(O,j),K!=null&&vt.push(Oc(O,K,P))),te)break;O=O.return}0<vt.length&&(U=new I(U,At,null,s,V),Z.push({event:U,listeners:vt}))}}if((n&7)===0){t:{if(U=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",U&&s!==wg&&(At=s.relatedTarget||s.fromElement)&&(Qo(At)||At[Zo]))break t;if((I||U)&&(U=V.window===V?V:(U=V.ownerDocument)?U.defaultView||U.parentWindow:window,I?(At=s.relatedTarget||s.toElement,I=B,At=At?Qo(At):null,At!==null&&(te=l(At),vt=At.tag,At!==te||vt!==5&&vt!==27&&vt!==6)&&(At=null)):(I=null,At=B),I!==At)){if(vt=Y0,K="onMouseLeave",j="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(vt=Z0,K="onPointerLeave",j="onPointerEnter",O="pointer"),te=I==null?U:Qu(I),P=At==null?U:Qu(At),U=new vt(K,O+"leave",I,s,V),U.target=te,U.relatedTarget=P,K=null,Qo(V)===B&&(vt=new vt(j,O+"enter",At,s,V),vt.target=P,vt.relatedTarget=te,K=vt),te=K,I&&At)e:{for(vt=I,j=At,O=0,P=vt;P;P=kl(P))O++;for(P=0,K=j;K;K=kl(K))P++;for(;0<O-P;)vt=kl(vt),O--;for(;0<P-O;)j=kl(j),P--;for(;O--;){if(vt===j||j!==null&&vt===j.alternate)break e;vt=kl(vt),j=kl(j)}vt=null}else vt=null;I!==null&&H1(Z,U,I,vt,!1),At!==null&&te!==null&&H1(Z,te,At,vt,!0)}}t:{if(U=B?Qu(B):window,I=U.nodeName&&U.nodeName.toLowerCase(),I==="select"||I==="input"&&U.type==="file")var ct=ny;else if(ey(U))if(ay)ct=yT;else{ct=bT;var Ot=mT}else I=U.nodeName,!I||I.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?B&&Tg(B.elementType)&&(ct=ny):ct=vT;if(ct&&(ct=ct(t,B))){iy(Z,ct,s,V);break t}Ot&&Ot(t,U,B),t==="focusout"&&B&&U.type==="number"&&B.memoizedProps.value!=null&&xg(U,"number",U.value)}switch(Ot=B?Qu(B):window,t){case"focusin":(ey(Ot)||Ot.contentEditable==="true")&&(rl=Ot,Fg=B,sc=null);break;case"focusout":sc=Fg=rl=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,dy(Z,s,V);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":dy(Z,s,V)}var pt;if(jg)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else sl?J0(t,s)&&(yt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(yt="onCompositionStart");yt&&(Q0&&s.locale!=="ko"&&(sl||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&sl&&(pt=V0()):(fs=V,kg="value"in fs?fs.value:fs.textContent,sl=!0)),Ot=jf(B,yt),0<Ot.length&&(yt=new K0(yt,t,null,s,V),Z.push({event:yt,listeners:Ot}),pt?yt.data=pt:(pt=ty(s),pt!==null&&(yt.data=pt)))),(pt=hT?dT(t,s):fT(t,s))&&(yt=jf(B,"onBeforeInput"),0<yt.length&&(Ot=new K0("onBeforeInput","beforeinput",null,s,V),Z.push({event:Ot,listeners:yt}),Ot.data=pt)),nw(Z,t,B,s,V)}z1(Z,n)})}function Oc(t,n,s){return{instance:t,listener:n,currentTarget:s}}function jf(t,n){for(var s=n+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Wu(t,s),d!=null&&o.unshift(Oc(t,d,m)),d=Wu(t,n),d!=null&&o.push(Oc(t,d,m))),t.tag===3)return o;t=t.return}return[]}function kl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function H1(t,n,s,o,d){for(var m=n._reactName,A=[];s!==null&&s!==o;){var x=s,M=x.alternate,B=x.stateNode;if(x=x.tag,M!==null&&M===o)break;x!==5&&x!==26&&x!==27||B===null||(M=B,d?(B=Wu(s,m),B!=null&&A.unshift(Oc(s,B,M))):d||(B=Wu(s,m),B!=null&&A.push(Oc(s,B,M)))),s=s.return}A.length!==0&&t.push({event:n,listeners:A})}var ow=/\r\n?/g,lw=/\u0000|\uFFFD/g;function F1(t){return(typeof t=="string"?t:""+t).replace(ow,`
`).replace(lw,"")}function B1(t,n){return n=F1(n),F1(t)===n}function zf(){}function Jt(t,n,s,o,d,m){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||il(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&il(t,""+o);break;case"className":Bd(t,"class",o);break;case"tabIndex":Bd(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Bd(t,s,o);break;case"style":I0(t,o,m);break;case"data":if(n!=="object"){Bd(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Gd(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(n!=="input"&&Jt(t,n,"name",d.name,d,null),Jt(t,n,"formEncType",d.formEncType,d,null),Jt(t,n,"formMethod",d.formMethod,d,null),Jt(t,n,"formTarget",d.formTarget,d,null)):(Jt(t,n,"encType",d.encType,d,null),Jt(t,n,"method",d.method,d,null),Jt(t,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Gd(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=zf);break;case"onScroll":o!=null&&zt("scroll",t);break;case"onScrollEnd":o!=null&&zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Gd(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":zt("beforetoggle",t),zt("toggle",t),Fd(t,"popover",o);break;case"xlinkActuate":ma(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ma(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ma(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ma(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ma(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ma(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ma(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ma(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ma(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Fd(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Hx.get(s)||s,Fd(t,s,o))}}function ub(t,n,s,o,d,m){switch(s){case"style":I0(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?il(t,o):(typeof o=="number"||typeof o=="bigint")&&il(t,""+o);break;case"onScroll":o!=null&&zt("scroll",t);break;case"onScrollEnd":o!=null&&zt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!D0.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),n=s.slice(2,d?s.length-7:void 0),m=t[wi]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(n,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,d);break t}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Fd(t,s,o)}}}function ei(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",t),zt("load",t);var o=!1,d=!1,m;for(m in s)if(s.hasOwnProperty(m)){var A=s[m];if(A!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(t,n,m,A,s,null)}}d&&Jt(t,n,"srcSet",s.srcSet,s,null),o&&Jt(t,n,"src",s.src,s,null);return;case"input":zt("invalid",t);var x=m=A=d=null,M=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var V=s[o];if(V!=null)switch(o){case"name":d=V;break;case"type":A=V;break;case"checked":M=V;break;case"defaultChecked":B=V;break;case"value":m=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:Jt(t,n,o,V,s,null)}}H0(t,m,x,M,B,A,d,!1),Ud(t);return;case"select":zt("invalid",t),o=A=m=null;for(d in s)if(s.hasOwnProperty(d)&&(x=s[d],x!=null))switch(d){case"value":m=x;break;case"defaultValue":A=x;break;case"multiple":o=x;default:Jt(t,n,d,x,s,null)}n=m,s=A,t.multiple=!!o,n!=null?el(t,!!o,n,!1):s!=null&&el(t,!!o,s,!0);return;case"textarea":zt("invalid",t),m=d=o=null;for(A in s)if(s.hasOwnProperty(A)&&(x=s[A],x!=null))switch(A){case"value":o=x;break;case"defaultValue":d=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(a(91));break;default:Jt(t,n,A,x,s,null)}B0(t,o,d,m),Ud(t);return;case"option":for(M in s)if(s.hasOwnProperty(M)&&(o=s[M],o!=null))switch(M){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(t,n,M,o,s,null)}return;case"dialog":zt("beforetoggle",t),zt("toggle",t),zt("cancel",t),zt("close",t);break;case"iframe":case"object":zt("load",t);break;case"video":case"audio":for(o=0;o<Lc.length;o++)zt(Lc[o],t);break;case"image":zt("error",t),zt("load",t);break;case"details":zt("toggle",t);break;case"embed":case"source":case"link":zt("error",t),zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(t,n,B,o,s,null)}return;default:if(Tg(n)){for(V in s)s.hasOwnProperty(V)&&(o=s[V],o!==void 0&&ub(t,n,V,o,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(o=s[x],o!=null&&Jt(t,n,x,o,s,null))}function uw(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,A=null,x=null,M=null,B=null,V=null;for(I in s){var Z=s[I];if(s.hasOwnProperty(I)&&Z!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":M=Z;default:o.hasOwnProperty(I)||Jt(t,n,I,null,o,Z)}}for(var U in o){var I=o[U];if(Z=s[U],o.hasOwnProperty(U)&&(I!=null||Z!=null))switch(U){case"type":m=I;break;case"name":d=I;break;case"checked":B=I;break;case"defaultChecked":V=I;break;case"value":A=I;break;case"defaultValue":x=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:I!==Z&&Jt(t,n,U,I,o,Z)}}Eg(t,A,x,M,B,V,m,d);return;case"select":I=A=x=U=null;for(m in s)if(M=s[m],s.hasOwnProperty(m)&&M!=null)switch(m){case"value":break;case"multiple":I=M;default:o.hasOwnProperty(m)||Jt(t,n,m,null,o,M)}for(d in o)if(m=o[d],M=s[d],o.hasOwnProperty(d)&&(m!=null||M!=null))switch(d){case"value":U=m;break;case"defaultValue":x=m;break;case"multiple":A=m;default:m!==M&&Jt(t,n,d,m,o,M)}n=x,s=A,o=I,U!=null?el(t,!!s,U,!1):!!o!=!!s&&(n!=null?el(t,!!s,n,!0):el(t,!!s,s?[]:"",!1));return;case"textarea":I=U=null;for(x in s)if(d=s[x],s.hasOwnProperty(x)&&d!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Jt(t,n,x,null,o,d)}for(A in o)if(d=o[A],m=s[A],o.hasOwnProperty(A)&&(d!=null||m!=null))switch(A){case"value":U=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Jt(t,n,A,d,o,m)}F0(t,U,I);return;case"option":for(var At in s)if(U=s[At],s.hasOwnProperty(At)&&U!=null&&!o.hasOwnProperty(At))switch(At){case"selected":t.selected=!1;break;default:Jt(t,n,At,null,o,U)}for(M in o)if(U=o[M],I=s[M],o.hasOwnProperty(M)&&U!==I&&(U!=null||I!=null))switch(M){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Jt(t,n,M,U,o,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in s)U=s[vt],s.hasOwnProperty(vt)&&U!=null&&!o.hasOwnProperty(vt)&&Jt(t,n,vt,null,o,U);for(B in o)if(U=o[B],I=s[B],o.hasOwnProperty(B)&&U!==I&&(U!=null||I!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:Jt(t,n,B,U,o,I)}return;default:if(Tg(n)){for(var te in s)U=s[te],s.hasOwnProperty(te)&&U!==void 0&&!o.hasOwnProperty(te)&&ub(t,n,te,void 0,o,U);for(V in o)U=o[V],I=s[V],!o.hasOwnProperty(V)||U===I||U===void 0&&I===void 0||ub(t,n,V,U,o,I);return}}for(var j in s)U=s[j],s.hasOwnProperty(j)&&U!=null&&!o.hasOwnProperty(j)&&Jt(t,n,j,null,o,U);for(Z in o)U=o[Z],I=s[Z],!o.hasOwnProperty(Z)||U===I||U==null&&I==null||Jt(t,n,Z,U,o,I)}var cb=null,hb=null;function Pf(t){return t.nodeType===9?t:t.ownerDocument}function U1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I1(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function db(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fb=null;function cw(){var t=window.event;return t&&t.type==="popstate"?t===fb?!1:(fb=t,!0):(fb=null,!1)}var G1=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,dw=typeof queueMicrotask=="function"?queueMicrotask:typeof q1<"u"?function(t){return q1.resolve(null).then(t).catch(fw)}:G1;function fw(t){setTimeout(function(){throw t})}function Ms(t){return t==="head"}function V1(t,n){var s=n,o=0,d=0;do{var m=s.nextSibling;if(t.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(0<o&&8>o){s=o;var A=t.ownerDocument;if(s&1&&Nc(A.documentElement),s&2&&Nc(A.body),s&4)for(s=A.head,Nc(s),A=s.firstChild;A;){var x=A.nextSibling,M=A.nodeName;A[Zu]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&A.rel.toLowerCase()==="stylesheet"||s.removeChild(A),A=x}}if(d===0){t.removeChild(m),Ic(n);return}d--}else s==="$"||s==="$?"||s==="$!"?d++:o=s.charCodeAt(0)-48;else o=0;s=m}while(s);Ic(n)}function pb(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pb(s),yg(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function pw(t,n,s,o){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Zu])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=wn(t.nextSibling),t===null)break}return null}function gw(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=wn(t.nextSibling),t===null))return null;return t}function gb(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function mw(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var mb=null;function X1(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Y1(t,n,s){switch(n=Pf(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Nc(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);yg(t)}var fn=new Map,K1=new Set;function Hf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ka=q.d;q.d={f:bw,r:vw,D:yw,C:Aw,L:Sw,m:_w,X:xw,S:Ew,M:Tw};function bw(){var t=ka.f(),n=Mf();return t||n}function vw(t){var n=Wo(t);n!==null&&n.tag===5&&n.type==="form"?pA(n):ka.r(t)}var Dl=typeof document>"u"?null:document;function Z1(t,n,s){var o=Dl;if(o&&typeof n=="string"&&n){var d=rn(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),K1.has(d)||(K1.add(d),t={rel:t,crossOrigin:s,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),ei(n,"link",t),Ie(n),o.head.appendChild(n)))}}function yw(t){ka.D(t),Z1("dns-prefetch",t,null)}function Aw(t,n){ka.C(t,n),Z1("preconnect",t,n)}function Sw(t,n,s){ka.L(t,n,s);var o=Dl;if(o&&t&&n){var d='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+rn(s.imageSizes)+'"]')):d+='[href="'+rn(t)+'"]';var m=d;switch(n){case"style":m=Ll(t);break;case"script":m=Ol(t)}fn.has(m)||(t=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),fn.set(m,t),o.querySelector(d)!==null||n==="style"&&o.querySelector(jc(m))||n==="script"&&o.querySelector(zc(m))||(n=o.createElement("link"),ei(n,"link",t),Ie(n),o.head.appendChild(n)))}}function _w(t,n){ka.m(t,n);var s=Dl;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ol(t)}if(!fn.has(m)&&(t=b({rel:"modulepreload",href:t},n),fn.set(m,t),s.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(zc(m)))return}o=s.createElement("link"),ei(o,"link",t),Ie(o),s.head.appendChild(o)}}}function Ew(t,n,s){ka.S(t,n,s);var o=Dl;if(o&&t){var d=$o(o).hoistableStyles,m=Ll(t);n=n||"default";var A=d.get(m);if(!A){var x={loading:0,preload:null};if(A=o.querySelector(jc(m)))x.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},s),(s=fn.get(m))&&bb(t,s);var M=A=o.createElement("link");Ie(M),ei(M,"link",t),M._p=new Promise(function(B,V){M.onload=B,M.onerror=V}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ff(A,n,o)}A={type:"stylesheet",instance:A,count:1,state:x},d.set(m,A)}}}function xw(t,n){ka.X(t,n);var s=Dl;if(s&&t){var o=$o(s).hoistableScripts,d=Ol(t),m=o.get(d);m||(m=s.querySelector(zc(d)),m||(t=b({src:t,async:!0},n),(n=fn.get(d))&&vb(t,n),m=s.createElement("script"),Ie(m),ei(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function Tw(t,n){ka.M(t,n);var s=Dl;if(s&&t){var o=$o(s).hoistableScripts,d=Ol(t),m=o.get(d);m||(m=s.querySelector(zc(d)),m||(t=b({src:t,async:!0,type:"module"},n),(n=fn.get(d))&&vb(t,n),m=s.createElement("script"),Ie(m),ei(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function Q1(t,n,s,o){var d=(d=ut.current)?Hf(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ll(s.href),s=$o(d).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ll(s.href);var m=$o(d).hoistableStyles,A=m.get(t);if(A||(d=d.ownerDocument||d,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,A),(m=d.querySelector(jc(t)))&&!m._p&&(A.instance=m,A.state.loading=5),fn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},fn.set(t,s),m||ww(d,t,s,A.state))),n&&o===null)throw Error(a(528,""));return A}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ol(s),s=$o(d).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ll(t){return'href="'+rn(t)+'"'}function jc(t){return'link[rel="stylesheet"]['+t+"]"}function W1(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function ww(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ei(n,"link",s),Ie(n),t.head.appendChild(n))}function Ol(t){return'[src="'+rn(t)+'"]'}function zc(t){return"script[async]"+t}function $1(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,Ie(o),o;var d=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ie(o),ei(o,"style",d),Ff(o,s.precedence,t),n.instance=o;case"stylesheet":d=Ll(s.href);var m=t.querySelector(jc(d));if(m)return n.state.loading|=4,n.instance=m,Ie(m),m;o=W1(s),(d=fn.get(d))&&bb(o,d),m=(t.ownerDocument||t).createElement("link"),Ie(m);var A=m;return A._p=new Promise(function(x,M){A.onload=x,A.onerror=M}),ei(m,"link",o),n.state.loading|=4,Ff(m,s.precedence,t),n.instance=m;case"script":return m=Ol(s.src),(d=t.querySelector(zc(m)))?(n.instance=d,Ie(d),d):(o=s,(d=fn.get(m))&&(o=b({},s),vb(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),Ie(d),ei(d,"link",o),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ff(o,s.precedence,t));return n.instance}function Ff(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,A=0;A<o.length;A++){var x=o[A];if(x.dataset.precedence===n)m=x;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function bb(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vb(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bf=null;function J1(t,n,s){if(Bf===null){var o=new Map,d=Bf=new Map;d.set(s,o)}else d=Bf,o=d.get(s),o||(o=new Map,d.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var m=s[d];if(!(m[Zu]||m[oi]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var A=m.getAttribute(n)||"";A=t+A;var x=o.get(A);x?x.push(m):o.set(A,[m])}}return o}function tS(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Cw(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function eS(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pc=null;function Rw(){}function Mw(t,n,s){if(Pc===null)throw Error(a(475));var o=Pc;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Ll(s.href),m=t.querySelector(jc(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Uf.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=m,Ie(m);return}m=t.ownerDocument||t,s=W1(s),(d=fn.get(d))&&bb(s,d),m=m.createElement("link"),Ie(m);var A=m;A._p=new Promise(function(x,M){A.onload=x,A.onerror=M}),ei(m,"link",s),n.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Uf.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function kw(){if(Pc===null)throw Error(a(475));var t=Pc;return t.stylesheets&&t.count===0&&yb(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&yb(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Uf(){if(this.count--,this.count===0){if(this.stylesheets)yb(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var If=null;function yb(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,If=new Map,n.forEach(Dw,t),If=null,Uf.call(t))}function Dw(t,n){if(!(n.state.loading&4)){var s=If.get(t);if(s)var o=s.get(null);else{s=new Map,If.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var A=d[m];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(s.set(A.dataset.precedence,A),o=A)}o&&s.set(null,o)}d=n.instance,A=d.getAttribute("data-precedence"),m=s.get(A)||o,m===o&&s.set(null,d),s.set(A,d),this.count++,o=Uf.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var Hc={$$typeof:N,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Lw(t,n,s,o,d,m,A,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gg(0),this.hiddenUpdates=gg(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function iS(t,n,s,o,d,m,A,x,M,B,V,Z){return t=new Lw(t,n,s,A,x,M,B,Z),n=1,m===!0&&(n|=24),m=Bi(3,null,null,n),t.current=m,m.stateNode=t,n=tm(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:s,cache:n},am(m),t}function nS(t){return t?(t=cl,t):cl}function aS(t,n,s,o,d,m){d=nS(d),o.context===null?o.context=d:o.pendingContext=d,o=ms(n),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=bs(t,o,n),s!==null&&(Vi(s,t,n),pc(s,t,n))}function sS(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Ab(t,n){sS(t,n),(t=t.alternate)&&sS(t,n)}function rS(t){if(t.tag===13){var n=ul(t,67108864);n!==null&&Vi(n,t,67108864),Ab(t,67108864)}}var Gf=!0;function Ow(t,n,s,o){var d=H.T;H.T=null;var m=q.p;try{q.p=2,Sb(t,n,s,o)}finally{q.p=m,H.T=d}}function Nw(t,n,s,o){var d=H.T;H.T=null;var m=q.p;try{q.p=8,Sb(t,n,s,o)}finally{q.p=m,H.T=d}}function Sb(t,n,s,o){if(Gf){var d=_b(o);if(d===null)lb(t,n,o,qf,s),lS(t,o);else if(zw(d,t,n,s,o))o.stopPropagation();else if(lS(t,o),n&4&&-1<jw.indexOf(t)){for(;d!==null;){var m=Wo(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var A=vr(m.pendingLanes);if(A!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;A;){var M=1<<31-Ue(A);x.entanglements[1]|=M,A&=~M}Kn(m),(Xt&6)===0&&(Cf=$e()+500,Dc(0))}}break;case 13:x=ul(m,2),x!==null&&Vi(x,m,2),Mf(),Ab(m,2)}if(m=_b(o),m===null&&lb(t,n,o,qf,s),m===d)break;d=m}d!==null&&o.stopPropagation()}else lb(t,n,o,null,s)}}function _b(t){return t=Cg(t),Eb(t)}var qf=null;function Eb(t){if(qf=null,t=Qo(t),t!==null){var n=l(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=c(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return qf=t,null}function oS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case Od:return 2;case Nd:return 8;case ga:case dg:return 32;case jd:return 268435456;default:return 32}default:return 32}}var xb=!1,ks=null,Ds=null,Ls=null,Fc=new Map,Bc=new Map,Os=[],jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lS(t,n){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Fc.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(n.pointerId)}}function Uc(t,n,s,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},n!==null&&(n=Wo(n),n!==null&&rS(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function zw(t,n,s,o,d){switch(n){case"focusin":return ks=Uc(ks,t,n,s,o,d),!0;case"dragenter":return Ds=Uc(Ds,t,n,s,o,d),!0;case"mouseover":return Ls=Uc(Ls,t,n,s,o,d),!0;case"pointerover":var m=d.pointerId;return Fc.set(m,Uc(Fc.get(m)||null,t,n,s,o,d)),!0;case"gotpointercapture":return m=d.pointerId,Bc.set(m,Uc(Bc.get(m)||null,t,n,s,o,d)),!0}return!1}function uS(t){var n=Qo(t.target);if(n!==null){var s=l(n);if(s!==null){if(n=s.tag,n===13){if(n=c(s),n!==null){t.blockedOn=n,Mx(t.priority,function(){if(s.tag===13){var o=qi();o=mg(o);var d=ul(s,o);d!==null&&Vi(d,s,o),Ab(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vf(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=_b(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);wg=o,s.target.dispatchEvent(o),wg=null}else return n=Wo(s),n!==null&&rS(n),t.blockedOn=s,!1;n.shift()}return!0}function cS(t,n,s){Vf(t)&&s.delete(n)}function Pw(){xb=!1,ks!==null&&Vf(ks)&&(ks=null),Ds!==null&&Vf(Ds)&&(Ds=null),Ls!==null&&Vf(Ls)&&(Ls=null),Fc.forEach(cS),Bc.forEach(cS)}function Xf(t,n){t.blockedOn===n&&(t.blockedOn=null,xb||(xb=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,Pw)))}var Yf=null;function hS(t){Yf!==t&&(Yf=t,g.unstable_scheduleCallback(g.unstable_NormalPriority,function(){Yf===t&&(Yf=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],d=t[n+2];if(typeof o!="function"){if(Eb(o||s)===null)continue;break}var m=Wo(s);m!==null&&(t.splice(n,3),n-=3,Em(m,{pending:!0,data:d,method:s.method,action:o},o,d))}}))}function Ic(t){function n(M){return Xf(M,t)}ks!==null&&Xf(ks,t),Ds!==null&&Xf(Ds,t),Ls!==null&&Xf(Ls,t),Fc.forEach(n),Bc.forEach(n);for(var s=0;s<Os.length;s++){var o=Os[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Os.length&&(s=Os[0],s.blockedOn===null);)uS(s),s.blockedOn===null&&Os.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var d=s[o],m=s[o+1],A=d[wi]||null;if(typeof m=="function")A||hS(s);else if(A){var x=null;if(m&&m.hasAttribute("formAction")){if(d=m,A=m[wi]||null)x=A.formAction;else if(Eb(d)!==null)continue}else x=A.action;typeof x=="function"?s[o+1]=x:(s.splice(o,3),o-=3),hS(s)}}}function Tb(t){this._internalRoot=t}Kf.prototype.render=Tb.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=qi();aS(s,o,t,n,null,null)},Kf.prototype.unmount=Tb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;aS(t.current,2,null,t,null,null),Mf(),n[Zo]=null}};function Kf(t){this._internalRoot=t}Kf.prototype.unstable_scheduleHydration=function(t){if(t){var n=R0();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Os.length&&n!==0&&n<Os[s].priority;s++);Os.splice(s,0,t),s===0&&uS(t)}};var dS=e.version;if(dS!=="19.1.0")throw Error(a(527,dS,"19.1.0"));q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=f(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Hw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{br=Zf.inject(Hw),we=Zf}catch{}}return qc.createRoot=function(t,n){if(!r(t))throw Error(a(299));var s=!1,o="",d=RA,m=MA,A=kA,x=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(A=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks)),n=iS(t,1,!1,null,null,s,o,d,m,A,x,null),t[Zo]=n.current,ob(t),new Tb(n)},qc.hydrateRoot=function(t,n,s){if(!r(t))throw Error(a(299));var o=!1,d="",m=RA,A=MA,x=kA,M=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(A=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),n=iS(t,1,!0,n,s??null,o,d,m,A,x,M,B),n.context=nS(null),s=n.current,o=qi(),o=mg(o),d=ms(o),d.callback=null,bs(s,d,o),s=o,n.current.lanes=s,Ku(n,s),Kn(n),t[Zo]=n.current,ob(t),new Kf(n)},qc.version="19.1.0",qc}var ES;function Qw(){if(ES)return Mb.exports;ES=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(e){console.error(e)}}return g(),Mb.exports=Zw(),Mb.exports}var Ww=Qw();const a_=Q.createContext(null);function $w({children:g}){const[e,i]=Q.useState("light");Q.useEffect(()=>{const r=localStorage.getItem("theme");if(r==="light"||r==="dark")i(r),document.documentElement.classList.toggle("dark",r==="dark");else{const l=window.matchMedia("(prefers-color-scheme: dark)").matches;i(l?"dark":"light"),document.documentElement.classList.toggle("dark",l)}},[]);const a=()=>{const r=e==="dark"?"light":"dark";i(r),document.documentElement.classList.toggle("dark",r==="dark"),localStorage.setItem("theme",r)};return et.jsx(a_.Provider,{value:{theme:e,toggleTheme:a},children:g})}const Jw=()=>{const g=Q.useContext(a_);if(!g)throw new Error("useTheme must be used within a ThemeProvider");return g};function t2({title:g,titleId:e,...i},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),g?Q.createElement("title",{id:e},g):null,Q.createElement("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"}))}const e2=Q.forwardRef(t2);function i2({title:g,titleId:e,...i},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),g?Q.createElement("title",{id:e},g):null,Q.createElement("path",{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"}))}const n2=Q.forwardRef(i2),a2=()=>{const{theme:g,toggleTheme:e}=Jw();return et.jsx("button",{onClick:e,className:`cursor-pointer fixed top-4 right-4 z-50 p-2 rounded-full \r
        bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 \r
        text-gray-800 dark:text-gray-200 shadow transition-all duration-300 ease-in-out`,children:g==="dark"?et.jsx(n2,{className:"w-5 h-5"}):et.jsx(e2,{className:"w-5 h-5"})})},s2="modulepreload",r2=function(g){return"/ucimo_srpski/"+g},xS={},Qf=function(e,i,a){let r=Promise.resolve();if(i&&i.length>0){let c=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=c(i.map(p=>{if(p=r2(p),p in xS)return;xS[p]=!0;const b=p.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const y=document.createElement("link");if(y.rel=b?"stylesheet":s2,b||(y.as="script"),y.crossOrigin="",y.href=p,f&&y.setAttribute("nonce",f),document.head.appendChild(y),b)return new Promise((_,T)=>{y.addEventListener("load",_),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var ch={};ch.d=(g,e)=>{for(var i in e)ch.o(e,i)&&!ch.o(g,i)&&Object.defineProperty(g,i,{enumerable:!0,get:e[i]})};ch.o=(g,e)=>Object.prototype.hasOwnProperty.call(g,e);var wt=globalThis.pdfjsLib={};ch.d(wt,{AbortException:()=>Yo,AnnotationEditorLayer:()=>Wv,AnnotationEditorParamsType:()=>_t,AnnotationEditorType:()=>Mt,AnnotationEditorUIManager:()=>Uo,AnnotationLayer:()=>aR,AnnotationMode:()=>Ps,ColorPicker:()=>jp,DOMSVGFactory:()=>v0,DrawLayer:()=>e0,FeatureTest:()=>Ei,GlobalWorkerOptions:()=>rs,ImageKind:()=>ip,InvalidPDFException:()=>r_,MissingPDFException:()=>Xo,OPS:()=>Rn,OutputScale:()=>qb,PDFDataRangeTransport:()=>iE,PDFDateString:()=>h0,PDFWorker:()=>ql,PasswordResponses:()=>c2,PermissionFlag:()=>u2,PixelsPerInch:()=>hr,RenderingCancelledException:()=>u0,TextLayer:()=>vv,UnexpectedResponseException:()=>ng,Util:()=>dt,VerbosityLevel:()=>tg,XfaLayer:()=>aE,build:()=>HC,createValidAbsoluteUrl:()=>p2,fetchData:()=>sg,getDocument:()=>MC,getFilenameFromUrl:()=>E2,getPdfFilenameFromUrl:()=>x2,getXfaPageViewport:()=>T2,isDataScheme:()=>rg,isPdfFile:()=>c0,noContextMenu:()=>En,normalizeUnicode:()=>A2,setLayerDimensions:()=>Bo,shadow:()=>Ft,version:()=>PC});const bi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),s_=[1,0,0,1,0,0],Bb=[.001,0,0,.001,0,0],o2=1e7,Ob=1.35,en={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ps={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},l2="pdfjs_internal_editor_",Mt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},_t={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},u2={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ci={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ip={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ne={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Vc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},tg={ERRORS:0,WARNINGS:1,INFOS:5},Rn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},c2={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let eg=tg.WARNINGS;function h2(g){Number.isInteger(g)&&(eg=g)}function d2(){return eg}function ig(g){eg>=tg.INFOS&&console.log(`Info: ${g}`)}function Lt(g){eg>=tg.WARNINGS&&console.log(`Warning: ${g}`)}function oe(g){throw new Error(g)}function He(g,e){g||oe(e)}function f2(g){switch(g==null?void 0:g.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function p2(g,e=null,i=null){if(!g)return null;try{if(i&&typeof g=="string"){if(i.addDefaultProtocol&&g.startsWith("www.")){const r=g.match(/\./g);(r==null?void 0:r.length)>=2&&(g=`http://${g}`)}if(i.tryConvertEncoding)try{g=y2(g)}catch{}}const a=e?new URL(g,e):new URL(g);if(f2(a))return a}catch{}return null}function Ft(g,e,i,a=!1){return Object.defineProperty(g,e,{value:i,enumerable:!a,configurable:!0,writable:!1}),i}const gr=function(){function e(i,a){this.message=i,this.name=a}return e.prototype=new Error,e.constructor=e,e}();class Ub extends gr{constructor(e,i){super(e,"PasswordException"),this.code=i}}class Ib extends gr{constructor(e,i){super(e,"UnknownErrorException"),this.details=i}}class r_ extends gr{constructor(e){super(e,"InvalidPDFException")}}class Xo extends gr{constructor(e){super(e,"MissingPDFException")}}class ng extends gr{constructor(e,i){super(e,"UnexpectedResponseException"),this.status=i}}class g2 extends gr{constructor(e){super(e,"FormatError")}}class Yo extends gr{constructor(e){super(e,"AbortException")}}function o_(g){(typeof g!="object"||(g==null?void 0:g.length)===void 0)&&oe("Invalid argument for bytesToString");const e=g.length,i=8192;if(e<i)return String.fromCharCode.apply(null,g);const a=[];for(let r=0;r<e;r+=i){const l=Math.min(r+i,e),c=g.subarray(r,l);a.push(String.fromCharCode.apply(null,c))}return a.join("")}function ag(g){typeof g!="string"&&oe("Invalid argument for stringToBytes");const e=g.length,i=new Uint8Array(e);for(let a=0;a<e;++a)i[a]=g.charCodeAt(a)&255;return i}function m2(g){return String.fromCharCode(g>>24&255,g>>16&255,g>>8&255,g&255)}function o0(g){const e=Object.create(null);for(const[i,a]of g)e[i]=a;return e}function b2(){const g=new Uint8Array(4);return g[0]=1,new Uint32Array(g.buffer,0,1)[0]===1}function v2(){try{return new Function(""),!0}catch{return!1}}class Ei{static get isLittleEndian(){return Ft(this,"isLittleEndian",b2())}static get isEvalSupported(){return Ft(this,"isEvalSupported",v2())}static get isOffscreenCanvasSupported(){return Ft(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ft(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ft(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,i;return Ft(this,"isCSSRoundSupported",(i=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:i.call(e,"width: round(1.5px, 1px)"))}}const Nb=Array.from(Array(256).keys(),g=>g.toString(16).padStart(2,"0"));var ls,np,Gb;class dt{static makeHexColor(e,i,a){return`#${Nb[e]}${Nb[i]}${Nb[a]}`}static scaleMinMax(e,i){let a;e[0]?(e[0]<0&&(a=i[0],i[0]=i[2],i[2]=a),i[0]*=e[0],i[2]*=e[0],e[3]<0&&(a=i[1],i[1]=i[3],i[3]=a),i[1]*=e[3],i[3]*=e[3]):(a=i[0],i[0]=i[1],i[1]=a,a=i[2],i[2]=i[3],i[3]=a,e[1]<0&&(a=i[1],i[1]=i[3],i[3]=a),i[1]*=e[1],i[3]*=e[1],e[2]<0&&(a=i[0],i[0]=i[2],i[2]=a),i[0]*=e[2],i[2]*=e[2]),i[0]+=e[4],i[1]+=e[5],i[2]+=e[4],i[3]+=e[5]}static transform(e,i){return[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]]}static applyTransform(e,i){const a=e[0]*i[0]+e[1]*i[2]+i[4],r=e[0]*i[1]+e[1]*i[3]+i[5];return[a,r]}static applyInverseTransform(e,i){const a=i[0]*i[3]-i[1]*i[2],r=(e[0]*i[3]-e[1]*i[2]+i[2]*i[5]-i[4]*i[3])/a,l=(-e[0]*i[1]+e[1]*i[0]+i[4]*i[1]-i[5]*i[0])/a;return[r,l]}static getAxialAlignedBoundingBox(e,i){const a=this.applyTransform(e,i),r=this.applyTransform(e.slice(2,4),i),l=this.applyTransform([e[0],e[3]],i),c=this.applyTransform([e[2],e[1]],i);return[Math.min(a[0],r[0],l[0],c[0]),Math.min(a[1],r[1],l[1],c[1]),Math.max(a[0],r[0],l[0],c[0]),Math.max(a[1],r[1],l[1],c[1])]}static inverseTransform(e){const i=e[0]*e[3]-e[1]*e[2];return[e[3]/i,-e[1]/i,-e[2]/i,e[0]/i,(e[2]*e[5]-e[4]*e[3])/i,(e[4]*e[1]-e[5]*e[0])/i]}static singularValueDecompose2dScale(e){const i=[e[0],e[2],e[1],e[3]],a=e[0]*i[0]+e[1]*i[2],r=e[0]*i[1]+e[1]*i[3],l=e[2]*i[0]+e[3]*i[2],c=e[2]*i[1]+e[3]*i[3],h=(a+c)/2,f=Math.sqrt((a+c)**2-4*(a*c-l*r))/2,p=h+f||1,b=h-f||1;return[Math.sqrt(p),Math.sqrt(b)]}static normalizeRect(e){const i=e.slice(0);return e[0]>e[2]&&(i[0]=e[2],i[2]=e[0]),e[1]>e[3]&&(i[1]=e[3],i[3]=e[1]),i}static intersect(e,i){const a=Math.max(Math.min(e[0],e[2]),Math.min(i[0],i[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(i[0],i[2]));if(a>r)return null;const l=Math.max(Math.min(e[1],e[3]),Math.min(i[1],i[3])),c=Math.min(Math.max(e[1],e[3]),Math.max(i[1],i[3]));return l>c?null:[a,l,r,c]}static bezierBoundingBox(e,i,a,r,l,c,h,f,p){return p?(p[0]=Math.min(p[0],e,h),p[1]=Math.min(p[1],i,f),p[2]=Math.max(p[2],e,h),p[3]=Math.max(p[3],i,f)):p=[Math.min(e,h),Math.min(i,f),Math.max(e,h),Math.max(i,f)],E(this,ls,Gb).call(this,e,a,l,h,i,r,c,f,3*(-e+3*(a-l)+h),6*(e-2*a+l),3*(a-e),p),E(this,ls,Gb).call(this,e,a,l,h,i,r,c,f,3*(-i+3*(r-c)+f),6*(i-2*r+c),3*(r-i),p),p}}ls=new WeakSet,np=function(e,i,a,r,l,c,h,f,p,b){if(p<=0||p>=1)return;const v=1-p,y=p*p,_=y*p,T=v*(v*(v*e+3*p*i)+3*y*a)+_*r,C=v*(v*(v*l+3*p*c)+3*y*h)+_*f;b[0]=Math.min(b[0],T),b[1]=Math.min(b[1],C),b[2]=Math.max(b[2],T),b[3]=Math.max(b[3],C)},Gb=function(e,i,a,r,l,c,h,f,p,b,v,y){if(Math.abs(p)<1e-12){Math.abs(b)>=1e-12&&E(this,ls,np).call(this,e,i,a,r,l,c,h,f,-v/b,y);return}const _=b**2-4*v*p;if(_<0)return;const T=Math.sqrt(_),C=2*p;E(this,ls,np).call(this,e,i,a,r,l,c,h,f,(-b+T)/C,y),E(this,ls,np).call(this,e,i,a,r,l,c,h,f,(-b-T)/C,y)},w(dt,ls);function y2(g){return decodeURIComponent(escape(g))}let jb=null,TS=null;function A2(g){return jb||(jb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,TS=new Map([["ﬅ","ſt"]])),g.replaceAll(jb,(e,i,a)=>i?i.normalize("NFKC"):TS.get(a))}function S2(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const g=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(g);else for(let e=0;e<32;e++)g[e]=Math.floor(Math.random()*255);return o_(g)}const l0="pdfjs_internal_id_",Da={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function _2(g){return Uint8Array.prototype.toBase64?g.toBase64():btoa(o_(g))}const Oa="http://www.w3.org/2000/svg",Ur=class Ur{};St(Ur,"CSS",96),St(Ur,"PDF",72),St(Ur,"PDF_TO_CSS_UNITS",Ur.CSS/Ur.PDF);let hr=Ur;async function sg(g,e="text"){if(Kc(g,document.baseURI)){const i=await fetch(g);if(!i.ok)throw new Error(i.statusText);switch(e){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,a)=>{const r=new XMLHttpRequest;r.open("GET",g,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":i(r.response);return}i(r.responseText);return}a(new Error(r.statusText))}},r.send(null)})}class Md{constructor({viewBox:e,scale:i,rotation:a,offsetX:r=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=e,this.scale=i,this.rotation=a,this.offsetX=r,this.offsetY=l;const h=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,b,v,y;switch(a%=360,a<0&&(a+=360),a){case 180:p=-1,b=0,v=0,y=1;break;case 90:p=0,b=1,v=1,y=0;break;case 270:p=0,b=-1,v=-1,y=0;break;case 0:p=1,b=0,v=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(v=-v,y=-y);let _,T,C,k;p===0?(_=Math.abs(f-e[1])*i+r,T=Math.abs(h-e[0])*i+l,C=(e[3]-e[1])*i,k=(e[2]-e[0])*i):(_=Math.abs(h-e[0])*i+r,T=Math.abs(f-e[1])*i+l,C=(e[2]-e[0])*i,k=(e[3]-e[1])*i),this.transform=[p*i,b*i,v*i,y*i,_-p*i*h-v*i*f,T-b*i*h-y*i*f],this.width=C,this.height=k}get rawDims(){const{viewBox:e}=this;return Ft(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:i=this.rotation,offsetX:a=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Md({viewBox:this.viewBox.slice(),scale:e,rotation:i,offsetX:a,offsetY:r,dontFlip:l})}convertToViewportPoint(e,i){return dt.applyTransform([e,i],this.transform)}convertToViewportRectangle(e){const i=dt.applyTransform([e[0],e[1]],this.transform),a=dt.applyTransform([e[2],e[3]],this.transform);return[i[0],i[1],a[0],a[1]]}convertToPdfPoint(e,i){return dt.applyInverseTransform([e,i],this.transform)}}class u0 extends gr{constructor(e,i=0){super(e,"RenderingCancelledException"),this.extraDelay=i}}function rg(g){const e=g.length;let i=0;for(;i<e&&g[i].trim()==="";)i++;return g.substring(i,i+5).toLowerCase()==="data:"}function c0(g){return typeof g=="string"&&/\.pdf$/i.test(g)}function E2(g){return[g]=g.split(/[#?]/,1),g.substring(g.lastIndexOf("/")+1)}function x2(g,e="document.pdf"){if(typeof g!="string")return e;if(rg(g))return Lt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,a=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=i.exec(g);let l=a.exec(r[1])||a.exec(r[2])||a.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=a.exec(decodeURIComponent(l))[0]}catch{}return l||e}class wS{constructor(){St(this,"started",Object.create(null));St(this,"times",[])}time(e){e in this.started&&Lt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Lt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let i=0;for(const{name:a}of this.times)i=Math.max(a.length,i);for(const{name:a,start:r,end:l}of this.times)e.push(`${a.padEnd(i)} ${l-r}ms
`);return e.join("")}}function Kc(g,e){try{const{protocol:i}=e?new URL(g,e):new URL(g);return i==="http:"||i==="https:"}catch{return!1}}function En(g){g.preventDefault()}function CS(g){console.log("Deprecated API usage: "+g)}var ph;class h0{static toDateObject(e){if(!e||typeof e!="string")return null;u(this,ph)||S(this,ph,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=u(this,ph).exec(e);if(!i)return null;const a=parseInt(i[1],10);let r=parseInt(i[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(i[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(i[4],10);c=c>=0&&c<=23?c:0;let h=parseInt(i[5],10);h=h>=0&&h<=59?h:0;let f=parseInt(i[6],10);f=f>=0&&f<=59?f:0;const p=i[7]||"Z";let b=parseInt(i[8],10);b=b>=0&&b<=23?b:0;let v=parseInt(i[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(c+=b,h+=v):p==="+"&&(c-=b,h-=v),new Date(Date.UTC(a,r,l,c,h,f))}}ph=new WeakMap,w(h0,ph);function T2(g,{scale:e=1,rotation:i=0}){const{width:a,height:r}=g.attributes.style,l=[0,0,parseInt(a),parseInt(r)];return new Md({viewBox:l,scale:e,rotation:i})}function d0(g){if(g.startsWith("#")){const e=parseInt(g.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return g.startsWith("rgb(")?g.slice(4,-1).split(",").map(e=>parseInt(e)):g.startsWith("rgba(")?g.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Lt(`Not a valid color format: "${g}"`),[0,0,0])}function w2(g){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const i of g.keys()){e.style.color=i;const a=window.getComputedStyle(e).color;g.set(i,d0(a))}e.remove()}function ge(g){const{a:e,b:i,c:a,d:r,e:l,f:c}=g.getTransform();return[e,i,a,r,l,c]}function La(g){const{a:e,b:i,c:a,d:r,e:l,f:c}=g.getTransform().invertSelf();return[e,i,a,r,l,c]}function Bo(g,e,i=!1,a=!0){if(e instanceof Md){const{pageWidth:r,pageHeight:l}=e.rawDims,{style:c}=g,h=Ei.isCSSRoundSupported,f=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${l}px`,b=h?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,v=h?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!i||e.rotation%180===0?(c.width=b,c.height=v):(c.width=v,c.height=b)}a&&g.setAttribute("data-main-rotation",e.rotation)}class qb{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Hs,Gr,Mn,qr,gh,mh,Pp,l_,xi,u_,c_,ap,h_,Xb;const Na=class Na{constructor(e){w(this,xi);w(this,Hs,null);w(this,Gr,null);w(this,Mn);w(this,qr,null);w(this,gh,null);S(this,Mn,e),u(Na,mh)||S(Na,mh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=S(this,Hs,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const i=u(this,Mn)._uiManager._signal;e.addEventListener("contextmenu",En,{signal:i}),e.addEventListener("pointerdown",E(Na,Pp,l_),{signal:i});const a=S(this,qr,document.createElement("div"));a.className="buttons",e.append(a);const r=u(this,Mn).toolbarPosition;if(r){const{style:l}=e,c=u(this,Mn)._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return E(this,xi,h_).call(this),e}get div(){return u(this,Hs)}hide(){var e;u(this,Hs).classList.add("hidden"),(e=u(this,Gr))==null||e.hideDropdown()}show(){var e;u(this,Hs).classList.remove("hidden"),(e=u(this,gh))==null||e.shown()}async addAltText(e){const i=await e.render();E(this,xi,ap).call(this,i),u(this,qr).prepend(i,u(this,xi,Xb)),S(this,gh,e)}addColorPicker(e){S(this,Gr,e);const i=e.renderButton();E(this,xi,ap).call(this,i),u(this,qr).prepend(i,u(this,xi,Xb))}remove(){var e;u(this,Hs).remove(),(e=u(this,Gr))==null||e.destroy(),S(this,Gr,null)}};Hs=new WeakMap,Gr=new WeakMap,Mn=new WeakMap,qr=new WeakMap,gh=new WeakMap,mh=new WeakMap,Pp=new WeakSet,l_=function(e){e.stopPropagation()},xi=new WeakSet,u_=function(e){u(this,Mn)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},c_=function(e){u(this,Mn)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},ap=function(e){const i=u(this,Mn)._uiManager._signal;e.addEventListener("focusin",E(this,xi,u_).bind(this),{capture:!0,signal:i}),e.addEventListener("focusout",E(this,xi,c_).bind(this),{capture:!0,signal:i}),e.addEventListener("contextmenu",En,{signal:i})},h_=function(){const{editorType:e,_uiManager:i}=u(this,Mn),a=document.createElement("button");a.className="delete",a.tabIndex=0,a.setAttribute("data-l10n-id",u(Na,mh)[e]),E(this,xi,ap).call(this,a),a.addEventListener("click",r=>{i.delete()},{signal:i._signal}),u(this,qr).append(a)},Xb=function(){const e=document.createElement("div");return e.className="divider",e},w(Na,Pp),w(Na,mh,null);let Vb=Na;var bh,Vr,Xr,fr,d_,f_,p_;class C2{constructor(e){w(this,fr);w(this,bh,null);w(this,Vr,null);w(this,Xr);S(this,Xr,e)}show(e,i,a){const[r,l]=E(this,fr,f_).call(this,i,a),{style:c}=u(this,Vr)||S(this,Vr,E(this,fr,d_).call(this));e.append(u(this,Vr)),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){u(this,Vr).remove()}}bh=new WeakMap,Vr=new WeakMap,Xr=new WeakMap,fr=new WeakSet,d_=function(){const e=S(this,Vr,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",En,{signal:u(this,Xr)._signal});const i=S(this,bh,document.createElement("div"));return i.className="buttons",e.append(i),E(this,fr,p_).call(this),e},f_=function(e,i){let a=0,r=0;for(const l of e){const c=l.y+l.height;if(c<a)continue;const h=l.x+(i?l.width:0);if(c>a){r=h,a=c;continue}i?h>r&&(r=h):h<r&&(r=h)}return[i?1-r:r,a]},p_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");e.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const a=u(this,Xr)._signal;e.addEventListener("contextmenu",En,{signal:a}),e.addEventListener("click",()=>{u(this,Xr).highlightSelection("floating_button")},{signal:a}),u(this,bh).append(e)};function Lp(g,e,i){for(const a of i)e.addEventListener(a,g[a].bind(g))}function R2(g){return Math.round(Math.min(255,Math.max(1,255*g))).toString(16).padStart(2,"0")}var Hp;class M2{constructor(){w(this,Hp,0)}get id(){return`${l2}${yi(this,Hp)._++}`}}Hp=new WeakMap;var Yl,vh,di,Kl,sp;const S0=class S0{constructor(){w(this,Kl);w(this,Yl,S2());w(this,vh,0);w(this,di,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const l=r.decode().then(()=>(a.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0]===0));return Ft(this,"_isSVGFittingCanvas",l)}async getFromFile(e){const{lastModified:i,name:a,size:r,type:l}=e;return E(this,Kl,sp).call(this,`${i}_${a}_${r}_${l}`,e)}async getFromUrl(e){return E(this,Kl,sp).call(this,e,e)}async getFromBlob(e,i){const a=await i;return E(this,Kl,sp).call(this,e,a)}async getFromId(e){u(this,di)||S(this,di,new Map);const i=u(this,di).get(e);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:a}=i;return delete i.blobPromise,this.getFromBlob(i.id,a)}return this.getFromUrl(i.url)}getFromCanvas(e,i){u(this,di)||S(this,di,new Map);let a=u(this,di).get(e);if(a!=null&&a.bitmap)return a.refCounter+=1,a;const r=new OffscreenCanvas(i.width,i.height);return r.getContext("2d").drawImage(i,0,0),a={bitmap:r.transferToImageBitmap(),id:`image_${u(this,Yl)}_${yi(this,vh)._++}`,refCounter:1,isSvg:!1},u(this,di).set(e,a),u(this,di).set(a.id,a),a}getSvgUrl(e){const i=u(this,di).get(e);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(e){var r;u(this,di)||S(this,di,new Map);const i=u(this,di).get(e);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:a}=i;if(!i.url&&!i.file){const l=new OffscreenCanvas(a.width,a.height);l.getContext("bitmaprenderer").transferFromImageBitmap(a),i.blobPromise=l.convertToBlob()}(r=a.close)==null||r.call(a),i.bitmap=null}isValidId(e){return e.startsWith(`image_${u(this,Yl)}_`)}};Yl=new WeakMap,vh=new WeakMap,di=new WeakMap,Kl=new WeakSet,sp=async function(e,i){u(this,di)||S(this,di,new Map);let a=u(this,di).get(e);if(a===null)return null;if(a!=null&&a.bitmap)return a.refCounter+=1,a;try{a||(a={bitmap:null,id:`image_${u(this,Yl)}_${yi(this,vh)._++}`,refCounter:0,isSvg:!1});let r;if(typeof i=="string"?(a.url=i,r=await sg(i,"blob")):i instanceof File?r=a.file=i:i instanceof Blob&&(r=i),r.type==="image/svg+xml"){const l=S0._isSVGFittingCanvas,c=new FileReader,h=new Image,f=new Promise((p,b)=>{h.onload=()=>{a.bitmap=h,a.isSvg=!0,p()},c.onload=async()=>{const v=a.svgUrl=c.result;h.src=await l?`${v}#svgView(preserveAspectRatio(none))`:v},h.onerror=c.onerror=b});c.readAsDataURL(r),await f}else a.bitmap=await createImageBitmap(r);a.refCounter=1}catch(r){console.error(r),a=null}return u(this,di).set(e,a),a&&u(this,di).set(a.id,a),a};let Yb=S0;var Ye,Fs,yh,Ke;class k2{constructor(e=128){w(this,Ye,[]);w(this,Fs,!1);w(this,yh);w(this,Ke,-1);S(this,yh,e)}add({cmd:e,undo:i,post:a,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:h=!1}){if(r&&e(),u(this,Fs))return;const f={cmd:e,undo:i,post:a,type:l};if(u(this,Ke)===-1){u(this,Ye).length>0&&(u(this,Ye).length=0),S(this,Ke,0),u(this,Ye).push(f);return}if(c&&u(this,Ye)[u(this,Ke)].type===l){h&&(f.undo=u(this,Ye)[u(this,Ke)].undo),u(this,Ye)[u(this,Ke)]=f;return}const p=u(this,Ke)+1;p===u(this,yh)?u(this,Ye).splice(0,1):(S(this,Ke,p),p<u(this,Ye).length&&u(this,Ye).splice(p)),u(this,Ye).push(f)}undo(){if(u(this,Ke)===-1)return;S(this,Fs,!0);const{undo:e,post:i}=u(this,Ye)[u(this,Ke)];e(),i==null||i(),S(this,Fs,!1),S(this,Ke,u(this,Ke)-1)}redo(){if(u(this,Ke)<u(this,Ye).length-1){S(this,Ke,u(this,Ke)+1),S(this,Fs,!0);const{cmd:e,post:i}=u(this,Ye)[u(this,Ke)];e(),i==null||i(),S(this,Fs,!1)}}hasSomethingToUndo(){return u(this,Ke)!==-1}hasSomethingToRedo(){return u(this,Ke)<u(this,Ye).length-1}destroy(){S(this,Ye,null)}}Ye=new WeakMap,Fs=new WeakMap,yh=new WeakMap,Ke=new WeakMap;var Fp,g_;class kd{constructor(e){w(this,Fp);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=Ei.platform;for(const[a,r,l={}]of e)for(const c of a){const h=c.startsWith("mac+");i&&h?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!i&&!h&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}exec(e,i){if(!this.allKeys.has(i.key))return;const a=this.callbacks.get(E(this,Fp,g_).call(this,i));if(!a)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:h=null}}=a;h&&!h(e,i)||(r.bind(e,...c,i)(),l||(i.stopPropagation(),i.preventDefault()))}}Fp=new WeakSet,g_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const Bp=class Bp{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return w2(e),Ft(this,"_colors",e)}convert(e){const i=d0(e);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[a,r]of this._colors)if(r.every((l,c)=>l===i[c]))return Bp._colorsMapping.get(a);return i}getHexCode(e){const i=this._colors.get(e);return i?dt.makeHexColor(...i):e}};St(Bp,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Kb=Bp;var Zl,Yi,je,ni,Ql,za,Wl,kn,Bs,$l,Yr,Qn,Dn,Kr,Ah,Sh,Jl,_h,Wn,Us,tu,Is,$n,Up,Gs,Eh,qs,Zr,xh,Th,Ze,Kt,Pa,Qr,wh,Ch,Vs,Jn,Ha,Rh,gn,at,rp,Zb,m_,b_,op,v_,y_,A_,Qb,S_,Wb,$b,__,Ai,js,E_,x_,Jb,T_,Zc,tv;const Il=class Il{constructor(e,i,a,r,l,c,h,f,p,b,v){w(this,at);w(this,Zl,new AbortController);w(this,Yi,null);w(this,je,new Map);w(this,ni,new Map);w(this,Ql,null);w(this,za,null);w(this,Wl,null);w(this,kn,new k2);w(this,Bs,null);w(this,$l,0);w(this,Yr,new Set);w(this,Qn,null);w(this,Dn,null);w(this,Kr,new Set);w(this,Ah,!1);w(this,Sh,!1);w(this,Jl,!1);w(this,_h,null);w(this,Wn,null);w(this,Us,null);w(this,tu,null);w(this,Is,!1);w(this,$n,null);w(this,Up,new M2);w(this,Gs,!1);w(this,Eh,!1);w(this,qs,null);w(this,Zr,null);w(this,xh,null);w(this,Th,null);w(this,Ze,Mt.NONE);w(this,Kt,new Set);w(this,Pa,null);w(this,Qr,null);w(this,wh,null);w(this,Ch,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});w(this,Vs,[0,0]);w(this,Jn,null);w(this,Ha,null);w(this,Rh,null);w(this,gn,null);const y=this._signal=u(this,Zl).signal;S(this,Ha,e),S(this,Rh,i),S(this,Ql,a),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:y}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),r._on("setpreference",this.onSetPreference.bind(this),{signal:y}),r._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:y}),E(this,at,v_).call(this),E(this,at,__).call(this),E(this,at,Qb).call(this),S(this,za,l.annotationStorage),S(this,_h,l.filterFactory),S(this,Qr,c),S(this,tu,h||null),S(this,Ah,f),S(this,Sh,p),S(this,Jl,b),S(this,Th,v||null),this.viewParameters={realScale:hr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Il.prototype,i=c=>u(c,Ha).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),a=(c,{target:h})=>{if(h instanceof HTMLInputElement){const{type:f}=h;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Ft(this,"_keyboardManager",new kd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:a}],[["ctrl+z","mac+meta+z"],e.undo,{checker:a}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:a}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:a}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&u(c,Ha).contains(h)&&!c.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(c,{target:h})=>!(h instanceof HTMLButtonElement)&&u(c,Ha).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-l,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[l,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-l],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,l],checker:i}]]))}destroy(){var e,i,a,r;(e=u(this,gn))==null||e.resolve(),S(this,gn,null),(i=u(this,Zl))==null||i.abort(),S(this,Zl,null),this._signal=null;for(const l of u(this,ni).values())l.destroy();u(this,ni).clear(),u(this,je).clear(),u(this,Kr).clear(),S(this,Yi,null),u(this,Kt).clear(),u(this,kn).destroy(),(a=u(this,Ql))==null||a.destroy(),(r=u(this,$n))==null||r.hide(),S(this,$n,null),u(this,Wn)&&(clearTimeout(u(this,Wn)),S(this,Wn,null)),u(this,Jn)&&(clearTimeout(u(this,Jn)),S(this,Jn,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return u(this,Th)}get useNewAltTextFlow(){return u(this,Sh)}get useNewAltTextWhenAddingImage(){return u(this,Jl)}get hcmFilter(){return Ft(this,"hcmFilter",u(this,Qr)?u(this,_h).addHCMFilter(u(this,Qr).foreground,u(this,Qr).background):"none")}get direction(){return Ft(this,"direction",getComputedStyle(u(this,Ha)).direction)}get highlightColors(){return Ft(this,"highlightColors",u(this,tu)?new Map(u(this,tu).split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return Ft(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){S(this,xh,e)}editAltText(e,i=!1){var a;(a=u(this,Ql))==null||a.editAltText(this,e,i)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){switch(e){case"enableNewAltTextWhenAddingImage":S(this,Jl,i);break}}onPageChanging({pageNumber:e}){S(this,$l,e-1)}focusMainContainer(){u(this,Ha).focus()}findParent(e,i){for(const a of u(this,ni).values()){const{x:r,y:l,width:c,height:h}=a.div.getBoundingClientRect();if(e>=r&&e<=r+c&&i>=l&&i<=l+h)return a}return null}disableUserSelect(e=!1){u(this,Rh).classList.toggle("noUserSelect",e)}addShouldRescale(e){u(this,Kr).add(e)}removeShouldRescale(e){u(this,Kr).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*hr.PDF_TO_CSS_UNITS;for(const i of u(this,Kr))i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:a,anchorOffset:r,focusNode:l,focusOffset:c}=i,h=i.toString(),p=E(this,at,rp).call(this,i).closest(".textLayer"),b=this.getSelectionBoxes(p);if(!b)return;i.empty();const v=E(this,at,Zb).call(this,p),y=u(this,Ze)===Mt.NONE,_=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:b,anchorNode:a,anchorOffset:r,focusNode:l,focusOffset:c,text:h}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Mt.HIGHLIGHT,_);return}_()}addToAnnotationStorage(e){!e.isEmpty()&&u(this,za)&&!u(this,za).has(e.id)&&u(this,za).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,u(this,Is)&&(S(this,Is,!1),E(this,at,op).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of u(this,Kt))if(i.div.contains(e)){S(this,Zr,[i,e]),i._focusEventsAllowed=!1;break}}focus(){if(!u(this,Zr))return;const[e,i]=u(this,Zr);S(this,Zr,null),i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){E(this,at,Qb).call(this),E(this,at,Wb).call(this)}removeEditListeners(){E(this,at,S_).call(this),E(this,at,$b).call(this)}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const a of u(this,Dn))if(a.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const i of e.dataTransfer.items)for(const a of u(this,Dn))if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){var a;if(e.preventDefault(),(a=u(this,Yi))==null||a.commitOrRemove(),!this.hasSelection)return;const i=[];for(const r of u(this,Kt)){const l=r.serialize(!0);l&&i.push(l)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:i}=e;for(const l of i.items)for(const c of u(this,Dn))if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let a=i.getData("application/pdfjs");if(!a)return;try{a=JSON.parse(a)}catch(l){Lt(`paste: "${l.message}".`);return}if(!Array.isArray(a))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of a){const p=await r.deserialize(f);if(!p)return;l.push(p)}const c=()=>{for(const f of l)E(this,at,Jb).call(this,f);E(this,at,tv).call(this,l)},h=()=>{for(const f of l)f.remove()};this.addCommands({cmd:c,undo:h,mustExec:!0})}catch(l){Lt(`paste: "${l.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),u(this,Ze)!==Mt.NONE&&!this.isEditorHandlingKeyboard&&Il._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,u(this,Is)&&(S(this,Is,!1),E(this,at,op).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(E(this,at,y_).call(this),E(this,at,Wb).call(this),E(this,at,Ai).call(this,{isEditing:u(this,Ze)!==Mt.NONE,isEmpty:E(this,at,Zc).call(this),hasSomethingToUndo:u(this,kn).hasSomethingToUndo(),hasSomethingToRedo:u(this,kn).hasSomethingToRedo(),hasSelectedEditor:!1})):(E(this,at,A_).call(this),E(this,at,$b).call(this),E(this,at,Ai).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!u(this,Dn)){S(this,Dn,e);for(const i of u(this,Dn))E(this,at,js).call(this,i.defaultPropertiesToUpdate)}}getId(){return u(this,Up).id}get currentLayer(){return u(this,ni).get(u(this,$l))}getLayer(e){return u(this,ni).get(e)}get currentPageIndex(){return u(this,$l)}addLayer(e){u(this,ni).set(e.pageIndex,e),u(this,Gs)?e.enable():e.disable()}removeLayer(e){u(this,ni).delete(e.pageIndex)}async updateMode(e,i=null,a=!1){if(u(this,Ze)!==e&&!(u(this,gn)&&(await u(this,gn).promise,!u(this,gn)))){if(S(this,gn,Promise.withResolvers()),S(this,Ze,e),e===Mt.NONE){this.setEditingState(!1),E(this,at,x_).call(this),u(this,gn).resolve();return}this.setEditingState(!0),await E(this,at,E_).call(this),this.unselectAll();for(const r of u(this,ni).values())r.updateMode(e);if(!i){a&&this.addNewEditorFromKeyboard(),u(this,gn).resolve();return}for(const r of u(this,je).values())r.annotationElementId===i?(this.setSelected(r),r.enterInEditMode()):r.unselect();u(this,gn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==u(this,Ze)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){var a;if(u(this,Dn)){switch(e){case _t.CREATE:this.currentLayer.addNewEditor();return;case _t.HIGHLIGHT_DEFAULT_COLOR:(a=u(this,xh))==null||a.updateColor(i);break;case _t.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(u(this,wh)||S(this,wh,new Map)).set(e,i),this.showAllEditors("highlight",i);break}for(const r of u(this,Kt))r.updateParams(e,i);for(const r of u(this,Dn))r.updateDefaultParams(e,i)}}showAllEditors(e,i,a=!1){var l;for(const c of u(this,je).values())c.editorType===e&&c.show(i);(((l=u(this,wh))==null?void 0:l.get(_t.HIGHLIGHT_SHOW_ALL))??!0)!==i&&E(this,at,js).call(this,[[_t.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(u(this,Eh)!==e){S(this,Eh,e);for(const i of u(this,ni).values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}getEditors(e){const i=[];for(const a of u(this,je).values())a.pageIndex===e&&i.push(a);return i}getEditor(e){return u(this,je).get(e)}addEditor(e){u(this,je).set(e.id,e)}removeEditor(e){var i;e.div.contains(document.activeElement)&&(u(this,Wn)&&clearTimeout(u(this,Wn)),S(this,Wn,setTimeout(()=>{this.focusMainContainer(),S(this,Wn,null)},0))),u(this,je).delete(e.id),this.unselect(e),(!e.annotationElementId||!u(this,Yr).has(e.annotationElementId))&&((i=u(this,za))==null||i.remove(e.id))}addDeletedAnnotationElement(e){u(this,Yr).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return u(this,Yr).has(e)}removeDeletedAnnotationElement(e){u(this,Yr).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){u(this,Yi)!==e&&(S(this,Yi,e),e&&E(this,at,js).call(this,e.propertiesToUpdate))}updateUI(e){u(this,at,T_)===e&&E(this,at,js).call(this,e.propertiesToUpdate)}toggleSelected(e){if(u(this,Kt).has(e)){u(this,Kt).delete(e),e.unselect(),E(this,at,Ai).call(this,{hasSelectedEditor:this.hasSelection});return}u(this,Kt).add(e),e.select(),E(this,at,js).call(this,e.propertiesToUpdate),E(this,at,Ai).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const i of u(this,Kt))i!==e&&i.unselect();u(this,Kt).clear(),u(this,Kt).add(e),e.select(),E(this,at,js).call(this,e.propertiesToUpdate),E(this,at,Ai).call(this,{hasSelectedEditor:!0})}isSelected(e){return u(this,Kt).has(e)}get firstSelectedEditor(){return u(this,Kt).values().next().value}unselect(e){e.unselect(),u(this,Kt).delete(e),E(this,at,Ai).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return u(this,Kt).size!==0}get isEnterHandled(){return u(this,Kt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){u(this,kn).undo(),E(this,at,Ai).call(this,{hasSomethingToUndo:u(this,kn).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:E(this,at,Zc).call(this)})}redo(){u(this,kn).redo(),E(this,at,Ai).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:u(this,kn).hasSomethingToRedo(),isEmpty:E(this,at,Zc).call(this)})}addCommands(e){u(this,kn).add(e),E(this,at,Ai).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:E(this,at,Zc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...u(this,Kt)],i=()=>{for(const r of e)r.remove()},a=()=>{for(const r of e)E(this,at,Jb).call(this,r)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){var e;(e=u(this,Yi))==null||e.commitOrRemove()}hasSomethingToControl(){return u(this,Yi)||this.hasSelection}selectAll(){for(const e of u(this,Kt))e.commit();E(this,at,tv).call(this,u(this,je).values())}unselectAll(){if(!(u(this,Yi)&&(u(this,Yi).commitOrRemove(),u(this,Ze)!==Mt.NONE))&&this.hasSelection){for(const e of u(this,Kt))e.unselect();u(this,Kt).clear(),E(this,at,Ai).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,i,a=!1){if(a||this.commitOrRemove(),!this.hasSelection)return;u(this,Vs)[0]+=e,u(this,Vs)[1]+=i;const[r,l]=u(this,Vs),c=[...u(this,Kt)],h=1e3;u(this,Jn)&&clearTimeout(u(this,Jn)),S(this,Jn,setTimeout(()=>{S(this,Jn,null),u(this,Vs)[0]=u(this,Vs)[1]=0,this.addCommands({cmd:()=>{for(const f of c)u(this,je).has(f.id)&&f.translateInPage(r,l)},undo:()=>{for(const f of c)u(this,je).has(f.id)&&f.translateInPage(-r,-l)},mustExec:!1})},h));for(const f of c)f.translateInPage(e,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),S(this,Qn,new Map);for(const e of u(this,Kt))u(this,Qn).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!u(this,Qn))return!1;this.disableUserSelect(!1);const e=u(this,Qn);S(this,Qn,null);let i=!1;for(const[{x:r,y:l,pageIndex:c},h]of e)h.newX=r,h.newY=l,h.newPageIndex=c,i||(i=r!==h.savedX||l!==h.savedY||c!==h.savedPageIndex);if(!i)return!1;const a=(r,l,c,h)=>{if(u(this,je).has(r.id)){const f=u(this,ni).get(h);f?r._setParentAndPosition(f,l,c):(r.pageIndex=h,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:h}]of e)a(r,l,c,h)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:h}]of e)a(r,l,c,h)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(u(this,Qn))for(const a of u(this,Qn).keys())a.drag(e,i)}rebuild(e){if(e.parent===null){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||u(this,Kt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return u(this,Yi)===e}getActive(){return u(this,Yi)}getMode(){return u(this,Ze)}get imageManager(){return Ft(this,"imageManager",new Yb)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let p=0,b=i.rangeCount;p<b;p++)if(!e.contains(i.getRangeAt(p).commonAncestorContainer))return null;const{x:a,y:r,width:l,height:c}=e.getBoundingClientRect();let h;switch(e.getAttribute("data-main-rotation")){case"90":h=(p,b,v,y)=>({x:(b-r)/c,y:1-(p+v-a)/l,width:y/c,height:v/l});break;case"180":h=(p,b,v,y)=>({x:1-(p+v-a)/l,y:1-(b+y-r)/c,width:v/l,height:y/c});break;case"270":h=(p,b,v,y)=>({x:1-(b+y-r)/c,y:(p-a)/l,width:y/c,height:v/l});break;default:h=(p,b,v,y)=>({x:(p-a)/l,y:(b-r)/c,width:v/l,height:y/c});break}const f=[];for(let p=0,b=i.rangeCount;p<b;p++){const v=i.getRangeAt(p);if(!v.collapsed)for(const{x:y,y:_,width:T,height:C}of v.getClientRects())T===0||C===0||f.push(h(y,_,T,C))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:e,id:i}){(u(this,Wl)||S(this,Wl,new Map)).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){var i;(i=u(this,Wl))==null||i.delete(e)}renderAnnotationElement(e){var r;const i=(r=u(this,Wl))==null?void 0:r.get(e.data.id);if(!i)return;const a=u(this,za).getRawValue(i);a&&(u(this,Ze)===Mt.NONE&&!a.hasBeenModified||a.renderAnnotationElement(e))}};Zl=new WeakMap,Yi=new WeakMap,je=new WeakMap,ni=new WeakMap,Ql=new WeakMap,za=new WeakMap,Wl=new WeakMap,kn=new WeakMap,Bs=new WeakMap,$l=new WeakMap,Yr=new WeakMap,Qn=new WeakMap,Dn=new WeakMap,Kr=new WeakMap,Ah=new WeakMap,Sh=new WeakMap,Jl=new WeakMap,_h=new WeakMap,Wn=new WeakMap,Us=new WeakMap,tu=new WeakMap,Is=new WeakMap,$n=new WeakMap,Up=new WeakMap,Gs=new WeakMap,Eh=new WeakMap,qs=new WeakMap,Zr=new WeakMap,xh=new WeakMap,Th=new WeakMap,Ze=new WeakMap,Kt=new WeakMap,Pa=new WeakMap,Qr=new WeakMap,wh=new WeakMap,Ch=new WeakMap,Vs=new WeakMap,Jn=new WeakMap,Ha=new WeakMap,Rh=new WeakMap,gn=new WeakMap,at=new WeakSet,rp=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Zb=function(e){const{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(const a of u(this,ni).values())if(a.hasTextLayer(e))return a;return null},m_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const a=E(this,at,rp).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(a);r&&(u(this,$n)||S(this,$n,new C2(this)),u(this,$n).show(a,r,this.direction==="ltr"))},b_=function(){var l,c,h;const e=document.getSelection();if(!e||e.isCollapsed){u(this,Pa)&&((l=u(this,$n))==null||l.hide(),S(this,Pa,null),E(this,at,Ai).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=e;if(i===u(this,Pa))return;const r=E(this,at,rp).call(this,e).closest(".textLayer");if(!r){u(this,Pa)&&((c=u(this,$n))==null||c.hide(),S(this,Pa,null),E(this,at,Ai).call(this,{hasSelectedText:!1}));return}if((h=u(this,$n))==null||h.hide(),S(this,Pa,i),E(this,at,Ai).call(this,{hasSelectedText:!0}),!(u(this,Ze)!==Mt.HIGHLIGHT&&u(this,Ze)!==Mt.NONE)&&(u(this,Ze)===Mt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),S(this,Is,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=u(this,Ze)===Mt.HIGHLIGHT?E(this,at,Zb).call(this,r):null;f==null||f.toggleDrawing();const p=new AbortController,b=this.combinedSignal(p),v=y=>{y.type==="pointerup"&&y.button!==0||(p.abort(),f==null||f.toggleDrawing(!0),y.type==="pointerup"&&E(this,at,op).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:b}),window.addEventListener("blur",v,{signal:b})}},op=function(e=""){u(this,Ze)===Mt.HIGHLIGHT?this.highlightSelection(e):u(this,Ah)&&E(this,at,m_).call(this)},v_=function(){document.addEventListener("selectionchange",E(this,at,b_).bind(this),{signal:this._signal})},y_=function(){if(u(this,Us))return;S(this,Us,new AbortController);const e=this.combinedSignal(u(this,Us));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},A_=function(){var e;(e=u(this,Us))==null||e.abort(),S(this,Us,null)},Qb=function(){if(u(this,qs))return;S(this,qs,new AbortController);const e=this.combinedSignal(u(this,qs));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},S_=function(){var e;(e=u(this,qs))==null||e.abort(),S(this,qs,null)},Wb=function(){if(u(this,Bs))return;S(this,Bs,new AbortController);const e=this.combinedSignal(u(this,Bs));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},$b=function(){var e;(e=u(this,Bs))==null||e.abort(),S(this,Bs,null)},__=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ai=function(e){Object.entries(e).some(([a,r])=>u(this,Ch)[a]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(u(this,Ch),e)}),u(this,Ze)===Mt.HIGHLIGHT&&e.hasSelectedEditor===!1&&E(this,at,js).call(this,[[_t.HIGHLIGHT_FREE,!0]]))},js=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},E_=async function(){if(!u(this,Gs)){S(this,Gs,!0);const e=[];for(const i of u(this,ni).values())e.push(i.enable());await Promise.all(e);for(const i of u(this,je).values())i.enable()}},x_=function(){if(this.unselectAll(),u(this,Gs)){S(this,Gs,!1);for(const e of u(this,ni).values())e.disable();for(const e of u(this,je).values())e.disable()}},Jb=function(e){const i=u(this,ni).get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},T_=function(){let e=null;for(e of u(this,Kt));return e},Zc=function(){if(u(this,je).size===0)return!0;if(u(this,je).size===1)for(const e of u(this,je).values())return e.isEmpty();return!1},tv=function(e){for(const i of u(this,Kt))i.unselect();u(this,Kt).clear();for(const i of e)i.isEmpty()||(u(this,Kt).add(i),i.select());E(this,at,Ai).call(this,{hasSelectedEditor:this.hasSelection})},St(Il,"TRANSLATE_SMALL",1),St(Il,"TRANSLATE_BIG",10);let Uo=Il;var Qe,ta,Ln,eu,ea,Ki,iu,ia,Oi,Fa,Wr,na,Xs,In,Qc,lp;const Si=class Si{constructor(e){w(this,In);w(this,Qe,null);w(this,ta,!1);w(this,Ln,null);w(this,eu,null);w(this,ea,null);w(this,Ki,null);w(this,iu,!1);w(this,ia,null);w(this,Oi,null);w(this,Fa,null);w(this,Wr,null);w(this,na,!1);S(this,Oi,e),S(this,na,e._uiManager.useNewAltTextFlow),u(Si,Xs)||S(Si,Xs,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Si._l10n??(Si._l10n=e)}async render(){const e=S(this,Ln,document.createElement("button"));e.className="altText",e.tabIndex="0";const i=S(this,eu,document.createElement("span"));e.append(i),u(this,na)?(e.classList.add("new"),e.setAttribute("data-l10n-id",u(Si,Xs).missing),i.setAttribute("data-l10n-id",u(Si,Xs)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const a=u(this,Oi)._uiManager._signal;e.addEventListener("contextmenu",En,{signal:a}),e.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:a});const r=l=>{l.preventDefault(),u(this,Oi)._uiManager.editAltText(u(this,Oi)),u(this,na)&&u(this,Oi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:u(this,In,Qc)}})};return e.addEventListener("click",r,{capture:!0,signal:a}),e.addEventListener("keydown",l=>{l.target===e&&l.key==="Enter"&&(S(this,iu,!0),r(l))},{signal:a}),await E(this,In,lp).call(this),e}finish(){u(this,Ln)&&(u(this,Ln).focus({focusVisible:u(this,iu)}),S(this,iu,!1))}isEmpty(){return u(this,na)?u(this,Qe)===null:!u(this,Qe)&&!u(this,ta)}hasData(){return u(this,na)?u(this,Qe)!==null||!!u(this,Fa):this.isEmpty()}get guessedText(){return u(this,Fa)}async setGuessedText(e){u(this,Qe)===null&&(S(this,Fa,e),S(this,Wr,await Si._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),E(this,In,lp).call(this))}toggleAltTextBadge(e=!1){var i;if(!u(this,na)||u(this,Qe)){(i=u(this,ia))==null||i.remove(),S(this,ia,null);return}if(!u(this,ia)){const a=S(this,ia,document.createElement("div"));a.className="noAltTextBadge",u(this,Oi).div.append(a)}u(this,ia).classList.toggle("hidden",!e)}serialize(e){let i=u(this,Qe);return!e&&u(this,Fa)===i&&(i=u(this,Wr)),{altText:i,decorative:u(this,ta),guessedText:u(this,Fa),textWithDisclaimer:u(this,Wr)}}get data(){return{altText:u(this,Qe),decorative:u(this,ta)}}set data({altText:e,decorative:i,guessedText:a,textWithDisclaimer:r,cancel:l=!1}){a&&(S(this,Fa,a),S(this,Wr,r)),!(u(this,Qe)===e&&u(this,ta)===i)&&(l||(S(this,Qe,e),S(this,ta,i)),E(this,In,lp).call(this))}toggle(e=!1){u(this,Ln)&&(!e&&u(this,Ki)&&(clearTimeout(u(this,Ki)),S(this,Ki,null)),u(this,Ln).disabled=!e)}shown(){u(this,Oi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:u(this,In,Qc)}})}destroy(){var e,i;(e=u(this,Ln))==null||e.remove(),S(this,Ln,null),S(this,eu,null),S(this,ea,null),(i=u(this,ia))==null||i.remove(),S(this,ia,null)}};Qe=new WeakMap,ta=new WeakMap,Ln=new WeakMap,eu=new WeakMap,ea=new WeakMap,Ki=new WeakMap,iu=new WeakMap,ia=new WeakMap,Oi=new WeakMap,Fa=new WeakMap,Wr=new WeakMap,na=new WeakMap,Xs=new WeakMap,In=new WeakSet,Qc=function(){return u(this,Qe)&&"added"||u(this,Qe)===null&&this.guessedText&&"review"||"missing"},lp=async function(){var r,l,c;const e=u(this,Ln);if(!e)return;if(u(this,na)){if(e.classList.toggle("done",!!u(this,Qe)),e.setAttribute("data-l10n-id",u(Si,Xs)[u(this,In,Qc)]),(r=u(this,eu))==null||r.setAttribute("data-l10n-id",u(Si,Xs)[`${u(this,In,Qc)}-label`]),!u(this,Qe)){(l=u(this,ea))==null||l.remove();return}}else{if(!u(this,Qe)&&!u(this,ta)){e.classList.remove("done"),(c=u(this,ea))==null||c.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=u(this,ea);if(!i){S(this,ea,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${u(this,Oi).id}`;const h=100,f=u(this,Oi)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(u(this,Ki)),S(this,Ki,null)},{once:!0}),e.addEventListener("mouseenter",()=>{S(this,Ki,setTimeout(()=>{S(this,Ki,null),u(this,ea).classList.add("show"),u(this,Oi)._reportTelemetry({action:"alt_text_tooltip"})},h))},{signal:f}),e.addEventListener("mouseleave",()=>{var p;u(this,Ki)&&(clearTimeout(u(this,Ki)),S(this,Ki,null)),(p=u(this,ea))==null||p.classList.remove("show")},{signal:f})}u(this,ta)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=u(this,Qe)),i.parentNode||e.append(i);const a=u(this,Oi).getImageForAltText();a==null||a.setAttribute("aria-describedby",i.id)},w(Si,Xs,null),St(Si,"_l10n",null);let Op=Si;var $r,On,fe,nu,Jr,ai,to,Ys,Mh,eo,Ks,kh,io,Ba,aa,au,su,mn,Dh,Ip,kt,ev,Lh,iv,nv,w_,C_,av,sv,rv,R_,ov,M_,k_,D_,lv,Wc;const Vt=class Vt{constructor(e){w(this,kt);w(this,$r,null);w(this,On,null);w(this,fe,null);w(this,nu,!1);w(this,Jr,!1);w(this,ai,null);w(this,to,null);w(this,Ys,null);w(this,Mh,"");w(this,eo,!1);w(this,Ks,null);w(this,kh,!1);w(this,io,!1);w(this,Ba,!1);w(this,aa,null);w(this,au,0);w(this,su,0);w(this,mn,null);St(this,"_editToolbar",null);St(this,"_initialOptions",Object.create(null));St(this,"_initialData",null);St(this,"_isVisible",!0);St(this,"_uiManager",null);St(this,"_focusEventsAllowed",!0);w(this,Dh,!1);w(this,Ip,Vt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:a,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[a,r],this.pageTranslation=[l,c];const[h,f]=this.parentDimensions;this.x=e.x/h,this.y=e.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Vt.prototype._resizeWithKeyboard,i=Uo.TRANSLATE_SMALL,a=Uo.TRANSLATE_BIG;return Ft(this,"_resizerKeyboardManager",new kd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-a,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[a,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-a]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,a]}],[["Escape","mac+Escape"],Vt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ft(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const i=new D2({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});i.annotationElementId=e.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(e,i){if(Vt._l10n??(Vt._l10n=e),Vt._l10nResizer||(Vt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Vt._borderLineWidth!==-1)return;const a=getComputedStyle(document.documentElement);Vt._borderLineWidth=parseFloat(a.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,i){oe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return u(this,Dh)}set _isDraggable(e){var i;S(this,Dh,e),(i=this.div)==null||i.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(e*2),this.y+=this.width*e/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(e*2),this.y-=this.width*e/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=u(this,Ip)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):E(this,kt,Wc).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(u(this,eo)?S(this,eo,!1):this.parent.setSelected(this))}focusout(e){var a;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(e.preventDefault(),(a=this.parent)!=null&&a.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,i,a,r){const[l,c]=this.parentDimensions;[a,r]=this.screenToPageTranslation(a,r),this.x=(e+a)/l,this.y=(i+r)/c,this.fixAndSetPosition()}translate(e,i){E(this,kt,ev).call(this,this.parentDimensions,e,i)}translateInPage(e,i){u(this,Ks)||S(this,Ks,[this.x,this.y]),E(this,kt,ev).call(this,this.pageDimensions,e,i),this.div.scrollIntoView({block:"nearest"})}drag(e,i){u(this,Ks)||S(this,Ks,[this.x,this.y]);const[a,r]=this.parentDimensions;if(this.x+=e/a,this.y+=i/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,f]=this.getBaseTranslation();l+=h,c+=f,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*c).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!u(this,Ks)&&(u(this,Ks)[0]!==this.x||u(this,Ks)[1]!==this.y)}getBaseTranslation(){const[e,i]=this.parentDimensions,{_borderLineWidth:a}=Vt,r=a/e,l=a/i;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[i,a]=this.pageDimensions;let{x:r,y:l,width:c,height:h}=this;if(c*=i,h*=a,r*=i,l*=a,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(i-c,r)),l=Math.max(0,Math.min(a-h,l));break;case 90:r=Math.max(0,Math.min(i-h,r)),l=Math.min(a,Math.max(c,l));break;case 180:r=Math.min(i,Math.max(c,r)),l=Math.min(a,Math.max(h,l));break;case 270:r=Math.min(i,Math.max(h,r)),l=Math.max(0,Math.min(a-c,l));break}this.x=r/=i,this.y=l/=a;const[f,p]=this.getBaseTranslation();r+=f,l+=p;const{style:b}=this.div;b.left=`${(100*r).toFixed(2)}%`,b.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,i){var a;return E(a=Vt,Lh,iv).call(a,e,i,this.parentRotation)}pageTranslationToScreen(e,i){var a;return E(a=Vt,Lh,iv).call(a,e,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[i,a]}=this;return[i*e,a*e]}setDims(e,i){const[a,r]=this.parentDimensions;this.div.style.width=`${(100*e/a).toFixed(2)}%`,u(this,Jr)||(this.div.style.height=`${(100*i/r).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:i,width:a}=e,r=a.endsWith("%"),l=!u(this,Jr)&&i.endsWith("%");if(r&&l)return;const[c,h]=this.parentDimensions;r||(e.width=`${(100*parseFloat(a)/c).toFixed(2)}%`),!u(this,Jr)&&!l&&(e.height=`${(100*parseFloat(i)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=u(this,fe))==null||e.finish()}async addEditToolbar(){return this._editToolbar||u(this,io)?this._editToolbar:(this._editToolbar=new Vb(this),this.div.append(this._editToolbar.render()),u(this,fe)&&await this._editToolbar.addAltText(u(this,fe)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=u(this,fe))==null||e.destroy())}addContainer(e){var a;const i=(a=this._editToolbar)==null?void 0:a.div;i?i.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){u(this,fe)||(Op.initialize(Vt._l10n),S(this,fe,new Op(this)),u(this,$r)&&(u(this,fe).data=u(this,$r),S(this,$r,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=u(this,fe))==null?void 0:e.data}set altTextData(e){u(this,fe)&&(u(this,fe).data=e)}get guessedAltText(){var e;return(e=u(this,fe))==null?void 0:e.guessedText}async setGuessedAltText(e){var i;await((i=u(this,fe))==null?void 0:i.setGuessedText(e))}serializeAltText(e){var i;return(i=u(this,fe))==null?void 0:i.serialize(e)}hasAltText(){return!!u(this,fe)&&!u(this,fe).isEmpty()}hasAltTextData(){var e;return((e=u(this,fe))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=u(this,nu)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),E(this,kt,ov).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[a,r]=this.getInitialTranslation();return this.translate(a,r),Lp(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:i}=Ei.platform;if(e.button!==0||e.ctrlKey&&i){e.preventDefault();return}if(S(this,eo,!0),this._isDraggable){E(this,kt,R_).call(this,e);return}E(this,kt,rv).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){u(this,aa)&&clearTimeout(u(this,aa)),S(this,aa,setTimeout(()=>{var e;S(this,aa,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,i,a){e.changeParent(this),this.x=i,this.y=a,this.fixAndSetPosition()}getRect(e,i,a=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[h,f]=this.pageTranslation,p=e/r,b=i/r,v=this.x*l,y=this.y*c,_=this.width*l,T=this.height*c;switch(a){case 0:return[v+p+h,c-y-b-T+f,v+p+_+h,c-y-b+f];case 90:return[v+b+h,c-y+p+f,v+b+T+h,c-y+p+_+f];case 180:return[v-p-_+h,c-y+b+f,v-p+h,c-y+b+T+f];case 270:return[v-b-T+h,c-y-p-_+f,v-b+h,c-y-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,i){const[a,r,l,c]=e,h=l-a,f=c-r;switch(this.rotation){case 0:return[a,i-c,h,f];case 90:return[a,i-r,f,h];case 180:return[l,i-r,h,f];case 270:return[l,i-c,f,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){S(this,io,!0)}disableEditMode(){S(this,io,!1)}isInEditMode(){return u(this,io)}shouldGetKeyboardEvents(){return u(this,Ba)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){E(this,kt,ov).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,i=null){oe("An editor must be serializable")}static async deserialize(e,i,a){const r=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:a});r.rotation=e.rotation,S(r,$r,e.accessibilityData);const[l,c]=r.pageDimensions,[h,f,p,b]=r.getRectInCurrentCoords(e.rect,c);return r.x=h/l,r.y=f/c,r.width=p/l,r.height=b/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=u(this,Ys))==null||e.abort(),S(this,Ys,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),u(this,aa)&&(clearTimeout(u(this,aa)),S(this,aa,null)),E(this,kt,Wc).call(this),this.removeEditToolbar(),u(this,mn)){for(const i of u(this,mn).values())clearTimeout(i);S(this,mn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(E(this,kt,w_).call(this),u(this,ai).classList.remove("hidden"),Lp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),S(this,to,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=u(this,ai).children;if(!u(this,On)){S(this,On,Array.from(i));const c=E(this,kt,M_).bind(this),h=E(this,kt,k_).bind(this),f=this._uiManager._signal;for(const p of u(this,On)){const b=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:f}),p.addEventListener("blur",h,{signal:f}),p.addEventListener("focus",E(this,kt,D_).bind(this,b),{signal:f}),p.setAttribute("data-l10n-id",Vt._l10nResizer[b])}}const a=u(this,On)[0];let r=0;for(const c of i){if(c===a)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(u(this,On).length/4);if(l!==r){if(l<r)for(let h=0;h<r-l;h++)u(this,ai).append(u(this,ai).firstChild);else if(l>r)for(let h=0;h<l-r;h++)u(this,ai).firstChild.before(u(this,ai).lastChild);let c=0;for(const h of i){const p=u(this,On)[c++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",Vt._l10nResizer[p])}}E(this,kt,lv).call(this,0),S(this,Ba,!0),u(this,ai).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,i){u(this,Ba)&&E(this,kt,sv).call(this,u(this,Mh),{movementX:e,movementY:i})}_stopResizingWithKeyboard(){E(this,kt,Wc).call(this),this.div.focus()}select(){var e,i,a;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,l;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((l=this._editToolbar)==null||l.show())});return}(i=this._editToolbar)==null||i.show(),(a=u(this,fe))==null||a.toggleAltTextBadge(!1)}unselect(){var e,i,a,r,l;(e=u(this,ai))==null||e.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(a=this.div)!=null&&a.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(l=u(this,fe))==null||l.toggleAltTextBadge(!0)}updateParams(e,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return u(this,kh)}set isEditing(e){S(this,kh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,i){S(this,Jr,!0);const a=e/i,{style:r}=this.div;r.aspectRatio=a,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,i=!1){if(i){u(this,mn)||S(this,mn,new Map);const{action:a}=e;let r=u(this,mn).get(a);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),u(this,mn).delete(a),u(this,mn).size===0&&S(this,mn,null)},Vt._telemetryTimeout),u(this,mn).set(a,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),S(this,nu,!1)}disable(){this.div&&(this.div.tabIndex=-1),S(this,nu,!0)}renderAnnotationElement(e){let i=e.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),e.container.prepend(i);else if(i.nodeName==="CANVAS"){const a=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),a.before(i)}return i}resetAnnotationElement(e){const{firstChild:i}=e.container;(i==null?void 0:i.nodeName)==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};$r=new WeakMap,On=new WeakMap,fe=new WeakMap,nu=new WeakMap,Jr=new WeakMap,ai=new WeakMap,to=new WeakMap,Ys=new WeakMap,Mh=new WeakMap,eo=new WeakMap,Ks=new WeakMap,kh=new WeakMap,io=new WeakMap,Ba=new WeakMap,aa=new WeakMap,au=new WeakMap,su=new WeakMap,mn=new WeakMap,Dh=new WeakMap,Ip=new WeakMap,kt=new WeakSet,ev=function([e,i],a,r){[a,r]=this.screenToPageTranslation(a,r),this.x+=a/e,this.y+=r/i,this.fixAndSetPosition()},Lh=new WeakSet,iv=function(e,i,a){switch(a){case 90:return[i,-e];case 180:return[-e,-i];case 270:return[-i,e];default:return[e,i]}},nv=function(e){switch(e){case 90:{const[i,a]=this.pageDimensions;return[0,-i/a,a/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,a]=this.pageDimensions;return[0,i/a,-a/i,0]}default:return[1,0,0,1]}},w_=function(){if(u(this,ai))return;S(this,ai,document.createElement("div")),u(this,ai).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const a of e){const r=document.createElement("div");u(this,ai).append(r),r.classList.add("resizer",a),r.setAttribute("data-resizer-name",a),r.addEventListener("pointerdown",E(this,kt,C_).bind(this,a),{signal:i}),r.addEventListener("contextmenu",En,{signal:i}),r.tabIndex=-1}this.div.prepend(u(this,ai))},C_=function(e,i){var T;i.preventDefault();const{isMac:a}=Ei.platform;if(i.button!==0||i.ctrlKey&&a)return;(T=u(this,fe))==null||T.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",E(this,kt,sv).bind(this,e),{passive:!0,capture:!0,signal:c}),window.addEventListener("contextmenu",En,{signal:c});const h=this.x,f=this.y,p=this.width,b=this.height,v=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const _=()=>{var C;l.abort(),this.parent.togglePointerEvents(!0),(C=u(this,fe))==null||C.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=v,this.div.style.cursor=y,E(this,kt,av).call(this,h,f,p,b)};window.addEventListener("pointerup",_,{signal:c}),window.addEventListener("blur",_,{signal:c})},av=function(e,i,a,r){const l=this.x,c=this.y,h=this.width,f=this.height;l===e&&c===i&&h===a&&f===r||this.addCommands({cmd:()=>{this.width=h,this.height=f,this.x=l,this.y=c;const[p,b]=this.parentDimensions;this.setDims(p*h,b*f),this.fixAndSetPosition()},undo:()=>{this.width=a,this.height=r,this.x=e,this.y=i;const[p,b]=this.parentDimensions;this.setDims(p*a,b*r),this.fixAndSetPosition()},mustExec:!0})},sv=function(e,i){const[a,r]=this.parentDimensions,l=this.x,c=this.y,h=this.width,f=this.height,p=Vt.MIN_SIZE/a,b=Vt.MIN_SIZE/r,v=q=>Math.round(q*1e4)/1e4,y=E(this,kt,nv).call(this,this.rotation),_=(q,$)=>[y[0]*q+y[2]*$,y[1]*q+y[3]*$],T=E(this,kt,nv).call(this,360-this.rotation),C=(q,$)=>[T[0]*q+T[2]*$,T[1]*q+T[3]*$];let k,R,L=!1,N=!1;switch(e){case"topLeft":L=!0,k=(q,$)=>[0,0],R=(q,$)=>[q,$];break;case"topMiddle":k=(q,$)=>[q/2,0],R=(q,$)=>[q/2,$];break;case"topRight":L=!0,k=(q,$)=>[q,0],R=(q,$)=>[0,$];break;case"middleRight":N=!0,k=(q,$)=>[q,$/2],R=(q,$)=>[0,$/2];break;case"bottomRight":L=!0,k=(q,$)=>[q,$],R=(q,$)=>[0,0];break;case"bottomMiddle":k=(q,$)=>[q/2,$],R=(q,$)=>[q/2,0];break;case"bottomLeft":L=!0,k=(q,$)=>[0,$],R=(q,$)=>[q,0];break;case"middleLeft":N=!0,k=(q,$)=>[0,$/2],R=(q,$)=>[q,$/2];break}const z=k(h,f),F=R(h,f);let G=_(...F);const X=v(l+G[0]),W=v(c+G[1]);let it=1,ot=1,[st,gt]=this.screenToPageTranslation(i.movementX,i.movementY);if([st,gt]=C(st/a,gt/r),L){const q=Math.hypot(h,f);it=ot=Math.max(Math.min(Math.hypot(F[0]-z[0]-st,F[1]-z[1]-gt)/q,1/h,1/f),p/h,b/f)}else N?it=Math.max(p,Math.min(1,Math.abs(F[0]-z[0]-st)))/h:ot=Math.max(b,Math.min(1,Math.abs(F[1]-z[1]-gt)))/f;const bt=v(h*it),ft=v(f*ot);G=_(...R(bt,ft));const ht=X-G[0],H=W-G[1];this.width=bt,this.height=ft,this.x=ht,this.y=H,this.setDims(a*bt,r*ft),this.fixAndSetPosition()},rv=function(e){const{isMac:i}=Ei.platform;e.ctrlKey&&!i||e.shiftKey||e.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},R_=function(e){const{isSelected:i}=this;this._uiManager.setUpDragSession();const a=new AbortController,r=this._uiManager.combinedSignal(a);if(i){this.div.classList.add("moving"),S(this,au,e.clientX),S(this,su,e.clientY);const c=h=>{const{clientX:f,clientY:p}=h,[b,v]=this.screenToPageTranslation(f-u(this,au),p-u(this,su));S(this,au,f),S(this,su,p),this._uiManager.dragSelectedEditors(b,v)};window.addEventListener("pointermove",c,{passive:!0,capture:!0,signal:r})}const l=()=>{a.abort(),i&&this.div.classList.remove("moving"),S(this,eo,!1),this._uiManager.endDragSession()||E(this,kt,rv).call(this,e)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},ov=function(){if(u(this,Ys)||!this.div)return;S(this,Ys,new AbortController);const e=this._uiManager.combinedSignal(u(this,Ys));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},M_=function(e){Vt._resizerKeyboardManager.exec(this,e)},k_=function(e){var i;u(this,Ba)&&((i=e.relatedTarget)==null?void 0:i.parentNode)!==u(this,ai)&&E(this,kt,Wc).call(this)},D_=function(e){S(this,Mh,u(this,Ba)?e:"")},lv=function(e){if(u(this,On))for(const i of u(this,On))i.tabIndex=e},Wc=function(){if(S(this,Ba,!1),E(this,kt,lv).call(this,-1),u(this,to)){const{savedX:e,savedY:i,savedWidth:a,savedHeight:r}=u(this,to);E(this,kt,av).call(this,e,i,a,r),S(this,to,null)}},w(Vt,Lh),St(Vt,"_l10n",null),St(Vt,"_l10nResizer",null),St(Vt,"_borderLineWidth",-1),St(Vt,"_colorManager",new Kb),St(Vt,"_zIndex",1),St(Vt,"_telemetryTimeout",1e3);let Qt=Vt;class D2 extends Qt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const RS=3285377520,pn=4294901760,Zn=65535;class L_{constructor(e){this.h1=e?e&4294967295:RS,this.h2=e?e&4294967295:RS}update(e){let i,a;if(typeof e=="string"){i=new Uint8Array(e.length*2),a=0;for(let C=0,k=e.length;C<k;C++){const R=e.charCodeAt(C);R<=255?i[a++]=R:(i[a++]=R>>>8,i[a++]=R&255)}}else if(ArrayBuffer.isView(e))i=e.slice(),a=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=a>>2,l=a-r*4,c=new Uint32Array(i.buffer,0,r);let h=0,f=0,p=this.h1,b=this.h2;const v=3432918353,y=461845907,_=v&Zn,T=y&Zn;for(let C=0;C<r;C++)C&1?(h=c[C],h=h*v&pn|h*_&Zn,h=h<<15|h>>>17,h=h*y&pn|h*T&Zn,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(f=c[C],f=f*v&pn|f*_&Zn,f=f<<15|f>>>17,f=f*y&pn|f*T&Zn,b^=f,b=b<<13|b>>>19,b=b*5+3864292196);switch(h=0,l){case 3:h^=i[r*4+2]<<16;case 2:h^=i[r*4+1]<<8;case 1:h^=i[r*4],h=h*v&pn|h*_&Zn,h=h<<15|h>>>17,h=h*y&pn|h*T&Zn,r&1?p^=h:b^=h}this.h1=p,this.h2=b}hexdigest(){let e=this.h1,i=this.h2;return e^=i>>>1,e=e*3981806797&pn|e*36045&Zn,i=i*4283543511&pn|((i<<16|e>>>16)*2950163797&pn)>>>16,e^=i>>>1,e=e*444984403&pn|e*60499&Zn,i=i*3301882366&pn|((i<<16|e>>>16)*3120437893&pn)>>>16,e^=i>>>1,(e>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const uv=Object.freeze({map:null,hash:"",transfer:void 0});var no,ao,We,Gp,O_;class f0{constructor(){w(this,Gp);w(this,no,!1);w(this,ao,null);w(this,We,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,i){const a=u(this,We).get(e);return a===void 0?i:Object.assign(i,a)}getRawValue(e){return u(this,We).get(e)}remove(e){if(u(this,We).delete(e),u(this,We).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of u(this,We).values())if(i instanceof Qt)return;this.onAnnotationEditor(null)}}setValue(e,i){const a=u(this,We).get(e);let r=!1;if(a!==void 0)for(const[l,c]of Object.entries(i))a[l]!==c&&(r=!0,a[l]=c);else r=!0,u(this,We).set(e,i);r&&E(this,Gp,O_).call(this),i instanceof Qt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(e){return u(this,We).has(e)}getAll(){return u(this,We).size>0?o0(u(this,We)):null}setAll(e){for(const[i,a]of Object.entries(e))this.setValue(i,a)}get size(){return u(this,We).size}resetModified(){u(this,no)&&(S(this,no,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new N_(this)}get serializable(){if(u(this,We).size===0)return uv;const e=new Map,i=new L_,a=[],r=Object.create(null);let l=!1;for(const[c,h]of u(this,We)){const f=h instanceof Qt?h.serialize(!1,r):h;f&&(e.set(c,f),i.update(`${c}:${JSON.stringify(f)}`),l||(l=!!f.bitmap))}if(l)for(const c of e.values())c.bitmap&&a.push(c.bitmap);return e.size>0?{map:e,hash:i.hexdigest(),transfer:a}:uv}get editorStats(){let e=null;const i=new Map;for(const a of u(this,We).values()){if(!(a instanceof Qt))continue;const r=a.telemetryFinalData;if(!r)continue;const{type:l}=r;i.has(l)||i.set(l,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const c=e[l]||(e[l]=new Map);for(const[h,f]of Object.entries(r)){if(h==="type")continue;let p=c.get(h);p||(p=new Map,c.set(h,p));const b=p.get(f)??0;p.set(f,b+1)}}for(const[a,r]of i)e[a]=r.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){S(this,ao,null)}get modifiedIds(){if(u(this,ao))return u(this,ao);const e=[];for(const i of u(this,We).values())!(i instanceof Qt)||!i.annotationElementId||!i.serialize()||e.push(i.annotationElementId);return S(this,ao,{ids:new Set(e),hash:e.join(",")})}}no=new WeakMap,ao=new WeakMap,We=new WeakMap,Gp=new WeakSet,O_=function(){u(this,no)||(S(this,no,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Oh;class N_ extends f0{constructor(i){super();w(this,Oh);const{map:a,hash:r,transfer:l}=i.serializable,c=structuredClone(a,l?{transfer:l}:null);S(this,Oh,{map:c,hash:r,transfer:l})}get print(){oe("Should not call PrintAnnotationStorage.print")}get serializable(){return u(this,Oh)}get modifiedIds(){return Ft(this,"modifiedIds",{ids:new Set,hash:""})}}Oh=new WeakMap;var ru;class L2{constructor({ownerDocument:e=globalThis.document,styleElement:i=null}){w(this,ru,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(e,i.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),u(this,ru).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:i}){if(!(!e||u(this,ru).has(e.loadedName))){if(He(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:r,style:l}=e,c=new FontFace(a,r,l);this.addNativeFontFace(c);try{await c.load(),u(this,ru).add(a),i==null||i(e)}catch{Lt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}oe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const a=e.createNativeFontFace();if(a){this.addNativeFontFace(a);try{await a.loaded}catch(r){throw Lt(`Failed to load font '${a.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const i=e.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(a=>{const r=this._queueLoadingCallback(a);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var i;const e=!!((i=this._document)!=null&&i.fonts);return Ft(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(bi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ft(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function i(){for(He(!r.done,"completeRequest() cannot be called twice."),r.done=!0;a.length>0&&a[0].done;){const l=a.shift();setTimeout(l.callback,0)}}const{loadingRequests:a}=this,r={done:!1,complete:i,callback:e};return a.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ft(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,i){function a(z,F){return z.charCodeAt(F)<<24|z.charCodeAt(F+1)<<16|z.charCodeAt(F+2)<<8|z.charCodeAt(F+3)&255}function r(z,F,G,X){const W=z.substring(0,F),it=z.substring(F+G);return W+X+it}let l,c;const h=this._document.createElement("canvas");h.width=1,h.height=1;const f=h.getContext("2d");let p=0;function b(z,F){if(++p>30){Lt("Load test font never loaded."),F();return}if(f.font="30px "+z,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){F();return}setTimeout(b.bind(null,z,F))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,v.length,v);const T=16,C=1482184792;let k=a(y,T);for(l=0,c=v.length-3;l<c;l+=4)k=k-C+a(v,l)|0;l<v.length&&(k=k-C+a(v+"XXX",l)|0),y=r(y,T,4,m2(k));const R=`url(data:font/opentype;base64,${btoa(y)});`,L=`@font-face {font-family:"${v}";src:${R}}`;this.insertRule(L);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const z of[e.loadedName,v]){const F=this._document.createElement("span");F.textContent="Hi",F.style.fontFamily=z,N.append(F)}this._document.body.append(N),b(v,()=>{N.remove(),i.complete()})}}ru=new WeakMap;class O2{constructor(e,{disableFontFace:i=!1,inspectFont:a=null}){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this.disableFontFace=i===!0,this._inspectFont=a}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const a={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(a.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,a)}return(i=this._inspectFont)==null||i.call(this,this),e}createFontFaceRule(){var a;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${_2(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(a=this._inspectFont)==null||a.call(this,this,e),i}getPathGenerator(e,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let a;try{a=e.get(this.loadedName+"_path_"+i)}catch(l){Lt(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(a)||a.length===0)return this.compiledGlyphs[i]=function(l,c){};const r=[];for(let l=0,c=a.length;l<c;)switch(a[l++]){case Da.BEZIER_CURVE_TO:{const[h,f,p,b,v,y]=a.slice(l,l+6);r.push(_=>_.bezierCurveTo(h,f,p,b,v,y)),l+=6}break;case Da.MOVE_TO:{const[h,f]=a.slice(l,l+2);r.push(p=>p.moveTo(h,f)),l+=2}break;case Da.LINE_TO:{const[h,f]=a.slice(l,l+2);r.push(p=>p.lineTo(h,f)),l+=2}break;case Da.QUADRATIC_CURVE_TO:{const[h,f,p,b]=a.slice(l,l+4);r.push(v=>v.quadraticCurveTo(h,f,p,b)),l+=4}break;case Da.RESTORE:r.push(h=>h.restore());break;case Da.SAVE:r.push(h=>h.save());break;case Da.SCALE:He(r.length===2,"Scale command is only valid at the third position.");break;case Da.TRANSFORM:{const[h,f,p,b,v,y]=a.slice(l,l+6);r.push(_=>_.transform(h,f,p,b,v,y)),l+=6}break;case Da.TRANSLATE:{const[h,f]=a.slice(l,l+2);r.push(p=>p.translate(h,f)),l+=2}break}return this.compiledGlyphs[i]=function(c,h){r[0](c),r[1](c),c.scale(h,-h);for(let f=2,p=r.length;f<p;f++)r[f](c)}}}var Nh;class j_{constructor({enableHWA:e=!1}){w(this,Nh,!1);S(this,Nh,e)}create(e,i){if(e<=0||i<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(e,i);return{canvas:a,context:a.getContext("2d",{willReadFrequently:!u(this,Nh)})}}reset(e,i,a){if(!e.canvas)throw new Error("Canvas is not specified");if(i<=0||a<=0)throw new Error("Invalid canvas size");e.canvas.width=i,e.canvas.height=a}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,i){oe("Abstract method `_createCanvas` called.")}}Nh=new WeakMap;class N2 extends j_{constructor({ownerDocument:e=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=e}_createCanvas(e,i){const a=this._document.createElement("canvas");return a.width=e,a.height=i,a}}class z_{constructor({baseUrl:e=null,isCompressed:i=!0}){this.baseUrl=e,this.isCompressed=i}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const i=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(i).then(a=>({cMapData:a,isCompressed:this.isCompressed})).catch(a=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(e){oe("Abstract method `_fetch` called.")}}class P_ extends z_{async _fetch(e){const i=await sg(e,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):ag(i)}}class H_{addFilter(e){return"none"}addHCMFilter(e,i){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,i,a,r,l){return"none"}destroy(e=!1){}}var so,ro,sa,Ua,fi,qp,oo,rt,hi,Nl,jl,up,zl,F_,cv,Pl,$c,Jc,hv,th;class j2 extends H_{constructor({docId:i,ownerDocument:a=globalThis.document}){super();w(this,rt);w(this,so);w(this,ro);w(this,sa);w(this,Ua);w(this,fi);w(this,qp);w(this,oo,0);S(this,Ua,i),S(this,fi,a)}addFilter(i){if(!i)return"none";let a=u(this,rt,hi).get(i);if(a)return a;const[r,l,c]=E(this,rt,up).call(this,i),h=i.length===1?r:`${r}${l}${c}`;if(a=u(this,rt,hi).get(h),a)return u(this,rt,hi).set(i,a),a;const f=`g_${u(this,Ua)}_transfer_map_${yi(this,oo)._++}`,p=E(this,rt,zl).call(this,f);u(this,rt,hi).set(i,p),u(this,rt,hi).set(h,p);const b=E(this,rt,Pl).call(this,f);return E(this,rt,Jc).call(this,r,l,c,b),p}addHCMFilter(i,a){var T;const r=`${i}-${a}`,l="base";let c=u(this,rt,Nl).get(l);if((c==null?void 0:c.key)===r||(c?((T=c.filter)==null||T.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},u(this,rt,Nl).set(l,c)),!i||!a))return c.url;const h=E(this,rt,th).call(this,i);i=dt.makeHexColor(...h);const f=E(this,rt,th).call(this,a);if(a=dt.makeHexColor(...f),u(this,rt,jl).style.color="",i==="#000000"&&a==="#ffffff"||i===a)return c.url;const p=new Array(256);for(let C=0;C<=255;C++){const k=C/255;p[C]=k<=.03928?k/12.92:((k+.055)/1.055)**2.4}const b=p.join(","),v=`g_${u(this,Ua)}_hcm_filter`,y=c.filter=E(this,rt,Pl).call(this,v);E(this,rt,Jc).call(this,b,b,b,y),E(this,rt,cv).call(this,y);const _=(C,k)=>{const R=h[C]/255,L=f[C]/255,N=new Array(k+1);for(let z=0;z<=k;z++)N[z]=R+z/k*(L-R);return N.join(",")};return E(this,rt,Jc).call(this,_(0,5),_(1,5),_(2,5),y),c.url=E(this,rt,zl).call(this,v),c.url}addAlphaFilter(i){let a=u(this,rt,hi).get(i);if(a)return a;const[r]=E(this,rt,up).call(this,[i]),l=`alpha_${r}`;if(a=u(this,rt,hi).get(l),a)return u(this,rt,hi).set(i,a),a;const c=`g_${u(this,Ua)}_alpha_map_${yi(this,oo)._++}`,h=E(this,rt,zl).call(this,c);u(this,rt,hi).set(i,h),u(this,rt,hi).set(l,h);const f=E(this,rt,Pl).call(this,c);return E(this,rt,hv).call(this,r,f),h}addLuminosityFilter(i){let a=u(this,rt,hi).get(i||"luminosity");if(a)return a;let r,l;if(i?([r]=E(this,rt,up).call(this,[i]),l=`luminosity_${r}`):l="luminosity",a=u(this,rt,hi).get(l),a)return u(this,rt,hi).set(i,a),a;const c=`g_${u(this,Ua)}_luminosity_map_${yi(this,oo)._++}`,h=E(this,rt,zl).call(this,c);u(this,rt,hi).set(i,h),u(this,rt,hi).set(l,h);const f=E(this,rt,Pl).call(this,c);return E(this,rt,F_).call(this,f),i&&E(this,rt,hv).call(this,r,f),h}addHighlightHCMFilter(i,a,r,l,c){var L;const h=`${a}-${r}-${l}-${c}`;let f=u(this,rt,Nl).get(i);if((f==null?void 0:f.key)===h||(f?((L=f.filter)==null||L.remove(),f.key=h,f.url="none",f.filter=null):(f={key:h,url:"none",filter:null},u(this,rt,Nl).set(i,f)),!a||!r))return f.url;const[p,b]=[a,r].map(E(this,rt,th).bind(this));let v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),y=Math.round(.2126*b[0]+.7152*b[1]+.0722*b[2]),[_,T]=[l,c].map(E(this,rt,th).bind(this));y<v&&([v,y,_,T]=[y,v,T,_]),u(this,rt,jl).style.color="";const C=(N,z,F)=>{const G=new Array(256),X=(y-v)/F,W=N/255,it=(z-N)/(255*F);let ot=0;for(let st=0;st<=F;st++){const gt=Math.round(v+st*X),bt=W+st*it;for(let ft=ot;ft<=gt;ft++)G[ft]=bt;ot=gt+1}for(let st=ot;st<256;st++)G[st]=G[ot-1];return G.join(",")},k=`g_${u(this,Ua)}_hcm_${i}_filter`,R=f.filter=E(this,rt,Pl).call(this,k);return E(this,rt,cv).call(this,R),E(this,rt,Jc).call(this,C(_[0],T[0],5),C(_[1],T[1],5),C(_[2],T[2],5),R),f.url=E(this,rt,zl).call(this,k),f.url}destroy(i=!1){i&&u(this,rt,Nl).size!==0||(u(this,sa)&&(u(this,sa).parentNode.parentNode.remove(),S(this,sa,null)),u(this,ro)&&(u(this,ro).clear(),S(this,ro,null)),S(this,oo,0))}}so=new WeakMap,ro=new WeakMap,sa=new WeakMap,Ua=new WeakMap,fi=new WeakMap,qp=new WeakMap,oo=new WeakMap,rt=new WeakSet,hi=function(){return u(this,ro)||S(this,ro,new Map)},Nl=function(){return u(this,qp)||S(this,qp,new Map)},jl=function(){if(!u(this,sa)){const i=u(this,fi).createElement("div"),{style:a}=i;a.visibility="hidden",a.contain="strict",a.width=a.height=0,a.position="absolute",a.top=a.left=0,a.zIndex=-1;const r=u(this,fi).createElementNS(Oa,"svg");r.setAttribute("width",0),r.setAttribute("height",0),S(this,sa,u(this,fi).createElementNS(Oa,"defs")),i.append(r),r.append(u(this,sa)),u(this,fi).body.append(i)}return u(this,sa)},up=function(i){if(i.length===1){const p=i[0],b=new Array(256);for(let y=0;y<256;y++)b[y]=p[y]/255;const v=b.join(",");return[v,v,v]}const[a,r,l]=i,c=new Array(256),h=new Array(256),f=new Array(256);for(let p=0;p<256;p++)c[p]=a[p]/255,h[p]=r[p]/255,f[p]=l[p]/255;return[c.join(","),h.join(","),f.join(",")]},zl=function(i){if(u(this,so)===void 0){S(this,so,"");const a=u(this,fi).URL;a!==u(this,fi).baseURI&&(rg(a)?Lt('#createUrl: ignore "data:"-URL for performance reasons.'):S(this,so,a.split("#",1)[0]))}return`url(${u(this,so)}#${i})`},F_=function(i){const a=u(this,fi).createElementNS(Oa,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(a)},cv=function(i){const a=u(this,fi).createElementNS(Oa,"feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(a)},Pl=function(i){const a=u(this,fi).createElementNS(Oa,"filter");return a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("id",i),u(this,rt,jl).append(a),a},$c=function(i,a,r){const l=u(this,fi).createElementNS(Oa,a);l.setAttribute("type","discrete"),l.setAttribute("tableValues",r),i.append(l)},Jc=function(i,a,r,l){const c=u(this,fi).createElementNS(Oa,"feComponentTransfer");l.append(c),E(this,rt,$c).call(this,c,"feFuncR",i),E(this,rt,$c).call(this,c,"feFuncG",a),E(this,rt,$c).call(this,c,"feFuncB",r)},hv=function(i,a){const r=u(this,fi).createElementNS(Oa,"feComponentTransfer");a.append(r),E(this,rt,$c).call(this,r,"feFuncA",i)},th=function(i){return u(this,rt,jl).style.color=i,d0(getComputedStyle(u(this,rt,jl)).getPropertyValue("color"))};class B_{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(a=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(e){oe("Abstract method `_fetch` called.")}}class U_ extends B_{async _fetch(e){const i=await sg(e,"arraybuffer");return new Uint8Array(i)}}if(bi){var dv=Promise.withResolvers(),hh=null;(async()=>{const e=await Qf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await Qf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),a=await Qf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Qf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,c;return new Map(Object.entries({fs:e,http:i,https:a,url:r,canvas:l,path2d:c}))})().then(e=>{hh=e,dv.resolve()},e=>{Lt(`loadPackages: ${e}`),hh=new Map,dv.resolve()})}class dr{static get promise(){return dv.promise}static get(e){return hh==null?void 0:hh.get(e)}}async function I_(g){const i=await dr.get("fs").promises.readFile(g);return new Uint8Array(i)}class z2 extends H_{}class P2 extends j_{_createCanvas(e,i){return dr.get("canvas").createCanvas(e,i)}}class H2 extends z_{async _fetch(e){return I_(e)}}class F2 extends B_{async _fetch(e){return I_(e)}}const _i={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function fv(g,e){if(!e)return;const i=e[2]-e[0],a=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],i,a),g.clip(r)}class p0{getPattern(){oe("Abstract method `getPattern` called.")}}class B2 extends p0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let i;this._type==="axial"?i=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const a of this._colorStops)i.addColorStop(a[0],a[1]);return i}getPattern(e,i,a,r){let l;if(r===_i.STROKE||r===_i.FILL){const c=i.current.getClippedPathBoundingBox(r,ge(e))||[0,0,0,0],h=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,p=i.cachedCanvases.getCanvas("pattern",h,f),b=p.context;b.clearRect(0,0,b.canvas.width,b.canvas.height),b.beginPath(),b.rect(0,0,b.canvas.width,b.canvas.height),b.translate(-c[0],-c[1]),a=dt.transform(a,[1,0,0,1,c[0],c[1]]),b.transform(...i.baseTransform),this.matrix&&b.transform(...this.matrix),fv(b,this._bbox),b.fillStyle=this._createGradient(b),b.fill(),l=e.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(a);l.setTransform(v)}else fv(e,this._bbox),l=this._createGradient(e);return l}}function zb(g,e,i,a,r,l,c,h){const f=e.coords,p=e.colors,b=g.data,v=g.width*4;let y;f[i+1]>f[a+1]&&(y=i,i=a,a=y,y=l,l=c,c=y),f[a+1]>f[r+1]&&(y=a,a=r,r=y,y=c,c=h,h=y),f[i+1]>f[a+1]&&(y=i,i=a,a=y,y=l,l=c,c=y);const _=(f[i]+e.offsetX)*e.scaleX,T=(f[i+1]+e.offsetY)*e.scaleY,C=(f[a]+e.offsetX)*e.scaleX,k=(f[a+1]+e.offsetY)*e.scaleY,R=(f[r]+e.offsetX)*e.scaleX,L=(f[r+1]+e.offsetY)*e.scaleY;if(T>=L)return;const N=p[l],z=p[l+1],F=p[l+2],G=p[c],X=p[c+1],W=p[c+2],it=p[h],ot=p[h+1],st=p[h+2],gt=Math.round(T),bt=Math.round(L);let ft,ht,H,q,$,Et,D,Y;for(let tt=gt;tt<=bt;tt++){if(tt<k){const Tt=tt<T?0:(T-tt)/(T-k);ft=_-(_-C)*Tt,ht=N-(N-G)*Tt,H=z-(z-X)*Tt,q=F-(F-W)*Tt}else{let Tt;tt>L?Tt=1:k===L?Tt=0:Tt=(k-tt)/(k-L),ft=C-(C-R)*Tt,ht=G-(G-it)*Tt,H=X-(X-ot)*Tt,q=W-(W-st)*Tt}let J;tt<T?J=0:tt>L?J=1:J=(T-tt)/(T-L),$=_-(_-R)*J,Et=N-(N-it)*J,D=z-(z-ot)*J,Y=F-(F-st)*J;const lt=Math.round(Math.min(ft,$)),xt=Math.round(Math.max(ft,$));let ut=v*tt+lt*4;for(let Tt=lt;Tt<=xt;Tt++)J=(ft-Tt)/(ft-$),J<0?J=0:J>1&&(J=1),b[ut++]=ht-(ht-Et)*J|0,b[ut++]=H-(H-D)*J|0,b[ut++]=q-(q-Y)*J|0,b[ut++]=255}}function U2(g,e,i){const a=e.coords,r=e.colors;let l,c;switch(e.type){case"lattice":const h=e.verticesPerRow,f=Math.floor(a.length/h)-1,p=h-1;for(l=0;l<f;l++){let b=l*h;for(let v=0;v<p;v++,b++)zb(g,i,a[b],a[b+1],a[b+h],r[b],r[b+1],r[b+h]),zb(g,i,a[b+h+1],a[b+1],a[b+h],r[b+h+1],r[b+1],r[b+h])}break;case"triangles":for(l=0,c=a.length;l<c;l+=3)zb(g,i,a[l],a[l+1],a[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class I2 extends p0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,i,a){const h=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,b=Math.ceil(this._bounds[3])-f,v=Math.min(Math.ceil(Math.abs(p*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(b*e[1]*1.1)),3e3),_=p/v,T=b/y,C={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-f,scaleX:1/_,scaleY:1/T},k=v+2*2,R=y+2*2,L=a.getCanvas("mesh",k,R),N=L.context,z=N.createImageData(v,y);if(i){const G=z.data;for(let X=0,W=G.length;X<W;X+=4)G[X]=i[0],G[X+1]=i[1],G[X+2]=i[2],G[X+3]=255}for(const G of this._figures)U2(z,G,C);return N.putImageData(z,2,2),{canvas:L.canvas,offsetX:h-2*_,offsetY:f-2*T,scaleX:_,scaleY:T}}getPattern(e,i,a,r){fv(e,this._bbox);let l;if(r===_i.SHADING)l=dt.singularValueDecompose2dScale(ge(e));else if(l=dt.singularValueDecompose2dScale(i.baseTransform),this.matrix){const h=dt.singularValueDecompose2dScale(this.matrix);l=[l[0]*h[0],l[1]*h[1]]}const c=this._createMeshCanvas(l,r===_i.SHADING?null:this._background,i.cachedCanvases);return r!==_i.SHADING&&(e.setTransform(...i.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class G2 extends p0{getPattern(){return"hotpink"}}function q2(g){switch(g[0]){case"RadialAxial":return new B2(g);case"Mesh":return new I2(g);case"Dummy":return new G2}throw new Error(`Unknown IR type: ${g[0]}`)}const MS={COLORED:1,UNCOLORED:2},Vp=class Vp{constructor(e,i,a,r,l){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=i,this.ctx=a,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(e){const{bbox:i,operatorList:a,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),ig("TilingType: "+l);const b=i[0],v=i[1],y=i[2],_=i[3],T=y-b,C=_-v,k=dt.singularValueDecompose2dScale(this.matrix),R=dt.singularValueDecompose2dScale(this.baseTransform),L=k[0]*R[0],N=k[1]*R[1];let z=T,F=C,G=!1,X=!1;const W=Math.ceil(f*L),it=Math.ceil(p*N),ot=Math.ceil(T*L),st=Math.ceil(C*N);W>=ot?z=f:G=!0,it>=st?F=p:X=!0;const gt=this.getSizeAndScale(z,this.ctx.canvas.width,L),bt=this.getSizeAndScale(F,this.ctx.canvas.height,N),ft=e.cachedCanvases.getCanvas("pattern",gt.size,bt.size),ht=ft.context,H=h.createCanvasGraphics(ht);if(H.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(H,r,c),ht.translate(-gt.scale*b,-bt.scale*v),H.transform(gt.scale,0,0,bt.scale,0,0),ht.save(),this.clipBbox(H,b,v,y,_),H.baseTransform=ge(H.ctx),H.executeOperatorList(a),H.endDrawing(),ht.restore(),G||X){const q=ft.canvas;G&&(z=f),X&&(F=p);const $=this.getSizeAndScale(z,this.ctx.canvas.width,L),Et=this.getSizeAndScale(F,this.ctx.canvas.height,N),D=$.size,Y=Et.size,tt=e.cachedCanvases.getCanvas("pattern-workaround",D,Y),J=tt.context,lt=G?Math.floor(T/f):0,xt=X?Math.floor(C/p):0;for(let ut=0;ut<=lt;ut++)for(let Tt=0;Tt<=xt;Tt++)J.drawImage(q,D*ut,Y*Tt,D,Y,0,0,D,Y);return{canvas:tt.canvas,scaleX:$.scale,scaleY:Et.scale,offsetX:b,offsetY:v}}return{canvas:ft.canvas,scaleX:gt.scale,scaleY:bt.scale,offsetX:b,offsetY:v}}getSizeAndScale(e,i,a){const r=Math.max(Vp.MAX_PATTERN_SIZE,i);let l=Math.ceil(e*a);return l>=r?l=r:a=l/e,{scale:a,size:l}}clipBbox(e,i,a,r,l){const c=r-i,h=l-a;e.ctx.rect(i,a,c,h),e.current.updateRectMinMax(ge(e.ctx),[i,a,r,l]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,a){const r=e.ctx,l=e.current;switch(i){case MS.COLORED:const c=this.ctx;r.fillStyle=c.fillStyle,r.strokeStyle=c.strokeStyle,l.fillColor=c.fillStyle,l.strokeColor=c.strokeStyle;break;case MS.UNCOLORED:const h=dt.makeHexColor(a[0],a[1],a[2]);r.fillStyle=h,r.strokeStyle=h,l.fillColor=h,l.strokeColor=h;break;default:throw new g2(`Unsupported paint type: ${i}`)}}getPattern(e,i,a,r){let l=a;r!==_i.SHADING&&(l=dt.transform(l,i.baseTransform),this.matrix&&(l=dt.transform(l,this.matrix)));const c=this.createPatternCanvas(i);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const f=e.createPattern(c.canvas,"repeat");return f.setTransform(h),f}};St(Vp,"MAX_PATTERN_SIZE",3e3);let pv=Vp;function V2({src:g,srcPos:e=0,dest:i,width:a,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const h=Ei.isLittleEndian?4278190080:255,[f,p]=c?[l,h]:[h,l],b=a>>3,v=a&7,y=g.length;i=new Uint32Array(i.buffer);let _=0;for(let T=0;T<r;T++){for(const k=e+b;e<k;e++){const R=e<y?g[e]:255;i[_++]=R&128?p:f,i[_++]=R&64?p:f,i[_++]=R&32?p:f,i[_++]=R&16?p:f,i[_++]=R&8?p:f,i[_++]=R&4?p:f,i[_++]=R&2?p:f,i[_++]=R&1?p:f}if(v===0)continue;const C=e<y?g[e++]:255;for(let k=0;k<v;k++)i[_++]=C&1<<7-k?p:f}return{srcPos:e,destPos:_}}const kS=16,DS=100,X2=15,LS=10,OS=1e3,zi=16;function Y2(g,e){if(g._removeMirroring)throw new Error("Context is already forwarding operations.");g.__originalSave=g.save,g.__originalRestore=g.restore,g.__originalRotate=g.rotate,g.__originalScale=g.scale,g.__originalTranslate=g.translate,g.__originalTransform=g.transform,g.__originalSetTransform=g.setTransform,g.__originalResetTransform=g.resetTransform,g.__originalClip=g.clip,g.__originalMoveTo=g.moveTo,g.__originalLineTo=g.lineTo,g.__originalBezierCurveTo=g.bezierCurveTo,g.__originalRect=g.rect,g.__originalClosePath=g.closePath,g.__originalBeginPath=g.beginPath,g._removeMirroring=()=>{g.save=g.__originalSave,g.restore=g.__originalRestore,g.rotate=g.__originalRotate,g.scale=g.__originalScale,g.translate=g.__originalTranslate,g.transform=g.__originalTransform,g.setTransform=g.__originalSetTransform,g.resetTransform=g.__originalResetTransform,g.clip=g.__originalClip,g.moveTo=g.__originalMoveTo,g.lineTo=g.__originalLineTo,g.bezierCurveTo=g.__originalBezierCurveTo,g.rect=g.__originalRect,g.closePath=g.__originalClosePath,g.beginPath=g.__originalBeginPath,delete g._removeMirroring},g.save=function(){e.save(),this.__originalSave()},g.restore=function(){e.restore(),this.__originalRestore()},g.translate=function(a,r){e.translate(a,r),this.__originalTranslate(a,r)},g.scale=function(a,r){e.scale(a,r),this.__originalScale(a,r)},g.transform=function(a,r,l,c,h,f){e.transform(a,r,l,c,h,f),this.__originalTransform(a,r,l,c,h,f)},g.setTransform=function(a,r,l,c,h,f){e.setTransform(a,r,l,c,h,f),this.__originalSetTransform(a,r,l,c,h,f)},g.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},g.rotate=function(a){e.rotate(a),this.__originalRotate(a)},g.clip=function(a){e.clip(a),this.__originalClip(a)},g.moveTo=function(i,a){e.moveTo(i,a),this.__originalMoveTo(i,a)},g.lineTo=function(i,a){e.lineTo(i,a),this.__originalLineTo(i,a)},g.bezierCurveTo=function(i,a,r,l,c,h){e.bezierCurveTo(i,a,r,l,c,h),this.__originalBezierCurveTo(i,a,r,l,c,h)},g.rect=function(i,a,r,l){e.rect(i,a,r,l),this.__originalRect(i,a,r,l)},g.closePath=function(){e.closePath(),this.__originalClosePath()},g.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class K2{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,i,a){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,i,a)):(r=this.canvasFactory.create(i,a),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const i=this.cache[e];this.canvasFactory.destroy(i),delete this.cache[e]}}}function Wf(g,e,i,a,r,l,c,h,f,p){const[b,v,y,_,T,C]=ge(g);if(v===0&&y===0){const L=c*b+T,N=Math.round(L),z=h*_+C,F=Math.round(z),G=(c+f)*b+T,X=Math.abs(Math.round(G)-N)||1,W=(h+p)*_+C,it=Math.abs(Math.round(W)-F)||1;return g.setTransform(Math.sign(b),0,0,Math.sign(_),N,F),g.drawImage(e,i,a,r,l,0,0,X,it),g.setTransform(b,v,y,_,T,C),[X,it]}if(b===0&&_===0){const L=h*y+T,N=Math.round(L),z=c*v+C,F=Math.round(z),G=(h+p)*y+T,X=Math.abs(Math.round(G)-N)||1,W=(c+f)*v+C,it=Math.abs(Math.round(W)-F)||1;return g.setTransform(0,Math.sign(v),Math.sign(y),0,N,F),g.drawImage(e,i,a,r,l,0,0,it,X),g.setTransform(b,v,y,_,T,C),[it,X]}g.drawImage(e,i,a,r,l,c,h,f,p);const k=Math.hypot(b,v),R=Math.hypot(y,_);return[k*f,R*p]}function Z2(g){const{width:e,height:i}=g;if(e>OS||i>OS)return null;const a=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=e+1;let c=new Uint8Array(l*(i+1)),h,f,p;const b=e+7&-8;let v=new Uint8Array(b*i),y=0;for(const R of g.data){let L=128;for(;L>0;)v[y++]=R&L?0:255,L>>=1}let _=0;for(y=0,v[y]!==0&&(c[0]=1,++_),f=1;f<e;f++)v[y]!==v[y+1]&&(c[f]=v[y]?2:1,++_),y++;for(v[y]!==0&&(c[f]=2,++_),h=1;h<i;h++){y=h*b,p=h*l,v[y-b]!==v[y]&&(c[p]=v[y]?1:8,++_);let R=(v[y]?4:0)+(v[y-b]?8:0);for(f=1;f<e;f++)R=(R>>2)+(v[y+1]?4:0)+(v[y-b+1]?8:0),r[R]&&(c[p+f]=r[R],++_),y++;if(v[y-b]!==v[y]&&(c[p+f]=v[y]?2:4,++_),_>a)return null}for(y=b*(i-1),p=h*l,v[y]!==0&&(c[p]=8,++_),f=1;f<e;f++)v[y]!==v[y+1]&&(c[p+f]=v[y]?4:8,++_),y++;if(v[y]!==0&&(c[p+f]=4,++_),_>a)return null;const T=new Int32Array([0,l,-1,0,-l,0,0,0,1]),C=new Path2D;for(h=0;_&&h<=i;h++){let R=h*l;const L=R+e;for(;R<L&&!c[R];)R++;if(R===L)continue;C.moveTo(R%l,h);const N=R;let z=c[R];do{const F=T[z];do R+=F;while(!c[R]);const G=c[R];G!==5&&G!==10?(z=G,c[R]=0):(z=G&51*z>>4,c[R]&=z>>2|z<<2),C.lineTo(R%l,R/l|0),c[R]||--_}while(N!==R);--h}return v=null,c=null,function(R){R.save(),R.scale(1/e,-1/i),R.translate(0,-i),R.fill(C),R.beginPath(),R.restore()}}class NS{constructor(e,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s_,this.textMatrixScale=1,this.fontMatrix=Bb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ci.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,i])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,i){this.x=e,this.y=i}updatePathMinMax(e,i,a){[i,a]=dt.applyTransform([i,a],e),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,a),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,a)}updateRectMinMax(e,i){const a=dt.applyTransform(i,e),r=dt.applyTransform(i.slice(2),e),l=dt.applyTransform([i[0],i[3]],e),c=dt.applyTransform([i[2],i[1]],e);this.minX=Math.min(this.minX,a[0],r[0],l[0],c[0]),this.minY=Math.min(this.minY,a[1],r[1],l[1],c[1]),this.maxX=Math.max(this.maxX,a[0],r[0],l[0],c[0]),this.maxY=Math.max(this.maxY,a[1],r[1],l[1],c[1])}updateScalingPathMinMax(e,i){dt.scaleMinMax(e,i),this.minX=Math.min(this.minX,i[0]),this.minY=Math.min(this.minY,i[1]),this.maxX=Math.max(this.maxX,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(e,i,a,r,l,c,h,f,p,b){const v=dt.bezierBoundingBox(i,a,r,l,c,h,f,p,b);b||this.updateRectMinMax(e,v)}getPathBoundingBox(e=_i.FILL,i=null){const a=[this.minX,this.minY,this.maxX,this.maxY];if(e===_i.STROKE){i||oe("Stroke bounding box must include transform.");const r=dt.singularValueDecompose2dScale(i),l=r[0]*this.lineWidth/2,c=r[1]*this.lineWidth/2;a[0]-=l,a[1]-=c,a[2]+=l,a[3]+=c}return a}updateClipFromPath(){const e=dt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=_i.FILL,i=null){return dt.intersect(this.clipBox,this.getPathBoundingBox(e,i))}}function jS(g,e){if(typeof ImageData<"u"&&e instanceof ImageData){g.putImageData(e,0,0);return}const i=e.height,a=e.width,r=i%zi,l=(i-r)/zi,c=r===0?l:l+1,h=g.createImageData(a,zi);let f=0,p;const b=e.data,v=h.data;let y,_,T,C;if(e.kind===ip.GRAYSCALE_1BPP){const k=b.byteLength,R=new Uint32Array(v.buffer,0,v.byteLength>>2),L=R.length,N=a+7>>3,z=4294967295,F=Ei.isLittleEndian?4278190080:255;for(y=0;y<c;y++){for(T=y<l?zi:r,p=0,_=0;_<T;_++){const G=k-f;let X=0;const W=G>N?a:G*8-7,it=W&-8;let ot=0,st=0;for(;X<it;X+=8)st=b[f++],R[p++]=st&128?z:F,R[p++]=st&64?z:F,R[p++]=st&32?z:F,R[p++]=st&16?z:F,R[p++]=st&8?z:F,R[p++]=st&4?z:F,R[p++]=st&2?z:F,R[p++]=st&1?z:F;for(;X<W;X++)ot===0&&(st=b[f++],ot=128),R[p++]=st&ot?z:F,ot>>=1}for(;p<L;)R[p++]=0;g.putImageData(h,0,y*zi)}}else if(e.kind===ip.RGBA_32BPP){for(_=0,C=a*zi*4,y=0;y<l;y++)v.set(b.subarray(f,f+C)),f+=C,g.putImageData(h,0,_),_+=zi;y<c&&(C=a*r*4,v.set(b.subarray(f,f+C)),g.putImageData(h,0,_))}else if(e.kind===ip.RGB_24BPP)for(T=zi,C=a*T,y=0;y<c;y++){for(y>=l&&(T=r,C=a*T),p=0,_=C;_--;)v[p++]=b[f++],v[p++]=b[f++],v[p++]=b[f++],v[p++]=255;g.putImageData(h,0,y*zi)}else throw new Error(`bad image kind: ${e.kind}`)}function zS(g,e){if(e.bitmap){g.drawImage(e.bitmap,0,0);return}const i=e.height,a=e.width,r=i%zi,l=(i-r)/zi,c=r===0?l:l+1,h=g.createImageData(a,zi);let f=0;const p=e.data,b=h.data;for(let v=0;v<c;v++){const y=v<l?zi:r;({srcPos:f}=V2({src:p,srcPos:f,dest:b,width:a,height:y,nonBlackColor:0})),g.putImageData(h,0,v*zi)}}function Xc(g,e){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const a of i)g[a]!==void 0&&(e[a]=g[a]);g.setLineDash!==void 0&&(e.setLineDash(g.getLineDash()),e.lineDashOffset=g.lineDashOffset)}function $f(g){if(g.strokeStyle=g.fillStyle="#000000",g.fillRule="nonzero",g.globalAlpha=1,g.lineWidth=1,g.lineCap="butt",g.lineJoin="miter",g.miterLimit=10,g.globalCompositeOperation="source-over",g.font="10px sans-serif",g.setLineDash!==void 0&&(g.setLineDash([]),g.lineDashOffset=0),!bi){const{filter:e}=g;e!=="none"&&e!==""&&(g.filter="none")}}function PS(g,e){if(e)return!0;const i=dt.singularValueDecompose2dScale(g);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const a=Math.fround((globalThis.devicePixelRatio||1)*hr.PDF_TO_CSS_UNITS);return i[0]<=a&&i[1]<=a}const Q2=["butt","round","square"],W2=["miter","round","bevel"],$2={},HS={};var pr,gv,mv;const _0=class _0{constructor(e,i,a,r,l,{optionalContentConfig:c,markedContentStack:h=null},f,p){w(this,pr);this.ctx=e,this.current=new NS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=a,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=c,this.cachedCanvases=new K2(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,i=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):i}beginDrawing({transform:e,viewport:i,transparency:a=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,a){const f=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...ge(this.compositeCtx))}this.ctx.save(),$f(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=ge(this.ctx)}executeOperatorList(e,i,a,r){const l=e.argsArray,c=e.fnArray;let h=i||0;const f=l.length;if(f===h)return h;const p=f-h>LS&&typeof a=="function",b=p?Date.now()+X2:0;let v=0;const y=this.commonObjs,_=this.objs;let T;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,a),h;if(T=c[h],T!==Rn.dependency)this[T].apply(this,l[h]);else for(const C of l[h]){const k=C.startsWith("g_")?y:_;if(!k.has(C))return k.get(C,a),h}if(h++,h===f)return h;if(p&&++v>LS){if(Date.now()>b)return a(),h;v=0}}}endDrawing(){E(this,pr,gv).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const i of e.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);e.clear()}this._cachedBitmapsMap.clear(),E(this,pr,mv).call(this)}_scaleImage(e,i){const a=e.width??e.displayWidth,r=e.height??e.displayHeight;let l=Math.max(Math.hypot(i[0],i[1]),1),c=Math.max(Math.hypot(i[2],i[3]),1),h=a,f=r,p="prescale1",b,v;for(;l>2&&h>1||c>2&&f>1;){let y=h,_=f;l>2&&h>1&&(y=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/y),c>2&&f>1&&(_=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/_),b=this.cachedCanvases.getCanvas(p,y,_),v=b.context,v.clearRect(0,0,y,_),v.drawImage(e,0,0,h,f,0,0,y,_),e=b.canvas,h=y,f=_,p=p==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:h,paintHeight:f}}_createMaskCanvas(e){const i=this.ctx,{width:a,height:r}=e,l=this.current.fillColor,c=this.current.patternFill,h=ge(i);let f,p,b,v;if((e.bitmap||e.data)&&e.count>1){const W=e.bitmap||e.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),l]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const it=f.get(p);if(it&&!c){const ot=Math.round(Math.min(h[0],h[2])+h[4]),st=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:it,offsetX:ot,offsetY:st}}b=it}b||(v=this.cachedCanvases.getCanvas("maskCanvas",a,r),zS(v.context,e));let y=dt.transform(h,[1/a,0,0,-1/r,0,0]);y=dt.transform(y,[1,0,0,1,0,-r]);const[_,T,C,k]=dt.getAxialAlignedBoundingBox([0,0,a,r],y),R=Math.round(C-_)||1,L=Math.round(k-T)||1,N=this.cachedCanvases.getCanvas("fillCanvas",R,L),z=N.context,F=_,G=T;z.translate(-F,-G),z.transform(...y),b||(b=this._scaleImage(v.canvas,La(z)),b=b.img,f&&c&&f.set(p,b)),z.imageSmoothingEnabled=PS(ge(z),e.interpolate),Wf(z,b,0,0,b.width,b.height,0,0,a,r),z.globalCompositeOperation="source-in";const X=dt.transform(La(z),[1,0,0,1,-F,-G]);return z.fillStyle=c?l.getPattern(i,this,X,_i.FILL):l,z.fillRect(0,0,a,r),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,N.canvas)),{canvas:N.canvas,offsetX:Math.round(F),offsetY:Math.round(G)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=Q2[e]}setLineJoin(e){this.ctx.lineJoin=W2[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,i){const a=this.ctx;a.setLineDash!==void 0&&(a.setLineDash(e),a.lineDashOffset=i)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,a]of e)switch(i){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=a;break;case"ca":this.current.fillAlpha=a,this.ctx.globalAlpha=a;break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask=a?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(a);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,a="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(a,e,i);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...ge(this.suspendedCtx)),Xc(this.suspendedCtx,l),Y2(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Xc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,a=this.suspendedCtx;this.composeSMask(a,i,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,i,a,r){const l=r[0],c=r[1],h=r[2]-l,f=r[3]-c;h===0||f===0||(this.genericComposeSMask(i.context,a,h,f,i.subtype,i.backdrop,i.transferMap,l,c,i.offsetX,i.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(a.canvas,0,0),e.restore())}genericComposeSMask(e,i,a,r,l,c,h,f,p,b,v){let y=e.canvas,_=f-b,T=p-v;if(c){const k=dt.makeHexColor(...c);if(_<0||T<0||_+a>y.width||T+r>y.height){const R=this.cachedCanvases.getCanvas("maskExtension",a,r),L=R.context;L.drawImage(y,-_,-T),L.globalCompositeOperation="destination-atop",L.fillStyle=k,L.fillRect(0,0,a,r),L.globalCompositeOperation="source-over",y=R.canvas,_=T=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const R=new Path2D;R.rect(_,T,a,r),e.clip(R),e.globalCompositeOperation="destination-atop",e.fillStyle=k,e.fillRect(_,T,a,r),e.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?i.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(h));const C=new Path2D;C.rect(f,p,a,r),i.clip(C),i.globalCompositeOperation="destination-in",i.drawImage(y,_,T,a,r,f,p,a,r),i.restore()}save(){this.inSMaskMode?(Xc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Xc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,i,a,r,l,c){this.ctx.transform(e,i,a,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,i,a){const r=this.ctx,l=this.current;let c=l.x,h=l.y,f,p;const b=ge(r),v=b[0]===0&&b[3]===0||b[1]===0&&b[2]===0,y=v?a.slice(0):null;for(let _=0,T=0,C=e.length;_<C;_++)switch(e[_]|0){case Rn.rectangle:c=i[T++],h=i[T++];const k=i[T++],R=i[T++],L=c+k,N=h+R;r.moveTo(c,h),k===0||R===0?r.lineTo(L,N):(r.lineTo(L,h),r.lineTo(L,N),r.lineTo(c,N)),v||l.updateRectMinMax(b,[c,h,L,N]),r.closePath();break;case Rn.moveTo:c=i[T++],h=i[T++],r.moveTo(c,h),v||l.updatePathMinMax(b,c,h);break;case Rn.lineTo:c=i[T++],h=i[T++],r.lineTo(c,h),v||l.updatePathMinMax(b,c,h);break;case Rn.curveTo:f=c,p=h,c=i[T+4],h=i[T+5],r.bezierCurveTo(i[T],i[T+1],i[T+2],i[T+3],c,h),l.updateCurvePathMinMax(b,f,p,i[T],i[T+1],i[T+2],i[T+3],c,h,y),T+=6;break;case Rn.curveTo2:f=c,p=h,r.bezierCurveTo(c,h,i[T],i[T+1],i[T+2],i[T+3]),l.updateCurvePathMinMax(b,f,p,c,h,i[T],i[T+1],i[T+2],i[T+3],y),c=i[T+2],h=i[T+3],T+=4;break;case Rn.curveTo3:f=c,p=h,c=i[T+2],h=i[T+3],r.bezierCurveTo(i[T],i[T+1],c,h,c,h),l.updateCurvePathMinMax(b,f,p,i[T],i[T+1],c,h,c,h,y),T+=4;break;case Rn.closePath:r.closePath();break}v&&l.updateScalingPathMinMax(b,y),l.setCurrentPoint(c,h)}closePath(){this.ctx.closePath()}stroke(e=!0){const i=this.ctx,a=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof a=="object"&&(a!=null&&a.getPattern)?(i.save(),i.strokeStyle=a.getPattern(i,this,La(i),_i.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(i.save(),i.fillStyle=a.getPattern(i,this,La(i),_i.FILL),l=!0);const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),l&&i.restore(),e&&this.consumePath(c)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=$2}eoClip(){this.pendingClip=HS}beginText(){this.current.textMatrix=s_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,i=this.ctx;if(e===void 0){i.beginPath();return}i.save(),i.beginPath();for(const a of e)i.setTransform(...a.transform),i.translate(a.x,a.y),a.addToPath(i,a.fontSize);i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,i){var b;const a=this.commonObjs.get(e),r=this.current;if(!a)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=a.fontMatrix||Bb,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Lt("Invalid font matrix for font "+e),i<0?(i=-i,r.fontDirection=-1):r.fontDirection=1,this.current.font=a,this.current.fontSize=i,a.isType3Font)return;const l=a.loadedName||"sans-serif",c=((b=a.systemFontInfo)==null?void 0:b.css)||`"${l}", ${a.fallbackName}`;let h="normal";a.black?h="900":a.bold&&(h="bold");const f=a.italic?"italic":"normal";let p=i;i<kS?p=kS:i>DS&&(p=DS),this.current.fontSizeScale=i/p,this.ctx.font=`${f} ${h} ${p}px ${c}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,i){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}setTextMatrix(e,i,a,r,l,c){this.current.textMatrix=[e,i,a,r,l,c],this.current.textMatrixScale=Math.hypot(e,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,i,a,r){const l=this.ctx,c=this.current,h=c.font,f=c.textRenderingMode,p=c.fontSize/c.fontSizeScale,b=f&ci.FILL_STROKE_MASK,v=!!(f&ci.ADD_TO_PATH_FLAG),y=c.patternFill&&!h.missingFile;let _;(h.disableFontFace||v||y)&&(_=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||y?(l.save(),l.translate(i,a),l.beginPath(),_(l,p),r&&l.setTransform(...r),(b===ci.FILL||b===ci.FILL_STROKE)&&l.fill(),(b===ci.STROKE||b===ci.FILL_STROKE)&&l.stroke(),l.restore()):((b===ci.FILL||b===ci.FILL_STROKE)&&l.fillText(e,i,a),(b===ci.STROKE||b===ci.FILL_STROKE)&&l.strokeText(e,i,a)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ge(l),x:i,y:a,fontSize:p,addToPath:_})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const i=e.getImageData(0,0,10,10).data;let a=!1;for(let r=3;r<i.length;r+=4)if(i[r]>0&&i[r]<255){a=!0;break}return Ft(this,"isFontSubpixelAAEnabled",a)}showText(e){const i=this.current,a=i.font;if(a.isType3Font)return this.showType3Text(e);const r=i.fontSize;if(r===0)return;const l=this.ctx,c=i.fontSizeScale,h=i.charSpacing,f=i.wordSpacing,p=i.fontDirection,b=i.textHScale*p,v=e.length,y=a.vertical,_=y?1:-1,T=a.defaultVMetrics,C=r*i.fontMatrix[0],k=i.textRenderingMode===ci.FILL&&!a.disableFontFace&&!i.patternFill;l.save(),l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),p>0?l.scale(b,-1):l.scale(b,1);let R;if(i.patternFill){l.save();const G=i.fillColor.getPattern(l,this,La(l),_i.FILL);R=ge(l),l.restore(),l.fillStyle=G}let L=i.lineWidth;const N=i.textMatrixScale;if(N===0||L===0){const G=i.textRenderingMode&ci.FILL_STROKE_MASK;(G===ci.STROKE||G===ci.FILL_STROKE)&&(L=this.getSinglePixelWidth())}else L/=N;if(c!==1&&(l.scale(c,c),L/=c),l.lineWidth=L,a.isInvalidPDFjsFont){const G=[];let X=0;for(const W of e)G.push(W.unicode),X+=W.width;l.fillText(G.join(""),0,0),i.x+=X*C*b,l.restore(),this.compose();return}let z=0,F;for(F=0;F<v;++F){const G=e[F];if(typeof G=="number"){z+=_*G*r/1e3;continue}let X=!1;const W=(G.isSpace?f:0)+h,it=G.fontChar,ot=G.accent;let st,gt,bt=G.width;if(y){const ht=G.vmetric||T,H=-(G.vmetric?ht[1]:bt*.5)*C,q=ht[2]*C;bt=ht?-ht[0]:bt,st=H/c,gt=(z+q)/c}else st=z/c,gt=0;if(a.remeasure&&bt>0){const ht=l.measureText(it).width*1e3/r*c;if(bt<ht&&this.isFontSubpixelAAEnabled){const H=bt/ht;X=!0,l.save(),l.scale(H,1),st/=H}else bt!==ht&&(st+=(bt-ht)/2e3*r/c)}if(this.contentVisible&&(G.isInFont||a.missingFile)){if(k&&!ot)l.fillText(it,st,gt);else if(this.paintChar(it,st,gt,R),ot){const ht=st+r*ot.offset.x/c,H=gt-r*ot.offset.y/c;this.paintChar(ot.fontChar,ht,H,R)}}const ft=y?bt*C-W*p:bt*C+W*p;z+=ft,X&&l.restore()}y?i.y-=z:i.x+=z*b,l.restore(),this.compose()}showType3Text(e){const i=this.ctx,a=this.current,r=a.font,l=a.fontSize,c=a.fontDirection,h=r.vertical?1:-1,f=a.charSpacing,p=a.wordSpacing,b=a.textHScale*c,v=a.fontMatrix||Bb,y=e.length,_=a.textRenderingMode===ci.INVISIBLE;let T,C,k,R;if(!(_||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),i.transform(...a.textMatrix),i.translate(a.x,a.y),i.scale(b,c),T=0;T<y;++T){if(C=e[T],typeof C=="number"){R=h*C*l/1e3,this.ctx.translate(R,0),a.x+=R*b;continue}const L=(C.isSpace?p:0)+f,N=r.charProcOperatorList[C.operatorListId];if(!N){Lt(`Type3 character "${C.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=C,this.save(),i.scale(l,l),i.transform(...v),this.executeOperatorList(N),this.restore()),k=dt.applyTransform([C.width,0],v)[0]*l+L,i.translate(k,0),a.x+=k*b}i.restore(),this.processingType3=null}}setCharWidth(e,i){}setCharWidthAndBounds(e,i,a,r,l,c){this.ctx.rect(a,r,l-a,c-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let i;if(e[0]==="TilingPattern"){const a=e[1],r=this.baseTransform||ge(this.ctx),l={createCanvasGraphics:c=>new _0(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new pv(e,a,this.ctx,l,r)}else i=this._getPattern(e[1],e[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,i,a){this.ctx.strokeStyle=this.current.strokeColor=dt.makeHexColor(e,i,a)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,i,a){this.ctx.fillStyle=this.current.fillColor=dt.makeHexColor(e,i,a),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,i=null){let a;return this.cachedPatterns.has(e)?a=this.cachedPatterns.get(e):(a=q2(this.getObject(e)),this.cachedPatterns.set(e,a)),i&&(a.matrix=i),a}shadingFill(e){if(!this.contentVisible)return;const i=this.ctx;this.save();const a=this._getPattern(e);i.fillStyle=a.getPattern(i,this,La(i),_i.SHADING);const r=La(i);if(r){const{width:l,height:c}=i.canvas,[h,f,p,b]=dt.getAxialAlignedBoundingBox([0,0,l,c],r);this.ctx.fillRect(h,f,p-h,b-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){oe("Should not call beginInlineImage")}beginImageData(){oe("Should not call beginImageData")}paintFormXObjectBegin(e,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ge(this.ctx),i)){const a=i[2]-i[0],r=i[3]-i[1];this.ctx.rect(i[0],i[1],a,r),this.current.updateRectMinMax(ge(this.ctx),i),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||ig("TODO: Support non-isolated groups."),e.knockout&&Lt("Knockout groups not supported.");const a=ge(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=dt.getAxialAlignedBoundingBox(e.bbox,ge(i));const l=[0,0,i.canvas.width,i.canvas.height];r=dt.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),h=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-c,1),p=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,f,p]);let b="groupAt"+this.groupLevel;e.smask&&(b+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(b,f,p),y=v.context;y.translate(-c,-h),y.transform(...a),e.smask?this.smaskStack.push({canvas:v.canvas,context:y,offsetX:c,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(c,h),i.save()),Xc(i,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ge(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=dt.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],r);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,i,a,r,l){if(E(this,pr,gv).call(this),$f(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],h=i[3]-i[1];if(l&&this.annotationCanvasMap){a=a.slice(),a[4]-=i[0],a[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=h;const[f,p]=dt.singularValueDecompose2dScale(ge(this.ctx)),{viewportScale:b}=this,v=Math.ceil(c*this.outputScaleX*b),y=Math.ceil(h*this.outputScaleY*b);this.annotationCanvas=this.canvasFactory.create(v,y);const{canvas:_,context:T}=this.annotationCanvas;this.annotationCanvasMap.set(e,_),this.annotationCanvas.savedCtx=this.ctx,this.ctx=T,this.ctx.save(),this.ctx.setTransform(f,0,0,-p,0,h*p),$f(this.ctx)}else $f(this.ctx),this.endPath(),this.ctx.rect(i[0],i[1],c,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new NS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...a),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),E(this,pr,mv).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(e.data,e),e.count=i;const a=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=Z2(e)),r.compiled)){r.compiled(a);return}const l=this._createMaskCanvas(e),c=l.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(c,l.offsetX,l.offsetY),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,i,a=0,r=0,l,c){if(!this.contentVisible)return;e=this.getObject(e.data,e);const h=this.ctx;h.save();const f=ge(h);h.transform(i,a,r,l,0,0);const p=this._createMaskCanvas(e);h.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let b=0,v=c.length;b<v;b+=2){const y=dt.transform(f,[i,a,r,l,c[b],c[b+1]]),[_,T]=dt.applyTransform([0,0],y);h.drawImage(p.canvas,_,T)}h.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;for(const l of e){const{data:c,width:h,height:f,transform:p}=l,b=this.cachedCanvases.getCanvas("maskCanvas",h,f),v=b.context;v.save();const y=this.getObject(c,l);zS(v,y),v.globalCompositeOperation="source-in",v.fillStyle=r?a.getPattern(v,this,La(i),_i.FILL):a,v.fillRect(0,0,h,f),v.restore(),i.save(),i.transform(...p),i.scale(1,-1),Wf(i,b.canvas,0,0,h,f,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){Lt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(e,i,a,r){if(!this.contentVisible)return;const l=this.getObject(e);if(!l){Lt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,f=[];for(let p=0,b=r.length;p<b;p+=2)f.push({transform:[i,0,0,a,r[p],r[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:i,width:a,height:r}=e,l=this.cachedCanvases.getCanvas("inlineImage",a,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(i,0,0),c.filter="none",l.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const i=e.width,a=e.height,r=this.ctx;if(this.save(),!bi){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/i,-1/a);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,a).context;jS(f,e),l=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(l,La(r));r.imageSmoothingEnabled=PS(ge(r),e.interpolate),Wf(r,c.img,0,0,c.paintWidth,c.paintHeight,0,-a,i,a),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,i){if(!this.contentVisible)return;const a=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const l=e.width,c=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;jS(f,e),r=this.applyTransferMapsToCanvas(f)}for(const l of i)a.save(),a.transform(...l.transform),a.scale(1,-1),Wf(a,r,l.x,l.y,l.w,l.h,0,-1,1,1),a.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,i){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,i){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(i||(this.pendingClip===HS?a.clip("evenodd"):a.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),a.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ge(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),a=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(a,r)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:i,b:a,c:r,d:l}=this.ctx.getTransform();let c,h;if(a===0&&r===0){const f=Math.abs(i),p=Math.abs(l);if(f===p)if(e===0)c=h=1/f;else{const b=f*e;c=h=b<1?1/b:1}else if(e===0)c=1/f,h=1/p;else{const b=f*e,v=p*e;c=b<1?1/b:1,h=v<1?1/v:1}}else{const f=Math.abs(i*l-a*r),p=Math.hypot(i,a),b=Math.hypot(r,l);if(e===0)c=b/f,h=p/f;else{const v=e*f;c=b>v?b/v:1,h=p>v?p/v:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:i}=this,{lineWidth:a}=this.current,[r,l]=this.getScaleForStroking();if(i.lineWidth=a||1,r===1&&l===1){i.stroke();return}const c=i.getLineDash();if(e&&i.save(),i.scale(r,l),c.length>0){const h=Math.max(r,l);i.setLineDash(c.map(f=>f/h)),i.lineDashOffset/=h}i.stroke(),e&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};pr=new WeakSet,gv=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},mv=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const i=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}};let Gl=_0;for(const g in Rn)Gl.prototype[g]!==void 0&&(Gl.prototype[Rn[g]]=Gl.prototype[g]);var jh,zh;class rs{static get workerPort(){return u(this,jh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");S(this,jh,e)}static get workerSrc(){return u(this,zh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");S(this,zh,e)}}jh=new WeakMap,zh=new WeakMap,w(rs,jh,null),w(rs,zh,"");const Jf={DATA:1,ERROR:2},Me={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Xi(g){switch(g instanceof Error||typeof g=="object"&&g!==null||oe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),g.name){case"AbortException":return new Yo(g.message);case"MissingPDFException":return new Xo(g.message);case"PasswordException":return new Ub(g.message,g.code);case"UnexpectedResponseException":return new ng(g.message,g.status);case"UnknownErrorException":return new Ib(g.message,g.details);default:return new Ib(g.message,g.toString())}}var ou,_n,G_,q_,V_,cp;class eh{constructor(e,i,a){w(this,_n);w(this,ou,new AbortController);this.sourceName=e,this.targetName=i,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),a.addEventListener("message",E(this,_n,G_).bind(this),{signal:u(this,ou).signal})}on(e,i){const a=this.actionHandler;if(a[e])throw new Error(`There is already an actionName called "${e}"`);a[e]=i}send(e,i,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:i},a)}sendWithPromise(e,i,a){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:i},a)}catch(c){l.reject(c)}return l.promise}sendWithStream(e,i,a,r){const l=this.streamId++,c=this.sourceName,h=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const b=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:b,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:h,action:e,streamId:l,data:i,desiredSize:p.desiredSize},r),b.promise},pull:p=>{const b=Promise.withResolvers();return this.streamControllers[l].pullCall=b,f.postMessage({sourceName:c,targetName:h,stream:Me.PULL,streamId:l,desiredSize:p.desiredSize}),b.promise},cancel:p=>{He(p instanceof Error,"cancel must have a valid reason");const b=Promise.withResolvers();return this.streamControllers[l].cancelCall=b,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:c,targetName:h,stream:Me.CANCEL,streamId:l,reason:Xi(p)}),b.promise}},a)}destroy(){var e;(e=u(this,ou))==null||e.abort(),S(this,ou,null)}}ou=new WeakMap,_n=new WeakSet,G_=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){E(this,_n,V_).call(this,e);return}if(e.callback){const a=e.callbackId,r=this.callbackCapabilities[a];if(!r)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],e.callback===Jf.DATA)r.resolve(e.data);else if(e.callback===Jf.ERROR)r.reject(Xi(e.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[e.action];if(!i)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const a=this.sourceName,r=e.sourceName,l=this.comObj;new Promise(function(c){c(i(e.data))}).then(function(c){l.postMessage({sourceName:a,targetName:r,callback:Jf.DATA,callbackId:e.callbackId,data:c})},function(c){l.postMessage({sourceName:a,targetName:r,callback:Jf.ERROR,callbackId:e.callbackId,reason:Xi(c)})});return}if(e.streamId){E(this,_n,q_).call(this,e);return}i(e.data)},q_=function(e){const i=e.streamId,a=this.sourceName,r=e.sourceName,l=this.comObj,c=this,h=this.actionHandler[e.action],f={enqueue(p,b=1,v){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=b,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:a,targetName:r,stream:Me.ENQUEUE,streamId:i,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:a,targetName:r,stream:Me.CLOSE,streamId:i}),delete c.streamSinks[i])},error(p){He(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:a,targetName:r,stream:Me.ERROR,streamId:i,reason:Xi(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[i]=f,new Promise(function(p){p(h(e.data,f))}).then(function(){l.postMessage({sourceName:a,targetName:r,stream:Me.START_COMPLETE,streamId:i,success:!0})},function(p){l.postMessage({sourceName:a,targetName:r,stream:Me.START_COMPLETE,streamId:i,reason:Xi(p)})})},V_=function(e){const i=e.streamId,a=this.sourceName,r=e.sourceName,l=this.comObj,c=this.streamControllers[i],h=this.streamSinks[i];switch(e.stream){case Me.START_COMPLETE:e.success?c.startCall.resolve():c.startCall.reject(Xi(e.reason));break;case Me.PULL_COMPLETE:e.success?c.pullCall.resolve():c.pullCall.reject(Xi(e.reason));break;case Me.PULL:if(!h){l.postMessage({sourceName:a,targetName:r,stream:Me.PULL_COMPLETE,streamId:i,success:!0});break}h.desiredSize<=0&&e.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=e.desiredSize,new Promise(function(f){var p;f((p=h.onPull)==null?void 0:p.call(h))}).then(function(){l.postMessage({sourceName:a,targetName:r,stream:Me.PULL_COMPLETE,streamId:i,success:!0})},function(f){l.postMessage({sourceName:a,targetName:r,stream:Me.PULL_COMPLETE,streamId:i,reason:Xi(f)})});break;case Me.ENQUEUE:if(He(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(e.chunk);break;case Me.CLOSE:if(He(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),E(this,_n,cp).call(this,c,i);break;case Me.ERROR:He(c,"error should have stream controller"),c.controller.error(Xi(e.reason)),E(this,_n,cp).call(this,c,i);break;case Me.CANCEL_COMPLETE:e.success?c.cancelCall.resolve():c.cancelCall.reject(Xi(e.reason)),E(this,_n,cp).call(this,c,i);break;case Me.CANCEL:if(!h)break;new Promise(function(f){var p;f((p=h.onCancel)==null?void 0:p.call(h,Xi(e.reason)))}).then(function(){l.postMessage({sourceName:a,targetName:r,stream:Me.CANCEL_COMPLETE,streamId:i,success:!0})},function(f){l.postMessage({sourceName:a,targetName:r,stream:Me.CANCEL_COMPLETE,streamId:i,reason:Xi(f)})}),h.sinkCapability.reject(Xi(e.reason)),h.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},cp=async function(e,i){var a,r,l;await Promise.allSettled([(a=e.startCall)==null?void 0:a.promise,(r=e.pullCall)==null?void 0:r.promise,(l=e.cancelCall)==null?void 0:l.promise]),delete this.streamControllers[i]};var lo,Ph;class J2{constructor({parsedData:e,rawData:i}){w(this,lo);w(this,Ph);S(this,lo,e),S(this,Ph,i)}getRaw(){return u(this,Ph)}get(e){return u(this,lo).get(e)??null}getAll(){return o0(u(this,lo))}has(e){return u(this,lo).has(e)}}lo=new WeakMap,Ph=new WeakMap;const Hl=Symbol("INTERNAL");var Hh,Fh,Bh,lu;class tC{constructor(e,{name:i,intent:a,usage:r,rbGroups:l}){w(this,Hh,!1);w(this,Fh,!1);w(this,Bh,!1);w(this,lu,!0);S(this,Hh,!!(e&en.DISPLAY)),S(this,Fh,!!(e&en.PRINT)),this.name=i,this.intent=a,this.usage=r,this.rbGroups=l}get visible(){if(u(this,Bh))return u(this,lu);if(!u(this,lu))return!1;const{print:e,view:i}=this.usage;return u(this,Hh)?(i==null?void 0:i.viewState)!=="OFF":u(this,Fh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,i,a=!1){e!==Hl&&oe("Internal method `_setVisible` called."),S(this,Bh,a),S(this,lu,i)}}Hh=new WeakMap,Fh=new WeakMap,Bh=new WeakMap,lu=new WeakMap;var Zs,Zt,uu,cu,Uh,bv;class eC{constructor(e,i=en.DISPLAY){w(this,Uh);w(this,Zs,null);w(this,Zt,new Map);w(this,uu,null);w(this,cu,null);if(this.renderingIntent=i,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,S(this,cu,e.order);for(const a of e.groups)u(this,Zt).set(a.id,new tC(i,a));if(e.baseState==="OFF")for(const a of u(this,Zt).values())a._setVisible(Hl,!1);for(const a of e.on)u(this,Zt).get(a)._setVisible(Hl,!0);for(const a of e.off)u(this,Zt).get(a)._setVisible(Hl,!1);S(this,uu,this.getHash())}}isVisible(e){if(u(this,Zt).size===0)return!0;if(!e)return ig("Optional content group not defined."),!0;if(e.type==="OCG")return u(this,Zt).has(e.id)?u(this,Zt).get(e.id).visible:(Lt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return E(this,Uh,bv).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const i of e.ids){if(!u(this,Zt).has(i))return Lt(`Optional content group not found: ${i}`),!0;if(u(this,Zt).get(i).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const i of e.ids){if(!u(this,Zt).has(i))return Lt(`Optional content group not found: ${i}`),!0;if(!u(this,Zt).get(i).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const i of e.ids){if(!u(this,Zt).has(i))return Lt(`Optional content group not found: ${i}`),!0;if(!u(this,Zt).get(i).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const i of e.ids){if(!u(this,Zt).has(i))return Lt(`Optional content group not found: ${i}`),!0;if(u(this,Zt).get(i).visible)return!1}return!0}return Lt(`Unknown optional content policy ${e.policy}.`),!0}return Lt(`Unknown group type ${e.type}.`),!0}setVisibility(e,i=!0,a=!0){var l;const r=u(this,Zt).get(e);if(!r){Lt(`Optional content group not found: ${e}`);return}if(a&&i&&r.rbGroups.length)for(const c of r.rbGroups)for(const h of c)h!==e&&((l=u(this,Zt).get(h))==null||l._setVisible(Hl,!1,!0));r._setVisible(Hl,!!i,!0),S(this,Zs,null)}setOCGState({state:e,preserveRB:i}){let a;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":a=r;continue}const l=u(this,Zt).get(r);if(l)switch(a){case"ON":this.setVisibility(r,!0,i);break;case"OFF":this.setVisibility(r,!1,i);break;case"Toggle":this.setVisibility(r,!l.visible,i);break}}S(this,Zs,null)}get hasInitialVisibility(){return u(this,uu)===null||this.getHash()===u(this,uu)}getOrder(){return u(this,Zt).size?u(this,cu)?u(this,cu).slice():[...u(this,Zt).keys()]:null}getGroups(){return u(this,Zt).size>0?o0(u(this,Zt)):null}getGroup(e){return u(this,Zt).get(e)||null}getHash(){if(u(this,Zs)!==null)return u(this,Zs);const e=new L_;for(const[i,a]of u(this,Zt))e.update(`${i}:${a.visible}`);return S(this,Zs,e.hexdigest())}}Zs=new WeakMap,Zt=new WeakMap,uu=new WeakMap,cu=new WeakMap,Uh=new WeakSet,bv=function(e){const i=e.length;if(i<2)return!0;const a=e[0];for(let r=1;r<i;r++){const l=e[r];let c;if(Array.isArray(l))c=E(this,Uh,bv).call(this,l);else if(u(this,Zt).has(l))c=u(this,Zt).get(l).visible;else return Lt(`Optional content group not found: ${l}`),!0;switch(a){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return a==="And"};class iC{constructor(e,{disableRange:i=!1,disableStream:a=!1}){He(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:h}=e;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(l==null?void 0:l.length)>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!a,this._isRangeSupported=!i,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),e.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),e.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:i}){const a=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(a):this._queuedChunks.push(a);else{const r=this._rangeReaders.some(function(l){return l._begin!==e?!1:(l._enqueue(a),!0)});He(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var i,a,r,l;e.total===void 0?(a=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||a.call(i,{loaded:e.loaded}):(l=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||l.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const i=this._rangeReaders.indexOf(e);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){He(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new nC(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const a=new aC(this,e,i);return this._pdfDataRangeTransport.requestDataRange(e,i),this._rangeReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeReaders.slice(0))a.cancel(e);this._pdfDataRangeTransport.abort()}}class nC{constructor(e,i,a=!1,r=null){this._stream=e,this._done=a||!1,this._filename=c0(r)?r:null,this._queuedChunks=i||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class aC{constructor(e,i,a){this._stream=e,this._begin=i,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function sC(g){let e=!0,i=a("filename\\*","i").exec(g);if(i){i=i[1];let b=h(i);return b=unescape(b),b=f(b),b=p(b),l(b)}if(i=c(g),i){const b=p(i);return l(b)}if(i=a("filename","i").exec(g),i){i=i[1];let b=h(i);return b=p(b),l(b)}function a(b,v){return new RegExp("(?:^|;)\\s*"+b+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(b,v){if(b){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const y=new TextDecoder(b,{fatal:!0}),_=ag(v);v=y.decode(_),e=!1}catch{}}return v}function l(b){return e&&/[\x80-\xff]/.test(b)&&(b=r("utf-8",b),e&&(b=r("iso-8859-1",b))),b}function c(b){const v=[];let y;const _=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=_.exec(b))!==null;){let[,C,k,R]=y;if(C=parseInt(C,10),C in v){if(C===0)break;continue}v[C]=[k,R]}const T=[];for(let C=0;C<v.length&&C in v;++C){let[k,R]=v[C];R=h(R),k&&(R=unescape(R),C===0&&(R=f(R))),T.push(R)}return T.join("")}function h(b){if(b.startsWith('"')){const v=b.slice(1).split('\\"');for(let y=0;y<v.length;++y){const _=v[y].indexOf('"');_!==-1&&(v[y]=v[y].slice(0,_),v.length=y+1),v[y]=v[y].replaceAll(/\\(.)/g,"$1")}b=v.join('"')}return b}function f(b){const v=b.indexOf("'");if(v===-1)return b;const y=b.slice(0,v),T=b.slice(v+1).replace(/^[^']*'/,"");return r(y,T)}function p(b){return!b.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,y,_,T){if(_==="q"||_==="Q")return T=T.replaceAll("_"," "),T=T.replaceAll(/=([0-9a-fA-F]{2})/g,function(C,k){return String.fromCharCode(parseInt(k,16))}),r(y,T);try{T=atob(T)}catch{}return r(y,T)})}return""}function g0(g,e){const i=new Headers;if(!g||!e||typeof e!="object")return i;for(const a in e){const r=e[a];r!==void 0&&i.append(a,r)}return i}function m0({responseHeaders:g,isHttp:e,rangeChunkSize:i,disableRange:a}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(g.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*i)||a||!e||g.get("Accept-Ranges")!=="bytes"||(g.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function b0(g){const e=g.get("Content-Disposition");if(e){let i=sC(e);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(c0(i))return i}return null}function og(g,e){return g===404||g===0&&e.startsWith("file:")?new Xo('Missing PDF "'+e+'".'):new ng(`Unexpected server response (${g}) while retrieving PDF "${e}".`,g)}function X_(g){return g===200||g===206}function Y_(g,e,i){return{method:"GET",headers:g,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function K_(g){return g instanceof Uint8Array?g.buffer:g instanceof ArrayBuffer?g:(Lt(`getArrayBuffer - unexpected data format: ${g}`),new Uint8Array(g).buffer)}class FS{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=g0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return He(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new rC(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const a=new oC(this,e,i);return this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class rC{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const a=new Headers(e.headers),r=i.url;fetch(r,Y_(a,this._withCredentials,this._abortController)).then(l=>{if(!X_(l.status))throw og(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:h,suggestedLength:f}=m0({responseHeaders:c,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=f||this._contentLength,this._filename=b0(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Yo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:K_(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class oC{constructor(e,i,a){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(e.headers);l.append("Range",`bytes=${i}-${a-1}`);const c=r.url;fetch(c,Y_(l,this._withCredentials,this._abortController)).then(h=>{if(!X_(h.status))throw og(h.status,c);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:K_(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}const Pb=200,Hb=206;function lC(g){const e=g.response;return typeof e!="string"?e:ag(e).buffer}class uC{constructor({url:e,httpHeaders:i,withCredentials:a}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=g0(this.isHttp,i),this.withCredentials=a||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,i,a){const r={begin:e,end:i};for(const l in a)r[l]=a[l];return this.request(r)}requestFull(e){return this.request(e)}request(e){const i=new XMLHttpRequest,a=this.currXhrId++,r=this.pendingRequests[a]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[l,c]of this.headers)i.setRequestHeader(l,c);return this.isHttp&&"begin"in e&&"end"in e?(i.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Hb):r.expectedStatus=Pb,i.responseType="arraybuffer",e.onError&&(i.onerror=function(l){e.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,a),i.onprogress=this.onProgress.bind(this,a),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,i.send(null),a}onProgress(e,i){var r;const a=this.pendingRequests[e];a&&((r=a.onProgress)==null||r.call(a,i))}onStateChange(e,i){var f,p,b;const a=this.pendingRequests[e];if(!a)return;const r=a.xhr;if(r.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){(f=a.onError)==null||f.call(a,r.status);return}const l=r.status||Pb;if(!(l===Pb&&a.expectedStatus===Hb)&&l!==a.expectedStatus){(p=a.onError)==null||p.call(a,r.status);return}const h=lC(r);if(l===Hb){const v=r.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);a.onDone({begin:parseInt(y[1],10),chunk:h})}else h?a.onDone({begin:0,chunk:h}):(b=a.onError)==null||b.call(a,r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const i=this.pendingRequests[e].xhr;delete this.pendingRequests[e],i.abort()}}class cC{constructor(e){this._source=e,this._manager=new uC(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const i=this._rangeRequestReaders.indexOf(e);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return He(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new hC(this._manager,this._source),this._fullRequestReader}getRangeReader(e,i){const a=new dC(this._manager,e,i);return a.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class hC{constructor(e,i){this._manager=e;const a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=e.requestFull(a),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,i=this._manager.getRequestXhr(e),a=new Headers(i.getAllResponseHeaders().trim().split(/[\r\n]+/).map(c=>{const[h,...f]=c.split(": ");return[h,f.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=m0({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=b0(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=og(e,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var i;(i=this.onProgress)==null||i.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class dC{constructor(e,i,a){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(i,a,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const i=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=og(e,this._url);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fC=/^[a-z][a-z0-9\-+.]+:/i;function pC(g){if(fC.test(g))return new URL(g);const e=dr.get("url");return new URL(e.pathToFileURL(g))}function Z_(g,e,i){return g.protocol==="http:"?dr.get("http").request(g,{headers:e},i):dr.get("https").request(g,{headers:e},i)}class gC{constructor(e){this.source=e,this.url=pC(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=g0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return He(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vC(this):new mC(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const a=this.isFsUrl?new yC(this,e,i):new bC(this,e,i);return this._rangeRequestReaders.push(a),a}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const a of this._rangeRequestReaders.slice(0))a.cancel(e)}}class Q_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=e.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Yo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class W_{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var a;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(a=this.onProgress)==null||a.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class mC extends Q_{constructor(e){super(e);const i=Object.fromEntries(e.headers),a=r=>{if(r.statusCode===404){const f=new Xo(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:c,suggestedLength:h}=m0({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=b0(l)};this._request=Z_(this._url,i,a),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class bC extends W_{constructor(e,i,a){super(e);const r=Object.fromEntries(e.headers);r.Range=`bytes=${i}-${a-1}`;const l=c=>{if(c.statusCode===404){const h=new Xo(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(c)};this._request=Z_(this._url,r,l),this._request.on("error",c=>{this._storedError=c}),this._request.end()}}class vC extends Q_{constructor(e){super(e);const i=dr.get("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=new Xo(`Missing PDF "${this._url}".`)),this._storedError=a,this._headersCapability.reject(a)})}}class yC extends W_{constructor(e,i,a){super(e);const r=dr.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:i,end:a-1}))}}const AC=1e5,Di=30,SC=.8;var t_,Qs,Ni,Ih,Gh,uo,Ia,qh,Vh,co,hu,du,Ws,fu,Xh,pu,ho,Yh,Kh,ye,fo,po,Zh,$s,gu,cs,$_,J_,yv,an,hp,Av,tE,eE;let vv=(ye=class{constructor({textContentSource:e,container:i,viewport:a}){w(this,cs);w(this,Qs,Promise.withResolvers());w(this,Ni,null);w(this,Ih,!1);w(this,Gh,!!((t_=globalThis.FontInspector)!=null&&t_.enabled));w(this,uo,null);w(this,Ia,null);w(this,qh,0);w(this,Vh,0);w(this,co,null);w(this,hu,null);w(this,du,0);w(this,Ws,0);w(this,fu,Object.create(null));w(this,Xh,[]);w(this,pu,null);w(this,ho,[]);w(this,Yh,new WeakMap);w(this,Kh,null);var f;if(e instanceof ReadableStream)S(this,pu,e);else if(typeof e=="object")S(this,pu,new ReadableStream({start(p){p.enqueue(e),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');S(this,Ni,S(this,hu,i)),S(this,Ws,a.scale*(globalThis.devicePixelRatio||1)),S(this,du,a.rotation),S(this,Ia,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:l,pageX:c,pageY:h}=a.rawDims;S(this,Kh,[1,0,0,-1,-c,h+l]),S(this,Vh,r),S(this,qh,l),E(f=ye,an,tE).call(f),Bo(i,a),u(this,Qs).promise.finally(()=>{u(ye,gu).delete(this),S(this,Ia,null),S(this,fu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:i}=Ei.platform;return Ft(this,"fontFamilyMap",new Map([["sans-serif",`${e&&i?"Calibri, ":""}sans-serif`],["monospace",`${e&&i?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{u(this,co).read().then(({value:i,done:a})=>{if(a){u(this,Qs).resolve();return}u(this,uo)??S(this,uo,i.lang),Object.assign(u(this,fu),i.styles),E(this,cs,$_).call(this,i.items),e()},u(this,Qs).reject)};return S(this,co,u(this,pu).getReader()),u(ye,gu).add(this),e(),u(this,Qs).promise}update({viewport:e,onBefore:i=null}){var l;const a=e.scale*(globalThis.devicePixelRatio||1),r=e.rotation;if(r!==u(this,du)&&(i==null||i(),S(this,du,r),Bo(u(this,hu),{rotation:r})),a!==u(this,Ws)){i==null||i(),S(this,Ws,a);const c={div:null,properties:null,ctx:E(l=ye,an,hp).call(l,u(this,uo))};for(const h of u(this,ho))c.properties=u(this,Yh).get(h),c.div=h,E(this,cs,yv).call(this,c)}}cancel(){var i;const e=new Yo("TextLayer task cancelled.");(i=u(this,co))==null||i.cancel(e).catch(()=>{}),S(this,co,null),u(this,Qs).reject(e)}get textDivs(){return u(this,ho)}get textContentItemsStr(){return u(this,Xh)}static cleanup(){if(!(u(this,gu).size>0)){u(this,fo).clear();for(const{canvas:e}of u(this,po).values())e.remove();u(this,po).clear()}}},Qs=new WeakMap,Ni=new WeakMap,Ih=new WeakMap,Gh=new WeakMap,uo=new WeakMap,Ia=new WeakMap,qh=new WeakMap,Vh=new WeakMap,co=new WeakMap,hu=new WeakMap,du=new WeakMap,Ws=new WeakMap,fu=new WeakMap,Xh=new WeakMap,pu=new WeakMap,ho=new WeakMap,Yh=new WeakMap,Kh=new WeakMap,fo=new WeakMap,po=new WeakMap,Zh=new WeakMap,$s=new WeakMap,gu=new WeakMap,cs=new WeakSet,$_=function(e){var r,l;if(u(this,Ih))return;(l=u(this,Ia)).ctx??(l.ctx=E(r=ye,an,hp).call(r,u(this,uo)));const i=u(this,ho),a=u(this,Xh);for(const c of e){if(i.length>AC){Lt("Ignoring additional textDivs for performance reasons."),S(this,Ih,!0);return}if(c.str===void 0){if(c.type==="beginMarkedContentProps"||c.type==="beginMarkedContent"){const h=u(this,Ni);S(this,Ni,document.createElement("span")),u(this,Ni).classList.add("markedContent"),c.id!==null&&u(this,Ni).setAttribute("id",`${c.id}`),h.append(u(this,Ni))}else c.type==="endMarkedContent"&&S(this,Ni,u(this,Ni).parentNode);continue}a.push(c.str),E(this,cs,J_).call(this,c)}},J_=function(e){var C;const i=document.createElement("span"),a={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};u(this,ho).push(i);const r=dt.transform(u(this,Kh),e.transform);let l=Math.atan2(r[1],r[0]);const c=u(this,fu)[e.fontName];c.vertical&&(l+=Math.PI/2);let h=u(this,Gh)&&c.fontSubstitution||c.fontFamily;h=ye.fontFamilyMap.get(h)||h;const f=Math.hypot(r[2],r[3]),p=f*E(C=ye,an,eE).call(C,h,u(this,uo));let b,v;l===0?(b=r[4],v=r[5]-p):(b=r[4]+p*Math.sin(l),v=r[5]-p*Math.cos(l));const y="calc(var(--scale-factor)*",_=i.style;u(this,Ni)===u(this,hu)?(_.left=`${(100*b/u(this,Vh)).toFixed(2)}%`,_.top=`${(100*v/u(this,qh)).toFixed(2)}%`):(_.left=`${y}${b.toFixed(2)}px)`,_.top=`${y}${v.toFixed(2)}px)`),_.fontSize=`${y}${(u(ye,$s)*f).toFixed(2)}px)`,_.fontFamily=h,a.fontSize=f,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,u(this,Gh)&&(i.dataset.fontName=c.fontSubstitutionLoadedName||e.fontName),l!==0&&(a.angle=l*(180/Math.PI));let T=!1;if(e.str.length>1)T=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const k=Math.abs(e.transform[0]),R=Math.abs(e.transform[3]);k!==R&&Math.max(k,R)/Math.min(k,R)>1.5&&(T=!0)}if(T&&(a.canvasWidth=c.vertical?e.height:e.width),u(this,Yh).set(i,a),u(this,Ia).div=i,u(this,Ia).properties=a,E(this,cs,yv).call(this,u(this,Ia)),a.hasText&&u(this,Ni).append(i),a.hasEOL){const k=document.createElement("br");k.setAttribute("role","presentation"),u(this,Ni).append(k)}},yv=function(e){var h;const{div:i,properties:a,ctx:r}=e,{style:l}=i;let c="";if(u(ye,$s)>1&&(c=`scale(${1/u(ye,$s)})`),a.canvasWidth!==0&&a.hasText){const{fontFamily:f}=l,{canvasWidth:p,fontSize:b}=a;E(h=ye,an,Av).call(h,r,b*u(this,Ws),f);const{width:v}=r.measureText(i.textContent);v>0&&(c=`scaleX(${p*u(this,Ws)/v}) ${c}`)}a.angle!==0&&(c=`rotate(${a.angle}deg) ${c}`),c.length>0&&(l.transform=c)},an=new WeakSet,hp=function(e=null){let i=u(this,po).get(e||(e=""));if(!i){const a=document.createElement("canvas");a.className="hiddenCanvasElement",a.lang=e,document.body.append(a),i=a.getContext("2d",{alpha:!1,willReadFrequently:!0}),u(this,po).set(e,i),u(this,Zh).set(i,{size:0,family:""})}return i},Av=function(e,i,a){const r=u(this,Zh).get(e);i===r.size&&a===r.family||(e.font=`${i}px ${a}`,r.size=i,r.family=a)},tE=function(){if(u(this,$s)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),S(this,$s,e.getBoundingClientRect().height),e.remove()},eE=function(e,i){const a=u(this,fo).get(e);if(a)return a;const r=E(this,an,hp).call(this,i);r.canvas.width=r.canvas.height=Di,E(this,an,Av).call(this,r,Di,e);const l=r.measureText("");let c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);if(c){const b=c/(c+h);return u(this,fo).set(e,b),r.canvas.width=r.canvas.height=0,b}r.strokeStyle="red",r.clearRect(0,0,Di,Di),r.strokeText("g",0,0);let f=r.getImageData(0,0,Di,Di).data;h=0;for(let b=f.length-1-3;b>=0;b-=4)if(f[b]>0){h=Math.ceil(b/4/Di);break}r.clearRect(0,0,Di,Di),r.strokeText("A",0,Di),f=r.getImageData(0,0,Di,Di).data,c=0;for(let b=0,v=f.length;b<v;b+=4)if(f[b]>0){c=Di-Math.floor(b/4/Di);break}r.canvas.width=r.canvas.height=0;const p=c?c/(c+h):SC;return u(this,fo).set(e,p),p},w(ye,an),w(ye,fo,new Map),w(ye,po,new Map),w(ye,Zh,new WeakMap),w(ye,$s,null),w(ye,gu,new Set),ye);class fh{static textContent(e){const i=[],a={items:i,styles:Object.create(null)};function r(l){var f;if(!l)return;let c=null;const h=l.name;if(h==="#text")c=l.value;else if(fh.shouldBuildText(h))(f=l==null?void 0:l.attributes)!=null&&f.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&i.push({str:c}),!!l.children)for(const p of l.children)r(p)}return r(e),a}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const _C=65536,EC=100,xC=5e3,TC=bi?P2:N2,wC=bi?H2:P_,CC=bi?z2:j2,RC=bi?F2:U_;function MC(g={}){typeof g=="string"||g instanceof URL?g={url:g}:(g instanceof ArrayBuffer||ArrayBuffer.isView(g))&&(g={data:g});const e=new Sv,{docId:i}=e,a=g.url?kC(g.url):null,r=g.data?DC(g.data):null,l=g.httpHeaders||null,c=g.withCredentials===!0,h=g.password??null,f=g.range instanceof iE?g.range:null,p=Number.isInteger(g.rangeChunkSize)&&g.rangeChunkSize>0?g.rangeChunkSize:_C;let b=g.worker instanceof ql?g.worker:null;const v=g.verbosity,y=typeof g.docBaseUrl=="string"&&!rg(g.docBaseUrl)?g.docBaseUrl:null,_=typeof g.cMapUrl=="string"?g.cMapUrl:null,T=g.cMapPacked!==!1,C=g.CMapReaderFactory||wC,k=typeof g.standardFontDataUrl=="string"?g.standardFontDataUrl:null,R=g.StandardFontDataFactory||RC,L=g.stopAtErrors!==!0,N=Number.isInteger(g.maxImageSize)&&g.maxImageSize>-1?g.maxImageSize:-1,z=g.isEvalSupported!==!1,F=typeof g.isOffscreenCanvasSupported=="boolean"?g.isOffscreenCanvasSupported:!bi,G=typeof g.isChrome=="boolean"?g.isChrome:!Ei.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),X=Number.isInteger(g.canvasMaxAreaInBytes)?g.canvasMaxAreaInBytes:-1,W=typeof g.disableFontFace=="boolean"?g.disableFontFace:bi,it=g.fontExtraProperties===!0,ot=g.enableXfa===!0,st=g.ownerDocument||globalThis.document,gt=g.disableRange===!0,bt=g.disableStream===!0,ft=g.disableAutoFetch===!0,ht=g.pdfBug===!0,H=g.CanvasFactory||TC,q=g.FilterFactory||CC,$=g.enableHWA===!0,Et=f?f.length:g.length??NaN,D=typeof g.useSystemFonts=="boolean"?g.useSystemFonts:!bi&&!W,Y=typeof g.useWorkerFetch=="boolean"?g.useWorkerFetch:C===P_&&R===U_&&_&&k&&Kc(_,document.baseURI)&&Kc(k,document.baseURI);g.canvasFactory&&CS("`canvasFactory`-instance option, please use `CanvasFactory` instead."),g.filterFactory&&CS("`filterFactory`-instance option, please use `FilterFactory` instead.");const tt=null;h2(v);const J={canvasFactory:new H({ownerDocument:st,enableHWA:$}),filterFactory:new q({docId:i,ownerDocument:st}),cMapReaderFactory:Y?null:new C({baseUrl:_,isCompressed:T}),standardFontDataFactory:Y?null:new R({baseUrl:k})};if(!b){const ut={verbosity:v,port:rs.workerPort};b=ut.port?ql.fromPort(ut):new ql(ut),e._worker=b}const lt={docId:i,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:ft,rangeChunkSize:p,length:Et,docBaseUrl:y,enableXfa:ot,evaluatorOptions:{maxImageSize:N,disableFontFace:W,ignoreErrors:L,isEvalSupported:z,isOffscreenCanvasSupported:F,isChrome:G,canvasMaxAreaInBytes:X,fontExtraProperties:it,useSystemFonts:D,cMapUrl:Y?_:null,standardFontDataUrl:Y?k:null}},xt={disableFontFace:W,fontExtraProperties:it,ownerDocument:st,pdfBug:ht,styleElement:tt,loadingParams:{disableAutoFetch:ft,enableXfa:ot}};return b.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(b.destroyed)throw new Error("Worker was destroyed");const ut=b.messageHandler.sendWithPromise("GetDocRequest",lt,r?[r.buffer]:null);let Tt;if(f)Tt=new iC(f,{disableRange:gt,disableStream:bt});else if(!r){if(!a)throw new Error("getDocument - no `url` parameter provided.");let Ht;bi?Ht=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Kc(a)?FS:gC:Ht=Kc(a)?FS:cC,Tt=new Ht({url:a,length:Et,httpHeaders:l,withCredentials:c,rangeChunkSize:p,disableRange:gt,disableStream:bt})}return ut.then(Ht=>{if(e.destroyed)throw new Error("Loading aborted");if(b.destroyed)throw new Error("Worker was destroyed");const xe=new eh(i,Ht,b.port),Wt=new jC(xe,e,Tt,xt,J);e._transport=Wt,xe.send("Ready",null)})}).catch(e._capability.reject),e}function kC(g){if(g instanceof URL)return g.href;try{return new URL(g,window.location).href}catch{if(bi&&typeof g=="string")return g}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function DC(g){if(bi&&typeof Buffer<"u"&&g instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength)return g;if(typeof g=="string")return ag(g);if(g instanceof ArrayBuffer||ArrayBuffer.isView(g)||typeof g=="object"&&!isNaN(g==null?void 0:g.length))return new Uint8Array(g);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function BS(g){return typeof g=="object"&&Number.isInteger(g==null?void 0:g.num)&&g.num>=0&&Number.isInteger(g==null?void 0:g.gen)&&g.gen>=0}var Xp;const Yp=class Yp{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${yi(Yp,Xp)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,i,a;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(r){throw(a=this._worker)!=null&&a.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Xp=new WeakMap,w(Yp,Xp,0);let Sv=Yp,iE=class{constructor(e,i,a=!1,r=null){this.length=e,this.initialData=i,this.progressiveDone=a,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(const a of this._rangeListeners)a(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){oe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class LC{constructor(e,i){this._pdfInfo=e,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ft(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Js,Ga,An,Fl,dp;class OC{constructor(e,i,a,r=!1){w(this,An);w(this,Js,null);w(this,Ga,!1);this._pageIndex=e,this._pageInfo=i,this._transport=a,this._stats=r?new wS:null,this._pdfBug=r,this.commonObjs=a.commonObjs,this.objs=new nE,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:a=0,offsetY:r=0,dontFlip:l=!1}={}){return new Md({viewBox:this.view,scale:e,rotation:i,offsetX:a,offsetY:r,dontFlip:l})}getAnnotations({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ft(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:i,intent:a="display",annotationMode:r=Ps.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:b=null,isEditing:v=!1}){var z,F;(z=this._stats)==null||z.time("Overall");const y=this._transport.getRenderingIntent(a,r,b,v),{renderingIntent:_,cacheKey:T}=y;S(this,Ga,!1),E(this,An,dp).call(this),h||(h=this._transport.getOptionalContentConfig(_));let C=this._intentStates.get(T);C||(C=Object.create(null),this._intentStates.set(T,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const k=!!(_&en.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(y));const R=G=>{var X;C.renderTasks.delete(L),(this._maybeCleanupAfterRender||k)&&S(this,Ga,!0),E(this,An,Fl).call(this,!k),G?(L.capability.reject(G),this._abortOperatorList({intentState:C,reason:G instanceof Error?G:new Error(G)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(X=globalThis.Stats)!=null&&X.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new Ev({callback:R,params:{canvasContext:e,viewport:i,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:p});(C.renderTasks||(C.renderTasks=new Set)).add(L);const N=L.task;return Promise.all([C.displayReadyCapability.promise,h]).then(([G,X])=>{var W;if(this.destroyed){R();return}if((W=this._stats)==null||W.time("Rendering"),!(X.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:G,optionalContentConfig:X}),L.operatorListChanged()}).catch(R),N}getOperatorList({intent:e="display",annotationMode:i=Ps.ENABLE,printAnnotationStorage:a=null,isEditing:r=!1}={}){var p;function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(e,i,a,r,!0);let h=this._intentStates.get(c.cacheKey);h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h));let f;return h.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||(h.renderTasks=new Set)).add(f),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(c)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>fh.textContent(a));const i=this.streamTextContent(e);return new Promise(function(a,r){function l(){c.read().then(function({value:f,done:p}){if(p){a(h);return}h.lang??(h.lang=f.lang),Object.assign(h.styles,f.styles),h.items.push(...f.items),l()},r)}const c=i.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const a of i.renderTasks)e.push(a.completed),a.cancel();return this.objs.clear(),S(this,Ga,!1),E(this,An,dp).call(this),Promise.all(e)}cleanup(e=!1){S(this,Ga,!0);const i=E(this,An,Fl).call(this,!1);return e&&i&&this._stats&&(this._stats=new wS),i}_startRenderPage(e,i){var r,l;const a=this._intentStates.get(i);a&&((r=this._stats)==null||r.timeEnd("Page Request"),(l=a.displayReadyCapability)==null||l.resolve(e))}_renderPageChunk(e,i){for(let a=0,r=e.length;a<r;a++)i.operatorList.fnArray.push(e.fnArray[a]),i.operatorList.argsArray.push(e.argsArray[a]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(const a of i.renderTasks)a.operatorListChanged();e.lastChunk&&E(this,An,Fl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:a,modifiedIds:r}){const{map:l,transfer:c}=a,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:l,modifiedIds:r},c).getReader(),p=this._intentStates.get(i);p.streamReader=f;const b=()=>{f.read().then(({value:v,done:y})=>{if(y){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,p),b())},v=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const y of p.renderTasks)y.operatorListChanged();E(this,An,Fl).call(this,!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(v);else if(p.opListReadCapability)p.opListReadCapability.reject(v);else throw v}})};b()}_abortOperatorList({intentState:e,reason:i,force:a=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!a){if(e.renderTasks.size>0)return;if(i instanceof u0){let r=EC;i.extraDelay>0&&i.extraDelay<1e3&&(r+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},r);return}}if(e.streamReader.cancel(new Yo(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Js=new WeakMap,Ga=new WeakMap,An=new WeakSet,Fl=function(e=!1){if(E(this,An,dp).call(this),!u(this,Ga)||this.destroyed)return!1;if(e)return S(this,Js,setTimeout(()=>{S(this,Js,null),E(this,An,Fl).call(this,!1)},xC)),!1;for(const{renderTasks:i,operatorList:a}of this._intentStates.values())if(i.size>0||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),S(this,Ga,!1),!0},dp=function(){u(this,Js)&&(clearTimeout(u(this,Js)),S(this,Js,null))};var qa,Kp;class NC{constructor(){w(this,qa,new Map);w(this,Kp,Promise.resolve())}postMessage(e,i){const a={data:structuredClone(e,i?{transfer:i}:null)};u(this,Kp).then(()=>{for(const[r]of u(this,qa))r.call(this,a)})}addEventListener(e,i,a=null){let r=null;if((a==null?void 0:a.signal)instanceof AbortSignal){const{signal:l}=a;if(l.aborted){Lt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(e,i);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}u(this,qa).set(i,r)}removeEventListener(e,i){const a=u(this,qa).get(i);a==null||a(),u(this,qa).delete(i)}terminate(){for(const[,e]of u(this,qa))e==null||e();u(this,qa).clear()}}qa=new WeakMap,Kp=new WeakMap;var Zp,go,mo,mu,fp,bu,pp;const ce=class ce{constructor({name:e=null,port:i=null,verbosity:a=d2()}={}){w(this,mu);var r;if(this.name=e,this.destroyed=!1,this.verbosity=a,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((r=u(ce,mo))!=null&&r.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(u(ce,mo)||S(ce,mo,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return bi?Promise.all([dr.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new eh("main","worker",e),this._messageHandler.on("ready",function(){}),E(this,mu,fp).call(this)}_initialize(){if(u(ce,go)||u(ce,bu,pp)){this._setupFakeWorker();return}let{workerSrc:e}=ce;try{ce._isSameOrigin(window.location.href,e)||(e=ce._createCDNWrapper(new URL(e,window.location).href));const i=new Worker(e,{type:"module"}),a=new eh("main","worker",i),r=()=>{l.abort(),a.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;i.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),a.on("test",h=>{if(l.abort(),this.destroyed||!h){r();return}this._messageHandler=a,this._port=i,this._webWorker=i,E(this,mu,fp).call(this)}),a.on("ready",h=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{this._setupFakeWorker()}});const c=()=>{const h=new Uint8Array;a.send("test",h,[h.buffer])};c();return}catch{ig("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){u(ce,go)||(Lt("Setting up fake worker."),S(ce,go,!0)),ce._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new NC;this._port=i;const a=`fake${yi(ce,Zp)._++}`,r=new eh(a+"_worker",a,i);e.setup(r,i),this._messageHandler=new eh(a,a+"_worker",i),E(this,mu,fp).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=u(ce,mo))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var a;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(a=u(this,mo))==null?void 0:a.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new ce(e)}static get workerSrc(){if(rs.workerSrc)return rs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ft(this,"_setupFakeWorkerGlobal",(async()=>u(this,bu,pp)?u(this,bu,pp):(await import(this.workerSrc)).WorkerMessageHandler)())}};Zp=new WeakMap,go=new WeakMap,mo=new WeakMap,mu=new WeakSet,fp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},bu=new WeakSet,pp=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},w(ce,bu),w(ce,Zp,0),w(ce,go,!1),w(ce,mo),bi&&(S(ce,go,!0),rs.workerSrc||(rs.workerSrc="./pdf.worker.mjs")),ce._isSameOrigin=(e,i)=>{let a;try{if(a=new URL(e),!a.origin||a.origin==="null")return!1}catch{return!1}const r=new URL(i,a);return a.origin===r.origin},ce._createCDNWrapper=e=>{const i=`await import("${e}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let ql=ce;var Va,ra,vu,yu,oa,bo,ih;class jC{constructor(e,i,a,r,l){w(this,bo);w(this,Va,new Map);w(this,ra,new Map);w(this,vu,new Map);w(this,yu,new Map);w(this,oa,null);this.messageHandler=e,this.loadingTask=i,this.commonObjs=new nE,this.fontLoader=new L2({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ft(this,"annotationStorage",new f0)}getRenderingIntent(e,i=Ps.ENABLE,a=null,r=!1,l=!1){let c=en.DISPLAY,h=uv;switch(e){case"any":c=en.ANY;break;case"display":break;case"print":c=en.PRINT;break;default:Lt(`getRenderingIntent - invalid intent: ${e}`)}const f=c&en.PRINT&&a instanceof N_?a:this.annotationStorage;switch(i){case Ps.DISABLE:c+=en.ANNOTATIONS_DISABLE;break;case Ps.ENABLE:break;case Ps.ENABLE_FORMS:c+=en.ANNOTATIONS_FORMS;break;case Ps.ENABLE_STORAGE:c+=en.ANNOTATIONS_STORAGE,h=f.serializable;break;default:Lt(`getRenderingIntent - invalid annotationMode: ${i}`)}r&&(c+=en.IS_EDITING),l&&(c+=en.OPLIST);const{ids:p,hash:b}=f.modifiedIds,v=[c,h.hash,b];return{renderingIntent:c,cacheKey:v.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){var a;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(a=u(this,oa))==null||a.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of u(this,ra).values())e.push(r._destroy());u(this,ra).clear(),u(this,vu).clear(),u(this,yu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{var r;this.commonObjs.clear(),this.fontLoader.clear(),u(this,Va).clear(),this.filterFactory.destroy(),vv.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Yo("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(a,r)=>{He(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}He(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("ReaderHeadersReady",async a=>{var h;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&((h=i.onProgress)==null||h.call(i,this._lastProgress)),this._fullReader.onProgress=f=>{var p;(p=i.onProgress)==null||p.call(i,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),e.on("GetRangeReader",(a,r)=>{He(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(a.begin,a.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:h}){if(h){r.close();return}He(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),e.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,i._capability.resolve(new LC(a,this))}),e.on("DocException",function(a){let r;switch(a.name){case"PasswordException":r=new Ub(a.message,a.code);break;case"InvalidPDFException":r=new r_(a.message);break;case"MissingPDFException":r=new Xo(a.message);break;case"UnexpectedResponseException":r=new ng(a.message,a.status);break;case"UnknownErrorException":r=new Ib(a.message,a.details);break;default:oe("DocException - expected a valid Error.")}i._capability.reject(r)}),e.on("PasswordRequest",a=>{if(S(this,oa,Promise.withResolvers()),i.onPassword){const r=l=>{l instanceof Error?u(this,oa).reject(l):u(this,oa).resolve({password:l})};try{i.onPassword(r,a.code)}catch(l){u(this,oa).reject(l)}}else u(this,oa).reject(new Ub(a.message,a.code));return u(this,oa).promise}),e.on("DataLoaded",a=>{var r;(r=i.onProgress)==null||r.call(i,{loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),e.on("StartRenderPage",a=>{if(this.destroyed)return;u(this,ra).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),e.on("commonobj",([a,r,l])=>{var c;if(this.destroyed||this.commonObjs.has(a))return null;switch(r){case"Font":const{disableFontFace:h,fontExtraProperties:f,pdfBug:p}=this._params;if("error"in l){const _=l.error;Lt(`Error during font loading: ${_}`),this.commonObjs.resolve(a,_);break}const b=p&&((c=globalThis.FontInspector)!=null&&c.enabled)?(_,T)=>globalThis.FontInspector.fontAdded(_,T):null,v=new O2(l,{disableFontFace:h,inspectFont:b});this.fontLoader.bind(v).catch(()=>e.sendWithPromise("FontFallback",{id:a})).finally(()=>{!f&&v.data&&(v.data=null),this.commonObjs.resolve(a,v)});break;case"CopyLocalImage":const{imageRef:y}=l;He(y,"The imageRef must be defined.");for(const _ of u(this,ra).values())for(const[,T]of _.objs)if((T==null?void 0:T.ref)===y)return T.dataLen?(this.commonObjs.resolve(a,structuredClone(T)),T.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([a,r,l,c])=>{var f;if(this.destroyed)return;const h=u(this,ra).get(r);if(!h.objs.has(a)){if(h._intentStates.size===0){(f=c==null?void 0:c.bitmap)==null||f.close();return}switch(l){case"Image":h.objs.resolve(a,c),(c==null?void 0:c.dataLen)>o2&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(a,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),e.on("DocProgress",a=>{var r;this.destroyed||(r=i.onProgress)==null||r.call(i,{loaded:a.loaded,total:a.total})}),e.on("FetchBuiltInCMap",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(a)}),e.on("FetchStandardFontData",async a=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(a)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var a;this.annotationStorage.size<=0&&Lt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((a=this._fullReader)==null?void 0:a.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=e-1,a=u(this,vu).get(i);if(a)return a;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&u(this,yu).set(l.refStr,e);const c=new OC(i,l,this,this._params.pdfBug);return u(this,ra).set(i,c),c});return u(this,vu).set(i,r),r}getPageIndex(e){return BS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return E(this,bo,ih).call(this,"GetFieldObjects")}hasJSActions(){return E(this,bo,ih).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return E(this,bo,ih).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return E(this,bo,ih).call(this,"GetOptionalContentConfig").then(i=>new eC(i,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",i=u(this,Va).get(e);if(i)return i;const a=this.messageHandler.sendWithPromise(e,null).then(r=>{var l,c;return{info:r[0],metadata:r[1]?new J2(r[1]):null,contentDispositionFilename:((l=this._fullReader)==null?void 0:l.filename)??null,contentLength:((c=this._fullReader)==null?void 0:c.contentLength)??null}});return u(this,Va).set(e,a),a}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of u(this,ra).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),u(this,Va).clear(),this.filterFactory.destroy(!0),vv.cleanup()}}cachedPageNumber(e){if(!BS(e))return null;const i=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return u(this,yu).get(i)??null}}Va=new WeakMap,ra=new WeakMap,vu=new WeakMap,yu=new WeakMap,oa=new WeakMap,bo=new WeakSet,ih=function(e,i=null){const a=u(this,Va).get(e);if(a)return a;const r=this.messageHandler.sendWithPromise(e,i);return u(this,Va).set(e,r),r};const tp=Symbol("INITIAL_DATA");var Nn,Qh,_v;class nE{constructor(){w(this,Qh);w(this,Nn,Object.create(null))}get(e,i=null){if(i){const r=E(this,Qh,_v).call(this,e);return r.promise.then(()=>i(r.data)),null}const a=u(this,Nn)[e];if(!a||a.data===tp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return a.data}has(e){const i=u(this,Nn)[e];return!!i&&i.data!==tp}resolve(e,i=null){const a=E(this,Qh,_v).call(this,e);a.data=i,a.resolve()}clear(){var e;for(const i in u(this,Nn)){const{data:a}=u(this,Nn)[i];(e=a==null?void 0:a.bitmap)==null||e.close()}S(this,Nn,Object.create(null))}*[Symbol.iterator](){for(const e in u(this,Nn)){const{data:i}=u(this,Nn)[e];i!==tp&&(yield[e,i])}}}Nn=new WeakMap,Qh=new WeakSet,_v=function(e){var i;return(i=u(this,Nn))[e]||(i[e]={...Promise.withResolvers(),data:tp})};var tr;class zC{constructor(e){w(this,tr,null);S(this,tr,e),this.onContinue=null}get promise(){return u(this,tr).capability.promise}cancel(e=0){u(this,tr).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=u(this,tr).operatorList;if(!e)return!1;const{annotationCanvasMap:i}=u(this,tr);return e.form||e.canvas&&(i==null?void 0:i.size)>0}}tr=new WeakMap;var er,vo;const Ir=class Ir{constructor({callback:e,params:i,objs:a,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:h,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:b=!1,pdfBug:v=!1,pageColors:y=null}){w(this,er,null);this.callback=e,this.params=i,this.objs=a,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=h,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=v,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=b===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new zC(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){var h,f;if(this.cancelled)return;if(this._canvas){if(u(Ir,vo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");u(Ir,vo).add(this._canvas)}this._pdfBug&&((h=globalThis.StepperManager)!=null&&h.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:r,transform:l,background:c}=this.params;this.gfx=new Gl(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:e,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(e=null,i=0){var a;this.running=!1,this.cancelled=!0,(a=this.gfx)==null||a.endDrawing(),u(this,er)&&(window.cancelAnimationFrame(u(this,er)),S(this,er,null)),u(Ir,vo).delete(this._canvas),this.callback(e||new u0(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?S(this,er,window.requestAnimationFrame(()=>{S(this,er,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),u(Ir,vo).delete(this._canvas),this.callback())))}};er=new WeakMap,vo=new WeakMap,w(Ir,vo,new WeakSet);let Ev=Ir;const PC="4.8.69",HC="3634dab10";function US(g){return Math.floor(Math.max(0,Math.min(1,g))*255).toString(16).padStart(2,"0")}function Yc(g){return Math.max(0,Math.min(255,255*g))}class IS{static CMYK_G([e,i,a,r]){return["G",1-Math.min(1,.3*e+.59*a+.11*i+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Yc(e),[e,e,e]}static G_HTML([e]){const i=US(e);return`#${i}${i}${i}`}static RGB_G([e,i,a]){return["G",.3*e+.59*i+.11*a]}static RGB_rgb(e){return e.map(Yc)}static RGB_HTML(e){return`#${e.map(US).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,i,a,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,a+r),1-Math.min(1,i+r)]}static CMYK_rgb([e,i,a,r]){return[Yc(1-Math.min(1,e+r)),Yc(1-Math.min(1,a+r)),Yc(1-Math.min(1,i+r))]}static CMYK_HTML(e){const i=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([e,i,a]){const r=1-e,l=1-i,c=1-a,h=Math.min(r,l,c);return["CMYK",r,l,c,h]}}class FC{create(e,i,a=!1){if(e<=0||i<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),a||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${i}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${i}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){oe("Abstract method `_createSVG` called.")}}class v0 extends FC{_createSVG(e){return document.createElementNS(Oa,e)}}class aE{static setupStorage(e,i,a,r,l){const c=r.getValue(i,{value:null});switch(a.name){case"textarea":if(c.value!==null&&(e.textContent=c.value),l==="print")break;e.addEventListener("input",h=>{r.setValue(i,{value:h.target.value})});break;case"input":if(a.attributes.type==="radio"||a.attributes.type==="checkbox"){if(c.value===a.attributes.xfaOn?e.setAttribute("checked",!0):c.value===a.attributes.xfaOff&&e.removeAttribute("checked"),l==="print")break;e.addEventListener("change",h=>{r.setValue(i,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&e.setAttribute("value",c.value),l==="print")break;e.addEventListener("input",h=>{r.setValue(i,{value:h.target.value})})}break;case"select":if(c.value!==null){e.setAttribute("value",c.value);for(const h of a.children)h.attributes.value===c.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}e.addEventListener("input",h=>{const f=h.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(i,{value:p})});break}}static setAttributes({html:e,element:i,storage:a=null,intent:r,linkService:l}){const{attributes:c}=i,h=e instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[f,p]of Object.entries(c))if(p!=null)switch(f){case"class":p.length&&e.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",p);break;case"style":Object.assign(e.style,p);break;case"textContent":e.textContent=p;break;default:(!h||f!=="href"&&f!=="newWindow")&&e.setAttribute(f,p)}h&&l.addLinkAttributes(e,c.href,c.newWindow),a&&c.dataId&&this.setupStorage(e,c.dataId,i,a)}static render(e){var v,y;const i=e.annotationStorage,a=e.linkService,r=e.xfaHtml,l=e.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:a});const h=l!=="richText",f=e.div;if(f.append(c),e.viewport){const _=`matrix(${e.viewport.transform.join(",")})`;f.style.transform=_}h&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const _=document.createTextNode(r.value);c.append(_),h&&fh.shouldBuildText(r.name)&&p.push(_)}return{textDivs:p}}const b=[[r,-1,c]];for(;b.length>0;){const[_,T,C]=b.at(-1);if(T+1===_.children.length){b.pop();continue}const k=_.children[++b.at(-1)[1]];if(k===null)continue;const{name:R}=k;if(R==="#text"){const N=document.createTextNode(k.value);p.push(N),C.append(N);continue}const L=(v=k==null?void 0:k.attributes)!=null&&v.xmlns?document.createElementNS(k.attributes.xmlns,R):document.createElement(R);if(C.append(L),k.attributes&&this.setAttributes({html:L,element:k,storage:i,intent:l,linkService:a}),((y=k.children)==null?void 0:y.length)>0)b.push([k,-1,L]);else if(k.value){const N=document.createTextNode(k.value);h&&fh.shouldBuildText(R)&&p.push(N),L.append(N)}}for(const _ of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:p}}static update(e){const i=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=i,e.div.hidden=!1}}const Dd=1e3,BC=9,Io=new WeakSet;function os(g){return{width:g[2]-g[0],height:g[3]-g[1]}}class UC{static create(e){switch(e.data.annotationType){case Ne.LINK:return new sE(e);case Ne.TEXT:return new IC(e);case Ne.WIDGET:switch(e.data.fieldType){case"Tx":return new GC(e);case"Btn":return e.data.radioButton?new lE(e):e.data.checkBox?new VC(e):new XC(e);case"Ch":return new YC(e);case"Sig":return new qC(e)}return new Ko(e);case Ne.POPUP:return new Tv(e);case Ne.FREETEXT:return new fE(e);case Ne.LINE:return new ZC(e);case Ne.SQUARE:return new QC(e);case Ne.CIRCLE:return new WC(e);case Ne.POLYLINE:return new pE(e);case Ne.CARET:return new JC(e);case Ne.INK:return new y0(e);case Ne.POLYGON:return new $C(e);case Ne.HIGHLIGHT:return new gE(e);case Ne.UNDERLINE:return new tR(e);case Ne.SQUIGGLY:return new eR(e);case Ne.STRIKEOUT:return new iR(e);case Ne.STAMP:return new mE(e);case Ne.FILEATTACHMENT:return new nR(e);default:return new Ee(e)}}}var yo,Au,Su,Wh,xv;const E0=class E0{constructor(e,{isRenderable:i=!1,ignoreBorder:a=!1,createQuadrilaterals:r=!1}={}){w(this,Wh);w(this,yo,null);w(this,Au,!1);w(this,Su,null);this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(a)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:i,richText:a}){return!!(e!=null&&e.str||i!=null&&i.str||a!=null&&a.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return E0._hasPopupData(this.data)}updateEdited(e){var a;if(!this.container)return;u(this,yo)||S(this,yo,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&E(this,Wh,xv).call(this,i),(a=u(this,Su))==null||a.popup.updateEdited(e)}resetEdited(){var e;u(this,yo)&&(E(this,Wh,xv).call(this,u(this,yo).rect),(e=u(this,Su))==null||e.popup.resetEdited(),S(this,yo,null))}_createContainer(e){const{data:i,parent:{page:a,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",i.id),this instanceof Ko||(l.tabIndex=Dd);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,i.alternativeText&&(l.title=i.alternativeText),i.noRotate&&l.classList.add("norotate"),!i.rect||this instanceof Tv){const{rotation:C}=i;return!i.hasOwnCanvas&&C!==0&&this.setRotation(C,l),l}const{width:h,height:f}=os(i.rect);if(!e&&i.borderStyle.width>0){c.borderWidth=`${i.borderStyle.width}px`;const C=i.borderStyle.horizontalCornerRadius,k=i.borderStyle.verticalCornerRadius;if(C>0||k>0){const L=`calc(${C}px * var(--scale-factor)) / calc(${k}px * var(--scale-factor))`;c.borderRadius=L}else if(this instanceof lE){const L=`calc(${h}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;c.borderRadius=L}switch(i.borderStyle.style){case Vc.SOLID:c.borderStyle="solid";break;case Vc.DASHED:c.borderStyle="dashed";break;case Vc.BEVELED:Lt("Unimplemented border style: beveled");break;case Vc.INSET:Lt("Unimplemented border style: inset");break;case Vc.UNDERLINE:c.borderBottomStyle="solid";break}const R=i.borderColor||null;R?(S(this,Au,!0),c.borderColor=dt.makeHexColor(R[0]|0,R[1]|0,R[2]|0)):c.borderWidth=0}const p=dt.normalizeRect([i.rect[0],a.view[3]-i.rect[1]+a.view[1],i.rect[2],a.view[3]-i.rect[3]+a.view[1]]),{pageWidth:b,pageHeight:v,pageX:y,pageY:_}=r.rawDims;c.left=`${100*(p[0]-y)/b}%`,c.top=`${100*(p[1]-_)/v}%`;const{rotation:T}=i;return i.hasOwnCanvas||T===0?(c.width=`${100*h/b}%`,c.height=`${100*f/v}%`):this.setRotation(T,l),l}setRotation(e,i=this.container){if(!this.data.rect)return;const{pageWidth:a,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:c}=os(this.data.rect);let h,f;e%180===0?(h=100*l/a,f=100*c/r):(h=100*c/a,f=100*l/r),i.style.width=`${h}%`,i.style.height=`${f}%`,i.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(i,a,r)=>{const l=r.detail[i],c=l[0],h=l.slice(1);r.target.style[a]=IS[`${c}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[a]:IS[`${c}_rgb`](h)})};return Ft(this,"_commonActions",{display:i=>{const{display:a}=i.detail,r=a%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:a===1||a===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:a}=i.detail;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:a,noView:a})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{e("bgColor","backgroundColor",i)},fillColor:i=>{e("fillColor","backgroundColor",i)},fgColor:i=>{e("fgColor","color",i)},textColor:i=>{e("textColor","color",i)},borderColor:i=>{e("borderColor","borderColor",i)},strokeColor:i=>{e("strokeColor","borderColor",i)},rotation:i=>{const a=i.detail.rotation;this.setRotation(a),this.annotationStorage.setValue(this.data.id,{rotation:a})}})}_dispatchEventFromSandbox(e,i){const a=this._commonActions;for(const r of Object.keys(i.detail)){const l=e[r]||a[r];l==null||l(i)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const a=this._commonActions;for(const[r,l]of Object.entries(i)){const c=a[r];if(c){const h={detail:{[r]:l},target:e};c(h),delete i[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[i,a,r,l]=this.data.rect.map(C=>Math.fround(C));if(e.length===8){const[C,k,R,L]=e.subarray(2,6);if(r===C&&l===k&&i===R&&a===L)return}const{style:c}=this.container;let h;if(u(this,Au)){const{borderColor:C,borderWidth:k}=c;c.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${C}" stroke-width="${k}">`],this.container.classList.add("hasBorder")}const f=r-i,p=l-a,{svgFactory:b}=this,v=b.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const y=b.createElement("defs");v.append(y);const _=b.createElement("clipPath"),T=`clippath_${this.data.id}`;_.setAttribute("id",T),_.setAttribute("clipPathUnits","objectBoundingBox"),y.append(_);for(let C=2,k=e.length;C<k;C+=8){const R=e[C],L=e[C+1],N=e[C+2],z=e[C+3],F=b.createElement("rect"),G=(N-i)/f,X=(l-L)/p,W=(R-N)/f,it=(L-z)/p;F.setAttribute("x",G),F.setAttribute("y",X),F.setAttribute("width",W),F.setAttribute("height",it),_.append(F),h==null||h.push(`<rect vector-effect="non-scaling-stroke" x="${G}" y="${X}" width="${W}" height="${it}"/>`)}u(this,Au)&&(h.push("</g></svg>')"),c.backgroundImage=h.join("")),this.container.append(v),this.container.style.clipPath=`url(#${T})`}_createPopup(){const{data:e}=this,i=S(this,Su,new Tv({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){oe("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,i=null){const a=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:l,id:c,exportValues:h}of r){if(l===-1||c===i)continue;const f=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!Io.has(p)){Lt(`_getElementsByName - element not allowed: ${c}`);continue}a.push({id:c,exportValue:f,domElement:p})}return a}for(const r of document.getElementsByName(e)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==i&&Io.has(r)&&a.push({id:c,exportValue:l,domElement:r})}return a}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const i of e)i.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("switchannotationeditormode",{source:this,mode:e,editId:i})})}};yo=new WeakMap,Au=new WeakMap,Su=new WeakMap,Wh=new WeakSet,xv=function(e){const{container:{style:i},data:{rect:a,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:h,pageY:f}}}}=this;a==null||a.splice(0,4,...e);const{width:p,height:b}=os(e);i.left=`${100*(e[0]-h)/l}%`,i.top=`${100*(c-e[3]+f)/c}%`,r===0?(i.width=`${100*p/l}%`,i.height=`${100*b/c}%`):this.setRotation(r)};let Ee=E0;var nn,Pr,rE,oE;class sE extends Ee{constructor(i,a=null){super(i,{isRenderable:!0,ignoreBorder:!!(a!=null&&a.ignoreBorder),createQuadrilaterals:!0});w(this,nn);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:a}=this,r=document.createElement("a");r.setAttribute("data-element-id",i.id);let l=!1;return i.url?(a.addLinkAttributes(r,i.url,i.newWindow),l=!0):i.action?(this._bindNamedAction(r,i.action),l=!0):i.attachment?(E(this,nn,rE).call(this,r,i.attachment,i.attachmentDest),l=!0):i.setOCGState?(E(this,nn,oE).call(this,r,i.setOCGState),l=!0):i.dest?(this._bindLink(r,i.dest),l=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,i),l=!0),i.resetForm?(this._bindResetFormAction(r,i.resetForm),l=!0):this.isTooltipOnly&&!l&&(this._bindLink(r,""),l=!0)),this.container.classList.add("linkAnnotation"),l&&this.container.append(r),this.container}_bindLink(i,a){i.href=this.linkService.getDestinationHash(a),i.onclick=()=>(a&&this.linkService.goToDestination(a),!1),(a||a==="")&&E(this,nn,Pr).call(this)}_bindNamedAction(i,a){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(a),!1),E(this,nn,Pr).call(this)}_bindJSAction(i,a){i.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const l of Object.keys(a.actions)){const c=r.get(l);c&&(i[c]=()=>{var h;return(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:a.id,name:l}}),!1})}i.onclick||(i.onclick=()=>!1),E(this,nn,Pr).call(this)}_bindResetFormAction(i,a){const r=i.onclick;if(r||(i.href=this.linkService.getAnchorUrl("")),E(this,nn,Pr).call(this),!this._fieldObjects){Lt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(i.onclick=()=>!1);return}i.onclick=()=>{var v;r==null||r();const{fields:l,refs:c,include:h}=a,f=[];if(l.length!==0||c.length!==0){const y=new Set(c);for(const _ of l){const T=this._fieldObjects[_]||[];for(const{id:C}of T)y.add(C)}for(const _ of Object.values(this._fieldObjects))for(const T of _)y.has(T.id)===h&&f.push(T)}else for(const y of Object.values(this._fieldObjects))f.push(...y);const p=this.annotationStorage,b=[];for(const y of f){const{id:_}=y;switch(b.push(_),y.type){case"text":{const C=y.defaultValue||"";p.setValue(_,{value:C});break}case"checkbox":case"radiobutton":{const C=y.defaultValue===y.exportValues;p.setValue(_,{value:C});break}case"combobox":case"listbox":{const C=y.defaultValue||"";p.setValue(_,{value:C});break}default:continue}const T=document.querySelector(`[data-element-id="${_}"]`);if(T){if(!Io.has(T)){Lt(`_bindResetFormAction - element not allowed: ${_}`);continue}}else continue;T.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:b,name:"ResetForm"}})),!1}}}nn=new WeakSet,Pr=function(){this.container.setAttribute("data-internal-link","")},rE=function(i,a,r=null){i.href=this.linkService.getAnchorUrl(""),a.description&&(i.title=a.description),i.onclick=()=>{var l;return(l=this.downloadManager)==null||l.openOrDownloadData(a.content,a.filename,r),!1},E(this,nn,Pr).call(this)},oE=function(i,a){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(a),!1),E(this,nn,Pr).call(this)};class IC extends Ee{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ko extends Ee{render(){return this.container}showElementAndHideCanvas(e){var i;this.data.hasOwnCanvas&&(((i=e.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ei.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,i,a,r,l){a.includes("mouse")?e.addEventListener(a,c=>{var h;(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):e.addEventListener(a,c=>{var h;if(a==="blur"){if(!i.focused||!c.relatedTarget)return;i.focused=!1}else if(a==="focus"){if(i.focused)return;i.focused=!0}l&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}}))})}_setEventListeners(e,i,a,r){var l,c,h;for(const[f,p]of a)(p==="Action"||(l=this.data.actions)!=null&&l[p])&&((p==="Focus"||p==="Blur")&&(i||(i={focused:!1})),this._setEventListener(e,i,f,p,r),p==="Focus"&&!((c=this.data.actions)!=null&&c.Blur)?this._setEventListener(e,i,"blur","Blur",null):p==="Blur"&&!((h=this.data.actions)!=null&&h.Focus)&&this._setEventListener(e,i,"focus","Focus",null))}_setBackgroundColor(e){const i=this.data.backgroundColor||null;e.style.backgroundColor=i===null?"transparent":dt.makeHexColor(i[0],i[1],i[2])}_setTextStyle(e){const i=["left","center","right"],{fontColor:a}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||BC,l=e.style;let c;const h=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),b=Math.round(p/(Ob*r))||1,v=p/b;c=Math.min(r,f(v/Ob))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);c=Math.min(r,f(p/Ob))}l.fontSize=`calc(${c}px * var(--scale-factor))`,l.color=dt.makeHexColor(a[0],a[1],a[2]),this.data.textAlignment!==null&&(l.textAlign=i[this.data.textAlignment])}_setRequired(e,i){i?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",i)}}class GC extends Ko{constructor(e){const i=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:i})}setPropertyOnSiblings(e,i,a,r){const l=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[i]=a),l.setValue(c.id,{[r]:a})}render(){var r,l;const e=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let a=null;if(this.renderForms){const c=e.getValue(i,{value:this.data.fieldValue});let h=c.value||"";const f=e.getValue(i,{charLimit:this.data.maxLen}).charLimit;f&&h.length>f&&(h=h.slice(0,f));let p=c.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const b={userValue:h,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(a=document.createElement("textarea"),a.textContent=p??h,this.data.doNotScroll&&(a.style.overflowY="hidden")):(a=document.createElement("input"),a.type="text",a.setAttribute("value",p??h),this.data.doNotScroll&&(a.style.overflowX="hidden")),this.data.hasOwnCanvas&&(a.hidden=!0),Io.add(a),a.setAttribute("data-element-id",i),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.tabIndex=Dd,this._setRequired(a,this.data.required),f&&(a.maxLength=f),a.addEventListener("input",y=>{e.setValue(i,{value:y.target.value}),this.setPropertyOnSiblings(a,"value",y.target.value,"value"),b.formattedValue=null}),a.addEventListener("resetform",y=>{const _=this.data.defaultFieldValue??"";a.value=b.userValue=_,b.formattedValue=null});let v=y=>{const{formattedValue:_}=b;_!=null&&(y.target.value=_),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){a.addEventListener("focus",_=>{var C;if(b.focused)return;const{target:T}=_;b.userValue&&(T.value=b.userValue),b.lastCommittedValue=T.value,b.commitKey=1,(C=this.data.actions)!=null&&C.Focus||(b.focused=!0)}),a.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const T={value(C){b.userValue=C.detail.value??"",e.setValue(i,{value:b.userValue.toString()}),C.target.value=b.userValue},formattedValue(C){const{formattedValue:k}=C.detail;b.formattedValue=k,k!=null&&C.target!==document.activeElement&&(C.target.value=k),e.setValue(i,{formattedValue:k})},selRange(C){C.target.setSelectionRange(...C.detail.selRange)},charLimit:C=>{var N;const{charLimit:k}=C.detail,{target:R}=C;if(k===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",k);let L=b.userValue;!L||L.length<=k||(L=L.slice(0,k),R.value=b.userValue=L,e.setValue(i,{value:L}),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(T,_)}),a.addEventListener("keydown",_=>{var k;b.commitKey=1;let T=-1;if(_.key==="Escape"?T=0:_.key==="Enter"&&!this.data.multiLine?T=2:_.key==="Tab"&&(b.commitKey=3),T===-1)return;const{value:C}=_.target;b.lastCommittedValue!==C&&(b.lastCommittedValue=C,b.userValue=C,(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:C,willCommit:!0,commitKey:T,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const y=v;v=null,a.addEventListener("blur",_=>{var C,k;if(!b.focused||!_.relatedTarget)return;(C=this.data.actions)!=null&&C.Blur||(b.focused=!1);const{value:T}=_.target;b.userValue=T,b.lastCommittedValue!==T&&((k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:T,willCommit:!0,commitKey:b.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}})),y(_)}),(l=this.data.actions)!=null&&l.Keystroke&&a.addEventListener("beforeinput",_=>{var F;b.lastCommittedValue=null;const{data:T,target:C}=_,{value:k,selectionStart:R,selectionEnd:L}=C;let N=R,z=L;switch(_.inputType){case"deleteWordBackward":{const G=k.substring(0,R).match(/\w*[^\w]*$/);G&&(N-=G[0].length);break}case"deleteWordForward":{const G=k.substring(R).match(/^[^\w]*\w*/);G&&(z+=G[0].length);break}case"deleteContentBackward":R===L&&(N-=1);break;case"deleteContentForward":R===L&&(z+=1);break}_.preventDefault(),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:k,change:T||"",willCommit:!1,selStart:N,selEnd:z}})}),this._setEventListeners(a,b,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(v&&a.addEventListener("blur",v),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/f;a.classList.add("comb"),a.style.letterSpacing=`calc(${_}px * var(--scale-factor) - 1ch)`}}else a=document.createElement("div"),a.textContent=this.data.fieldValue,a.style.verticalAlign="middle",a.style.display="table-cell",this.data.hasOwnCanvas&&(a.hidden=!0);return this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class qC extends Ko{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class VC extends Ko{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,i=this.data,a=i.id;let r=e.getValue(a,{value:i.exportValue===i.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(a,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Io.add(l),l.setAttribute("data-element-id",a),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=i.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",i.exportValue),l.tabIndex=Dd,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,a)){const b=f&&p.exportValue===i.exportValue;p.domElement&&(p.domElement.checked=b),e.setValue(p.id,{value:b})}e.setValue(a,{value:f})}),l.addEventListener("resetform",c=>{const h=i.defaultFieldValue||"Off";c.target.checked=h===i.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const h={value(f){f.target.checked=f.detail.value!=="Off",e.setValue(a,{value:f.target.checked})}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class lE extends Ko{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,i=this.data,a=i.id;let r=e.getValue(a,{value:i.fieldValue===i.buttonValue}).value;if(typeof r=="string"&&(r=r!==i.buttonValue,e.setValue(a,{value:r})),r)for(const c of this._getElementsByName(i.fieldName,a))e.setValue(c.id,{value:!1});const l=document.createElement("input");if(Io.add(l),l.setAttribute("data-element-id",a),l.disabled=i.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=i.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=Dd,l.addEventListener("change",c=>{const{name:h,checked:f}=c.target;for(const p of this._getElementsByName(h,a))e.setValue(p.id,{value:!1});e.setValue(a,{value:f})}),l.addEventListener("resetform",c=>{const h=i.defaultFieldValue;c.target.checked=h!=null&&h===i.buttonValue}),this.enableScripting&&this.hasJSActions){const c=i.buttonValue;l.addEventListener("updatefromsandbox",h=>{const f={value:p=>{const b=c===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const y=b&&v.id===a;v.domElement&&(v.domElement.checked=y),e.setValue(v.id,{value:y})}}};this._dispatchEventFromSandbox(f,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class XC extends sE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const i=e.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),e}}class YC extends Ko{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,i=this.data.id,a=e.getValue(i,{value:this.data.fieldValue}),r=document.createElement("select");Io.add(r),r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Dd;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",b=>{const v=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===v});for(const b of this.data.options){const v=document.createElement("option");v.textContent=b.displayValue,v.value=b.exportValue,a.value.includes(b.exportValue)&&(v.setAttribute("selected",!0),l=!1),r.append(v)}let c=null;if(l){const b=document.createElement("option");b.value=" ",b.setAttribute("hidden",!0),b.setAttribute("selected",!0),r.prepend(b),c=()=>{b.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const h=b=>{const v=b?"value":"textContent",{options:y,multiple:_}=r;return _?Array.prototype.filter.call(y,T=>T.selected).map(T=>T[v]):y.selectedIndex===-1?null:y[y.selectedIndex][v]};let f=h(!1);const p=b=>{const v=b.target.options;return Array.prototype.map.call(v,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",b=>{const v={value(y){c==null||c();const _=y.detail.value,T=new Set(Array.isArray(_)?_:[_]);for(const C of r.options)C.selected=T.has(C.value);e.setValue(i,{value:h(!0)}),f=h(!1)},multipleSelection(y){r.multiple=!0},remove(y){const _=r.options,T=y.detail.remove;_[T].selected=!1,r.remove(T),_.length>0&&Array.prototype.findIndex.call(_,k=>k.selected)===-1&&(_[0].selected=!0),e.setValue(i,{value:h(!0),items:p(y)}),f=h(!1)},clear(y){for(;r.length!==0;)r.remove(0);e.setValue(i,{value:null,items:[]}),f=h(!1)},insert(y){const{index:_,displayValue:T,exportValue:C}=y.detail.insert,k=r.children[_],R=document.createElement("option");R.textContent=T,R.value=C,k?k.before(R):r.append(R),e.setValue(i,{value:h(!0),items:p(y)}),f=h(!1)},items(y){const{items:_}=y.detail;for(;r.length!==0;)r.remove(0);for(const T of _){const{displayValue:C,exportValue:k}=T,R=document.createElement("option");R.textContent=C,R.value=k,r.append(R)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(i,{value:h(!0),items:p(y)}),f=h(!1)},indices(y){const _=new Set(y.detail.indices);for(const T of y.target.options)T.selected=_.has(T.index);e.setValue(i,{value:h(!0)}),f=h(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(v,b)}),r.addEventListener("input",b=>{var _;const v=h(!0),y=h(!1);e.setValue(i,{value:v}),b.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:f,change:y,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],b=>b.target.value)):r.addEventListener("input",function(b){e.setValue(i,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Tv extends Ee{constructor(e){const{data:i,elements:a}=e;super(e,{isRenderable:Ee._hasPopupData(i)}),this.elements=a,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new KC({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${l0}${a}`).join(",")),this.container}}var _u,Qp,Wp,Eu,Ao,ve,Xa,xu,$h,Jh,Tu,Ya,jn,Ka,td,Za,ed,So,_o,ie,gp,wv,uE,cE,hE,dE,mp,bp,Cv;class KC{constructor({container:e,color:i,elements:a,titleObj:r,modificationDate:l,contentsObj:c,richText:h,parent:f,rect:p,parentRect:b,open:v}){w(this,ie);w(this,_u,E(this,ie,hE).bind(this));w(this,Qp,E(this,ie,Cv).bind(this));w(this,Wp,E(this,ie,bp).bind(this));w(this,Eu,E(this,ie,mp).bind(this));w(this,Ao,null);w(this,ve,null);w(this,Xa,null);w(this,xu,null);w(this,$h,null);w(this,Jh,null);w(this,Tu,null);w(this,Ya,!1);w(this,jn,null);w(this,Ka,null);w(this,td,null);w(this,Za,null);w(this,ed,null);w(this,So,null);w(this,_o,!1);var y;S(this,ve,e),S(this,ed,r),S(this,Xa,c),S(this,Za,h),S(this,Jh,f),S(this,Ao,i),S(this,td,p),S(this,Tu,b),S(this,$h,a),S(this,xu,h0.toDateObject(l)),this.trigger=a.flatMap(_=>_.getElementsToTriggerPopup());for(const _ of this.trigger)_.addEventListener("click",u(this,Eu)),_.addEventListener("mouseenter",u(this,Wp)),_.addEventListener("mouseleave",u(this,Qp)),_.classList.add("popupTriggerArea");for(const _ of a)(y=_.container)==null||y.addEventListener("keydown",u(this,_u));u(this,ve).hidden=!0,v&&E(this,ie,mp).call(this)}render(){if(u(this,jn))return;const e=S(this,jn,document.createElement("div"));if(e.className="popup",u(this,Ao)){const l=e.style.outlineColor=dt.makeHexColor(...u(this,Ao));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:e.style.backgroundColor=dt.makeHexColor(...u(this,Ao).map(h=>Math.floor(.7*(255-h)+h)))}const i=document.createElement("span");i.className="header";const a=document.createElement("h1");if(i.append(a),{dir:a.dir,str:a.textContent}=u(this,ed),e.append(i),u(this,xu)){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:u(this,xu).valueOf()})),i.append(l)}const r=u(this,ie,gp);if(r)aE.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(u(this,Xa));e.append(l)}u(this,ve).append(e)}_formatContents({str:e,dir:i}){const a=document.createElement("p");a.classList.add("popupContent"),a.dir=i;const r=e.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const h=r[l];a.append(document.createTextNode(h)),l<c-1&&a.append(document.createElement("br"))}return a}updateEdited({rect:e,popupContent:i}){var a;u(this,So)||S(this,So,{contentsObj:u(this,Xa),richText:u(this,Za)}),e&&S(this,Ka,null),i&&(S(this,Za,E(this,ie,cE).call(this,i)),S(this,Xa,null)),(a=u(this,jn))==null||a.remove(),S(this,jn,null)}resetEdited(){var e;u(this,So)&&({contentsObj:yi(this,Xa)._,richText:yi(this,Za)._}=u(this,So),S(this,So,null),(e=u(this,jn))==null||e.remove(),S(this,jn,null),S(this,Ka,null))}forceHide(){S(this,_o,this.isVisible),u(this,_o)&&(u(this,ve).hidden=!0)}maybeShow(){u(this,_o)&&(u(this,jn)||E(this,ie,bp).call(this),S(this,_o,!1),u(this,ve).hidden=!1)}get isVisible(){return u(this,ve).hidden===!1}}_u=new WeakMap,Qp=new WeakMap,Wp=new WeakMap,Eu=new WeakMap,Ao=new WeakMap,ve=new WeakMap,Xa=new WeakMap,xu=new WeakMap,$h=new WeakMap,Jh=new WeakMap,Tu=new WeakMap,Ya=new WeakMap,jn=new WeakMap,Ka=new WeakMap,td=new WeakMap,Za=new WeakMap,ed=new WeakMap,So=new WeakMap,_o=new WeakMap,ie=new WeakSet,gp=function(){const e=u(this,Za),i=u(this,Xa);return e!=null&&e.str&&(!(i!=null&&i.str)||i.str===e.str)&&u(this,Za).html||null},wv=function(){var e,i,a;return((a=(i=(e=u(this,ie,gp))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:a.fontSize)||0},uE=function(){var e,i,a;return((a=(i=(e=u(this,ie,gp))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:a.color)||null},cE=function(e){const i=[],a={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},r={style:{color:u(this,ie,uE),fontSize:u(this,ie,wv)?`calc(${u(this,ie,wv)}px * var(--scale-factor))`:""}};for(const l of e.split(`
`))i.push({name:"span",value:l,attributes:r});return a},hE=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&u(this,Ya))&&E(this,ie,mp).call(this)},dE=function(){if(u(this,Ka)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:r,pageY:l}}}=u(this,Jh);let c=!!u(this,Tu),h=c?u(this,Tu):u(this,td);for(const T of u(this,$h))if(!h||dt.intersect(T.data.rect,h)!==null){h=T.data.rect,c=!0;break}const f=dt.normalizeRect([h[0],e[3]-h[1]+e[1],h[2],e[3]-h[3]+e[1]]),b=c?h[2]-h[0]+5:0,v=f[0]+b,y=f[1];S(this,Ka,[100*(v-r)/i,100*(y-l)/a]);const{style:_}=u(this,ve);_.left=`${u(this,Ka)[0]}%`,_.top=`${u(this,Ka)[1]}%`},mp=function(){S(this,Ya,!u(this,Ya)),u(this,Ya)?(E(this,ie,bp).call(this),u(this,ve).addEventListener("click",u(this,Eu)),u(this,ve).addEventListener("keydown",u(this,_u))):(E(this,ie,Cv).call(this),u(this,ve).removeEventListener("click",u(this,Eu)),u(this,ve).removeEventListener("keydown",u(this,_u)))},bp=function(){u(this,jn)||this.render(),this.isVisible?u(this,Ya)&&u(this,ve).classList.add("focused"):(E(this,ie,dE).call(this),u(this,ve).hidden=!1,u(this,ve).style.zIndex=parseInt(u(this,ve).style.zIndex)+1e3)},Cv=function(){u(this,ve).classList.remove("focused"),!(u(this,Ya)||!this.isVisible)&&(u(this,ve).hidden=!0,u(this,ve).style.zIndex=parseInt(u(this,ve).style.zIndex)-1e3)};class fE extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Mt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const i of this.textContent){const a=document.createElement("span");a.textContent=i,e.append(a)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var id;class ZC extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,id,null)}render(){this.container.classList.add("lineAnnotation");const i=this.data,{width:a,height:r}=os(i.rect),l=this.svgFactory.create(a,r,!0),c=S(this,id,this.svgFactory.createElement("svg:line"));return c.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),c.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),c.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),c.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),c.setAttribute("stroke-width",i.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),l.append(c),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,id)}addHighlightArea(){this.container.classList.add("highlightArea")}}id=new WeakMap;var nd;class QC extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,nd,null)}render(){this.container.classList.add("squareAnnotation");const i=this.data,{width:a,height:r}=os(i.rect),l=this.svgFactory.create(a,r,!0),c=i.borderStyle.width,h=S(this,nd,this.svgFactory.createElement("svg:rect"));return h.setAttribute("x",c/2),h.setAttribute("y",c/2),h.setAttribute("width",a-c),h.setAttribute("height",r-c),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,nd)}addHighlightArea(){this.container.classList.add("highlightArea")}}nd=new WeakMap;var ad;class WC extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,ad,null)}render(){this.container.classList.add("circleAnnotation");const i=this.data,{width:a,height:r}=os(i.rect),l=this.svgFactory.create(a,r,!0),c=i.borderStyle.width,h=S(this,ad,this.svgFactory.createElement("svg:ellipse"));return h.setAttribute("cx",a/2),h.setAttribute("cy",r/2),h.setAttribute("rx",a/2-c/2),h.setAttribute("ry",r/2-c/2),h.setAttribute("stroke-width",c||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,ad)}addHighlightArea(){this.container.classList.add("highlightArea")}}ad=new WeakMap;var sd;class pE extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,sd,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:a,borderStyle:r,popupRef:l}}=this;if(!a)return this.container;const{width:c,height:h}=os(i),f=this.svgFactory.create(c,h,!0);let p=[];for(let v=0,y=a.length;v<y;v+=2){const _=a[v]-i[0],T=i[3]-a[v+1];p.push(`${_},${T}`)}p=p.join(" ");const b=S(this,sd,this.svgFactory.createElement(this.svgElementName));return b.setAttribute("points",p),b.setAttribute("stroke-width",r.width||1),b.setAttribute("stroke","transparent"),b.setAttribute("fill","transparent"),f.append(b),this.container.append(f),!l&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return u(this,sd)}addHighlightArea(){this.container.classList.add("highlightArea")}}sd=new WeakMap;class $C extends pE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class JC extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var rd;class y0 extends Ee{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});w(this,rd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Mt.HIGHLIGHT:Mt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,inkLists:a,borderStyle:r,popupRef:l}}=this,{width:c,height:h}=os(i),f=this.svgFactory.create(c,h,!0);for(const p of a){let b=[];for(let y=0,_=p.length;y<_;y+=2){const T=p[y]-i[0],C=i[3]-p[y+1];b.push(`${T},${C}`)}b=b.join(" ");const v=this.svgFactory.createElement(this.svgElementName);u(this,rd).push(v),v.setAttribute("points",b),v.setAttribute("stroke-width",r.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),f.append(v)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return u(this,rd)}addHighlightArea(){this.container.classList.add("highlightArea")}}rd=new WeakMap;class gE extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Mt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class tR extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class eR extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class iR extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class mE extends Ee{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Mt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var od,ld,Rv;class nR extends Ee{constructor(i){var r;super(i,{isRenderable:!0});w(this,ld);w(this,od,null);const{file:a}=this.data;this.filename=a.filename,this.content=a.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...a})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:a}=this;let r;a.hasAppearance||a.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(a.name)?"paperclip":"pushpin"}.svg`,a.fillAlpha&&a.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(a.fillAlpha*100)}%);`)),r.addEventListener("dblclick",E(this,ld,Rv).bind(this)),S(this,od,r);const{isMac:l}=Ei.platform;return i.addEventListener("keydown",c=>{c.key==="Enter"&&(l?c.metaKey:c.ctrlKey)&&E(this,ld,Rv).call(this)}),!a.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),i.append(r),i}getElementsToTriggerPopup(){return u(this,od)}addHighlightArea(){this.container.classList.add("highlightArea")}}od=new WeakMap,ld=new WeakSet,Rv=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var ud,Eo,xo,cd,qo,bE,Mv,e_;let aR=(e_=class{constructor({div:e,accessibilityManager:i,annotationCanvasMap:a,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:h}){w(this,qo);w(this,ud,null);w(this,Eo,null);w(this,xo,new Map);w(this,cd,null);this.div=e,S(this,ud,i),S(this,Eo,a),S(this,cd,h||null),this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return u(this,xo).size>0}async render(e){var c;const{annotations:i}=e,a=this.div;Bo(a,this.viewport);const r=new Map,l={data:null,layer:a,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new v0,annotationStorage:e.annotationStorage||new f0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const h of i){if(h.noHTML)continue;const f=h.annotationType===Ne.POPUP;if(f){const v=r.get(h.id);if(!v)continue;l.elements=v}else{const{width:v,height:y}=os(h.rect);if(v<=0||y<=0)continue}l.data=h;const p=UC.create(l);if(!p.isRenderable)continue;if(!f&&h.popupRef){const v=r.get(h.popupRef);v?v.push(p):r.set(h.popupRef,[p])}const b=p.render();h.hidden&&(b.style.visibility="hidden"),await E(this,qo,bE).call(this,b,h.id),p._isEditable&&(u(this,xo).set(p.data.id,p),(c=this._annotationEditorUIManager)==null||c.renderAnnotationElement(p))}E(this,qo,Mv).call(this)}update({viewport:e}){const i=this.div;this.viewport=e,Bo(i,{rotation:e.rotation}),E(this,qo,Mv).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(u(this,xo).values())}getEditableAnnotation(e){return u(this,xo).get(e)}},ud=new WeakMap,Eo=new WeakMap,xo=new WeakMap,cd=new WeakMap,qo=new WeakSet,bE=async function(e,i){var c,h;const a=e.firstChild||e,r=a.id=`${l0}${i}`,l=await((c=u(this,cd))==null?void 0:c.getAriaAttributes(r));if(l)for(const[f,p]of l)a.setAttribute(f,p);this.div.append(e),(h=u(this,ud))==null||h.moveElementInDOM(this.div,e,a,!1)},Mv=function(){if(!u(this,Eo))return;const e=this.div;for(const[i,a]of u(this,Eo)){const r=e.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;a.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(a):l.classList.contains("annotationContent")?l.after(a):l.before(a):r.append(a)}u(this,Eo).clear()},e_);const ep=/\r\n?|\n/g;var zn,Zi,hd,To,Qi,De,vE,yE,AE,vp,us,yp,Ap,SE,Dv,_E;const re=class re extends Qt{constructor(i){super({...i,name:"freeTextEditor"});w(this,De);w(this,zn);w(this,Zi,"");w(this,hd,`${this.id}-editor`);w(this,To,null);w(this,Qi);S(this,zn,i.color||re._defaultColor||Qt._defaultLineColor),S(this,Qi,i.fontSize||re._defaultFontSize)}static get _keyboardManager(){const i=re.prototype,a=c=>c.isEmpty(),r=Uo.TRANSLATE_SMALL,l=Uo.TRANSLATE_BIG;return Ft(this,"_keyboardManager",new kd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-r,0],checker:a}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-l,0],checker:a}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[r,0],checker:a}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[l,0],checker:a}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-r],checker:a}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-l],checker:a}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,r],checker:a}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,l],checker:a}]]))}static initialize(i,a){Qt.initialize(i,a);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,a){switch(i){case _t.FREETEXT_SIZE:re._defaultFontSize=a;break;case _t.FREETEXT_COLOR:re._defaultColor=a;break}}updateParams(i,a){switch(i){case _t.FREETEXT_SIZE:E(this,De,vE).call(this,a);break;case _t.FREETEXT_COLOR:E(this,De,yE).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[_t.FREETEXT_SIZE,re._defaultFontSize],[_t.FREETEXT_COLOR,re._defaultColor||Qt._defaultLineColor]]}get propertiesToUpdate(){return[[_t.FREETEXT_SIZE,u(this,Qi)],[_t.FREETEXT_COLOR,u(this,zn)]]}_translateEmpty(i,a){this._uiManager.translateSelectedEditors(i,a,!0)}getInitialTranslation(){const i=this.parentScale;return[-re._internalPadding*i,-(re._internalPadding+u(this,Qi))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Mt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),S(this,To,new AbortController);const i=this._uiManager.combinedSignal(u(this,To));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){var i;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",u(this,hd)),this._isDraggable=!0,(i=u(this,To))==null||i.abort(),S(this,To,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var i;this.width||(this.enableEditMode(),this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=u(this,Zi),a=S(this,Zi,E(this,De,AE).call(this).trimEnd());if(i===a)return;const r=l=>{if(S(this,Zi,l),!l){this.remove();return}E(this,De,Ap).call(this),this._uiManager.rebuild(this),E(this,De,vp).call(this)};this.addCommands({cmd:()=>{r(a)},undo:()=>{r(i)},mustExec:!1}),E(this,De,vp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){re._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,a;this.width&&(i=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",u(this,hd)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${u(this,Qi)}px * var(--scale-factor))`,r.color=u(this,zn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Lp(this,this.div,["dblclick","keydown"]),this.width){const[l,c]=this.parentDimensions;if(this.annotationElementId){const{position:h}=this._initialData;let[f,p]=this.getInitialTranslation();[f,p]=this.pageTranslationToScreen(f,p);const[b,v]=this.pageDimensions,[y,_]=this.pageTranslation;let T,C;switch(this.rotation){case 0:T=i+(h[0]-y)/b,C=a+this.height-(h[1]-_)/v;break;case 90:T=i+(h[0]-y)/b,C=a-(h[1]-_)/v,[f,p]=[p,-f];break;case 180:T=i-this.width+(h[0]-y)/b,C=a-(h[1]-_)/v,[f,p]=[-f,-p];break;case 270:T=i+(h[0]-y-this.height*v)/b,C=a+(h[1]-_-this.width*b)/v,[f,p]=[-p,f];break}this.setAt(T*l,C*c,f,p)}else this.setAt(i*l,a*c,this.width*l,this.height*c);E(this,De,Ap).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var T,C,k;const a=i.clipboardData||window.clipboardData,{types:r}=a;if(r.length===1&&r[0]==="text/plain")return;i.preventDefault();const l=E(T=re,us,Dv).call(T,a.getData("text")||"").replaceAll(ep,`
`);if(!l)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const h=c.getRangeAt(0);if(!l.includes(`
`)){h.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),c.collapseToStart();return}const{startContainer:f,startOffset:p}=h,b=[],v=[];if(f.nodeType===Node.TEXT_NODE){const R=f.parentElement;if(v.push(f.nodeValue.slice(p).replaceAll(ep,"")),R!==this.editorDiv){let L=b;for(const N of this.editorDiv.childNodes){if(N===R){L=v;continue}L.push(E(C=re,us,yp).call(C,N))}}b.push(f.nodeValue.slice(0,p).replaceAll(ep,""))}else if(f===this.editorDiv){let R=b,L=0;for(const N of this.editorDiv.childNodes)L++===p&&(R=v),R.push(E(k=re,us,yp).call(k,N))}S(this,Zi,`${b.join(`
`)}${l}${v.join(`
`)}`),E(this,De,Ap).call(this);const y=new Range;let _=b.reduce((R,L)=>R+L.length,0);for(const{firstChild:R}of this.editorDiv.childNodes)if(R.nodeType===Node.TEXT_NODE){const L=R.nodeValue.length;if(_<=L){y.setStart(R,_),y.setEnd(R,_);break}_-=L}c.removeAllRanges(),c.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(i,a,r){var h;let l=null;if(i instanceof fE){const{data:{defaultAppearanceData:{fontSize:f,fontColor:p},rect:b,rotation:v,id:y,popupRef:_},textContent:T,textPosition:C,parent:{page:{pageNumber:k}}}=i;if(!T||T.length===0)return null;l=i={annotationType:Mt.FREETEXT,color:Array.from(p),fontSize:f,value:T.join(`
`),position:C,pageIndex:k-1,rect:b.slice(0),rotation:v,id:y,deleted:!1,popupRef:_}}const c=await super.deserialize(i,a,r);return S(c,Qi,i.fontSize),S(c,zn,dt.makeHexColor(...i.color)),S(c,Zi,E(h=re,us,Dv).call(h,i.value)),c.annotationElementId=i.id||null,c._initialData=l,c}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a=re._internalPadding*this.parentScale,r=this.getRect(a,a),l=Qt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:u(this,zn)),c={annotationType:Mt.FREETEXT,color:l,fontSize:u(this,Qi),value:E(this,De,SE).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?c:this.annotationElementId&&!E(this,De,_E).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(i){const a=super.renderAnnotationElement(i);if(this.deleted)return a;const{style:r}=a;r.fontSize=`calc(${u(this,Qi)}px * var(--scale-factor))`,r.color=u(this,zn),a.replaceChildren();for(const c of u(this,Zi).split(`
`)){const h=document.createElement("div");h.append(c?document.createTextNode(c):document.createElement("br")),a.append(h)}const l=re._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(l,l),popupContent:u(this,Zi)}),a}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};zn=new WeakMap,Zi=new WeakMap,hd=new WeakMap,To=new WeakMap,Qi=new WeakMap,De=new WeakSet,vE=function(i){const a=l=>{this.editorDiv.style.fontSize=`calc(${l}px * var(--scale-factor))`,this.translate(0,-(l-u(this,Qi))*this.parentScale),S(this,Qi,l),E(this,De,vp).call(this)},r=u(this,Qi);this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},yE=function(i){const a=l=>{S(this,zn,this.editorDiv.style.color=l)},r=u(this,zn);this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},AE=function(){var r;const i=[];this.editorDiv.normalize();let a=null;for(const l of this.editorDiv.childNodes)(a==null?void 0:a.nodeType)===Node.TEXT_NODE&&l.nodeName==="BR"||(i.push(E(r=re,us,yp).call(r,l)),a=l);return i.join(`
`)},vp=function(){const[i,a]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:l,div:c}=this,h=c.style.display,f=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",l.div.append(this.div),r=c.getBoundingClientRect(),c.remove(),c.style.display=h,c.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=r.width/i,this.height=r.height/a):(this.width=r.height/i,this.height=r.width/a),this.fixAndSetPosition()},us=new WeakSet,yp=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(ep,"")},Ap=function(){if(this.editorDiv.replaceChildren(),!!u(this,Zi))for(const i of u(this,Zi).split(`
`)){const a=document.createElement("div");a.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(a)}},SE=function(){return u(this,Zi).replaceAll(" "," ")},Dv=function(i){return i.replaceAll(" "," ")},_E=function(i){const{value:a,fontSize:r,color:l,pageIndex:c}=this._initialData;return this._hasBeenMoved||i.value!==a||i.fontSize!==r||i.color.some((h,f)=>h!==l[f])||i.pageIndex!==c},w(re,us),St(re,"_freeTextDefaultContent",""),St(re,"_internalPadding",0),St(re,"_defaultColor",null),St(re,"_defaultFontSize",10),St(re,"_type","freetext"),St(re,"_editorType",Mt.FREETEXT);let kv=re;class EE{toSVGPath(){oe("Abstract method `toSVGPath` must be implemented.")}get box(){oe("Abstract getter `box` must be implemented.")}serialize(e,i){oe("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){oe("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){oe("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Wi,Pn,wu,Cu,la,Nt,wo,Co,dd,fd,Ru,Mu,ir,pd,$p,Jp,Fe,nh,xE,TE,wE,CE,RE,ME;const ja=class ja{constructor({x:e,y:i},a,r,l,c,h=0){w(this,Fe);w(this,Wi);w(this,Pn,[]);w(this,wu);w(this,Cu);w(this,la,[]);w(this,Nt,new Float64Array(18));w(this,wo);w(this,Co);w(this,dd);w(this,fd);w(this,Ru);w(this,Mu);w(this,ir,[]);S(this,Wi,a),S(this,Mu,l*r),S(this,Cu,c),u(this,Nt).set([NaN,NaN,NaN,NaN,e,i],6),S(this,wu,h),S(this,fd,u(ja,pd)*r),S(this,dd,u(ja,Jp)*r),S(this,Ru,r),u(this,ir).push(e,i)}isEmpty(){return isNaN(u(this,Nt)[8])}add({x:e,y:i}){var it;S(this,wo,e),S(this,Co,i);const[a,r,l,c]=u(this,Wi);let[h,f,p,b]=u(this,Nt).subarray(8,12);const v=e-p,y=i-b,_=Math.hypot(v,y);if(_<u(this,dd))return!1;const T=_-u(this,fd),C=T/_,k=C*v,R=C*y;let L=h,N=f;h=p,f=b,p+=k,b+=R,(it=u(this,ir))==null||it.push(e,i);const z=-R/T,F=k/T,G=z*u(this,Mu),X=F*u(this,Mu);return u(this,Nt).set(u(this,Nt).subarray(2,8),0),u(this,Nt).set([p+G,b+X],4),u(this,Nt).set(u(this,Nt).subarray(14,18),12),u(this,Nt).set([p-G,b-X],16),isNaN(u(this,Nt)[6])?(u(this,la).length===0&&(u(this,Nt).set([h+G,f+X],2),u(this,la).push(NaN,NaN,NaN,NaN,(h+G-a)/l,(f+X-r)/c),u(this,Nt).set([h-G,f-X],14),u(this,Pn).push(NaN,NaN,NaN,NaN,(h-G-a)/l,(f-X-r)/c)),u(this,Nt).set([L,N,h,f,p,b],6),!this.isEmpty()):(u(this,Nt).set([L,N,h,f,p,b],6),Math.abs(Math.atan2(N-f,L-h)-Math.atan2(R,k))<Math.PI/2?([h,f,p,b]=u(this,Nt).subarray(2,6),u(this,la).push(NaN,NaN,NaN,NaN,((h+p)/2-a)/l,((f+b)/2-r)/c),[h,f,L,N]=u(this,Nt).subarray(14,18),u(this,Pn).push(NaN,NaN,NaN,NaN,((L+h)/2-a)/l,((N+f)/2-r)/c),!0):([L,N,h,f,p,b]=u(this,Nt).subarray(0,6),u(this,la).push(((L+5*h)/6-a)/l,((N+5*f)/6-r)/c,((5*h+p)/6-a)/l,((5*f+b)/6-r)/c,((h+p)/2-a)/l,((f+b)/2-r)/c),[p,b,h,f,L,N]=u(this,Nt).subarray(12,18),u(this,Pn).push(((L+5*h)/6-a)/l,((N+5*f)/6-r)/c,((5*h+p)/6-a)/l,((5*f+b)/6-r)/c,((h+p)/2-a)/l,((f+b)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const e=u(this,la),i=u(this,Pn);if(isNaN(u(this,Nt)[6])&&!this.isEmpty())return E(this,Fe,xE).call(this);const a=[];a.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?a.push(`L${e[r+4]} ${e[r+5]}`):a.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);E(this,Fe,wE).call(this,a);for(let r=i.length-6;r>=6;r-=6)isNaN(i[r])?a.push(`L${i[r+4]} ${i[r+5]}`):a.push(`C${i[r]} ${i[r+1]} ${i[r+2]} ${i[r+3]} ${i[r+4]} ${i[r+5]}`);return E(this,Fe,TE).call(this,a),a.join(" ")}newFreeDrawOutline(e,i,a,r,l,c){return new kE(e,i,a,r,l,c)}getOutlines(){var v;const e=u(this,la),i=u(this,Pn),a=u(this,Nt),[r,l,c,h]=u(this,Wi),f=new Float64Array((((v=u(this,ir))==null?void 0:v.length)??0)+2);for(let y=0,_=f.length-2;y<_;y+=2)f[y]=(u(this,ir)[y]-r)/c,f[y+1]=(u(this,ir)[y+1]-l)/h;if(f[f.length-2]=(u(this,wo)-r)/c,f[f.length-1]=(u(this,Co)-l)/h,isNaN(a[6])&&!this.isEmpty())return E(this,Fe,CE).call(this,f);const p=new Float64Array(u(this,la).length+24+u(this,Pn).length);let b=e.length;for(let y=0;y<b;y+=2){if(isNaN(e[y])){p[y]=p[y+1]=NaN;continue}p[y]=e[y],p[y+1]=e[y+1]}b=E(this,Fe,ME).call(this,p,b);for(let y=i.length-6;y>=6;y-=6)for(let _=0;_<6;_+=2){if(isNaN(i[y+_])){p[b]=p[b+1]=NaN,b+=2;continue}p[b]=i[y+_],p[b+1]=i[y+_+1],b+=2}return E(this,Fe,RE).call(this,p,b),this.newFreeDrawOutline(p,f,u(this,Wi),u(this,Ru),u(this,wu),u(this,Cu))}};Wi=new WeakMap,Pn=new WeakMap,wu=new WeakMap,Cu=new WeakMap,la=new WeakMap,Nt=new WeakMap,wo=new WeakMap,Co=new WeakMap,dd=new WeakMap,fd=new WeakMap,Ru=new WeakMap,Mu=new WeakMap,ir=new WeakMap,pd=new WeakMap,$p=new WeakMap,Jp=new WeakMap,Fe=new WeakSet,nh=function(){const e=u(this,Nt).subarray(4,6),i=u(this,Nt).subarray(16,18),[a,r,l,c]=u(this,Wi);return[(u(this,wo)+(e[0]-i[0])/2-a)/l,(u(this,Co)+(e[1]-i[1])/2-r)/c,(u(this,wo)+(i[0]-e[0])/2-a)/l,(u(this,Co)+(i[1]-e[1])/2-r)/c]},xE=function(){const[e,i,a,r]=u(this,Wi),[l,c,h,f]=E(this,Fe,nh).call(this);return`M${(u(this,Nt)[2]-e)/a} ${(u(this,Nt)[3]-i)/r} L${(u(this,Nt)[4]-e)/a} ${(u(this,Nt)[5]-i)/r} L${l} ${c} L${h} ${f} L${(u(this,Nt)[16]-e)/a} ${(u(this,Nt)[17]-i)/r} L${(u(this,Nt)[14]-e)/a} ${(u(this,Nt)[15]-i)/r} Z`},TE=function(e){const i=u(this,Pn);e.push(`L${i[4]} ${i[5]} Z`)},wE=function(e){const[i,a,r,l]=u(this,Wi),c=u(this,Nt).subarray(4,6),h=u(this,Nt).subarray(16,18),[f,p,b,v]=E(this,Fe,nh).call(this);e.push(`L${(c[0]-i)/r} ${(c[1]-a)/l} L${f} ${p} L${b} ${v} L${(h[0]-i)/r} ${(h[1]-a)/l}`)},CE=function(e){const i=u(this,Nt),[a,r,l,c]=u(this,Wi),[h,f,p,b]=E(this,Fe,nh).call(this),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(i[2]-a)/l,(i[3]-r)/c,NaN,NaN,NaN,NaN,(i[4]-a)/l,(i[5]-r)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,b,NaN,NaN,NaN,NaN,(i[16]-a)/l,(i[17]-r)/c,NaN,NaN,NaN,NaN,(i[14]-a)/l,(i[15]-r)/c],0),this.newFreeDrawOutline(v,e,u(this,Wi),u(this,Ru),u(this,wu),u(this,Cu))},RE=function(e,i){const a=u(this,Pn);return e.set([NaN,NaN,NaN,NaN,a[4],a[5]],i),i+=6},ME=function(e,i){const a=u(this,Nt).subarray(4,6),r=u(this,Nt).subarray(16,18),[l,c,h,f]=u(this,Wi),[p,b,v,y]=E(this,Fe,nh).call(this);return e.set([NaN,NaN,NaN,NaN,(a[0]-l)/h,(a[1]-c)/f,NaN,NaN,NaN,NaN,p,b,NaN,NaN,NaN,NaN,v,y,NaN,NaN,NaN,NaN,(r[0]-l)/h,(r[1]-c)/f],i),i+=24},w(ja,pd,8),w(ja,$p,2),w(ja,Jp,u(ja,pd)+u(ja,$p));let Np=ja;var ku,Ro,Qa,gd,$i,md,_e,Pi,ah,sh,DE;class kE extends EE{constructor(i,a,r,l,c,h){super();w(this,Pi);w(this,ku);w(this,Ro,null);w(this,Qa);w(this,gd);w(this,$i);w(this,md);w(this,_e);S(this,_e,i),S(this,$i,a),S(this,ku,r),S(this,md,l),S(this,Qa,c),S(this,gd,h),E(this,Pi,DE).call(this,h);const{x:f,y:p,width:b,height:v}=u(this,Ro);for(let y=0,_=i.length;y<_;y+=2)i[y]=(i[y]-f)/b,i[y+1]=(i[y+1]-p)/v;for(let y=0,_=a.length;y<_;y+=2)a[y]=(a[y]-f)/b,a[y+1]=(a[y+1]-p)/v}toSVGPath(){const i=[`M${u(this,_e)[4]} ${u(this,_e)[5]}`];for(let a=6,r=u(this,_e).length;a<r;a+=6){if(isNaN(u(this,_e)[a])){i.push(`L${u(this,_e)[a+4]} ${u(this,_e)[a+5]}`);continue}i.push(`C${u(this,_e)[a]} ${u(this,_e)[a+1]} ${u(this,_e)[a+2]} ${u(this,_e)[a+3]} ${u(this,_e)[a+4]} ${u(this,_e)[a+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,a,r,l],c){const h=r-i,f=l-a;let p,b;switch(c){case 0:p=E(this,Pi,ah).call(this,u(this,_e),i,l,h,-f),b=E(this,Pi,ah).call(this,u(this,$i),i,l,h,-f);break;case 90:p=E(this,Pi,sh).call(this,u(this,_e),i,a,h,f),b=E(this,Pi,sh).call(this,u(this,$i),i,a,h,f);break;case 180:p=E(this,Pi,ah).call(this,u(this,_e),r,a,-h,f),b=E(this,Pi,ah).call(this,u(this,$i),r,a,-h,f);break;case 270:p=E(this,Pi,sh).call(this,u(this,_e),r,l,-h,-f),b=E(this,Pi,sh).call(this,u(this,$i),r,l,-h,-f);break}return{outline:Array.from(p),points:[Array.from(b)]}}get box(){return u(this,Ro)}newOutliner(i,a,r,l,c,h=0){return new Np(i,a,r,l,c,h)}getNewOutline(i,a){const{x:r,y:l,width:c,height:h}=u(this,Ro),[f,p,b,v]=u(this,ku),y=c*b,_=h*v,T=r*b+f,C=l*v+p,k=this.newOutliner({x:u(this,$i)[0]*y+T,y:u(this,$i)[1]*_+C},u(this,ku),u(this,md),i,u(this,gd),a??u(this,Qa));for(let R=2;R<u(this,$i).length;R+=2)k.add({x:u(this,$i)[R]*y+T,y:u(this,$i)[R+1]*_+C});return k.getOutlines()}get mustRemoveSelfIntersections(){return!0}}ku=new WeakMap,Ro=new WeakMap,Qa=new WeakMap,gd=new WeakMap,$i=new WeakMap,md=new WeakMap,_e=new WeakMap,Pi=new WeakSet,ah=function(i,a,r,l,c){const h=new Float64Array(i.length);for(let f=0,p=i.length;f<p;f+=2)h[f]=a+i[f]*l,h[f+1]=r+i[f+1]*c;return h},sh=function(i,a,r,l,c){const h=new Float64Array(i.length);for(let f=0,p=i.length;f<p;f+=2)h[f]=a+i[f+1]*l,h[f+1]=r+i[f]*c;return h},DE=function(i){const a=u(this,_e);let r=a[4],l=a[5],c=r,h=l,f=r,p=l,b=r,v=l;const y=i?Math.max:Math.min;for(let R=6,L=a.length;R<L;R+=6){if(isNaN(a[R]))c=Math.min(c,a[R+4]),h=Math.min(h,a[R+5]),f=Math.max(f,a[R+4]),p=Math.max(p,a[R+5]),v<a[R+5]?(b=a[R+4],v=a[R+5]):v===a[R+5]&&(b=y(b,a[R+4]));else{const N=dt.bezierBoundingBox(r,l,...a.slice(R,R+6));c=Math.min(c,N[0]),h=Math.min(h,N[1]),f=Math.max(f,N[2]),p=Math.max(p,N[3]),v<N[3]?(b=N[2],v=N[3]):v===N[3]&&(b=y(b,N[2]))}r=a[R+4],l=a[R+5]}const _=c-u(this,Qa),T=h-u(this,Qa),C=f-c+2*u(this,Qa),k=p-h+2*u(this,Qa);S(this,Ro,{x:_,y:T,width:C,height:k,lastPoint:[b,v]})};var bd,nr,Hn,Ti,LE,Sp,OE,NE,Lv;class GS{constructor(e,i=0,a=0,r=!0){w(this,Ti);w(this,bd);w(this,nr,[]);w(this,Hn,[]);let l=1/0,c=-1/0,h=1/0,f=-1/0;const p=10**-4;for(const{x:k,y:R,width:L,height:N}of e){const z=Math.floor((k-i)/p)*p,F=Math.ceil((k+L+i)/p)*p,G=Math.floor((R-i)/p)*p,X=Math.ceil((R+N+i)/p)*p,W=[z,G,X,!0],it=[F,G,X,!1];u(this,nr).push(W,it),l=Math.min(l,z),c=Math.max(c,F),h=Math.min(h,G),f=Math.max(f,X)}const b=c-l+2*a,v=f-h+2*a,y=l-a,_=h-a,T=u(this,nr).at(r?-1:-2),C=[T[0],T[2]];for(const k of u(this,nr)){const[R,L,N]=k;k[0]=(R-y)/b,k[1]=(L-_)/v,k[2]=(N-_)/v}S(this,bd,{x:y,y:_,width:b,height:v,lastPoint:C})}getOutlines(){u(this,nr).sort((i,a)=>i[0]-a[0]||i[1]-a[1]||i[2]-a[2]);const e=[];for(const i of u(this,nr))i[3]?(e.push(...E(this,Ti,Lv).call(this,i)),E(this,Ti,OE).call(this,i)):(E(this,Ti,NE).call(this,i),e.push(...E(this,Ti,Lv).call(this,i)));return E(this,Ti,LE).call(this,e)}}bd=new WeakMap,nr=new WeakMap,Hn=new WeakMap,Ti=new WeakSet,LE=function(e){const i=[],a=new Set;for(const c of e){const[h,f,p]=c;i.push([h,f,c],[h,p,c])}i.sort((c,h)=>c[1]-h[1]||c[0]-h[0]);for(let c=0,h=i.length;c<h;c+=2){const f=i[c][2],p=i[c+1][2];f.push(p),p.push(f),a.add(f),a.add(p)}const r=[];let l;for(;a.size>0;){const c=a.values().next().value;let[h,f,p,b,v]=c;a.delete(c);let y=h,_=f;for(l=[h,p],r.push(l);;){let T;if(a.has(b))T=b;else if(a.has(v))T=v;else break;a.delete(T),[h,f,p,b,v]=T,y!==h&&(l.push(y,_,h,_===f?f:p),y=h),_=_===f?p:f}l.push(y,_)}return new sR(r,u(this,bd))},Sp=function(e){const i=u(this,Hn);let a=0,r=i.length-1;for(;a<=r;){const l=a+r>>1,c=i[l][0];if(c===e)return l;c<e?a=l+1:r=l-1}return r+1},OE=function([,e,i]){const a=E(this,Ti,Sp).call(this,e);u(this,Hn).splice(a,0,[e,i])},NE=function([,e,i]){const a=E(this,Ti,Sp).call(this,e);for(let r=a;r<u(this,Hn).length;r++){const[l,c]=u(this,Hn)[r];if(l!==e)break;if(l===e&&c===i){u(this,Hn).splice(r,1);return}}for(let r=a-1;r>=0;r--){const[l,c]=u(this,Hn)[r];if(l!==e)break;if(l===e&&c===i){u(this,Hn).splice(r,1);return}}},Lv=function(e){const[i,a,r]=e,l=[[i,a,r]],c=E(this,Ti,Sp).call(this,r);for(let h=0;h<c;h++){const[f,p]=u(this,Hn)[h];for(let b=0,v=l.length;b<v;b++){const[,y,_]=l[b];if(!(p<=y||_<=f)){if(y>=f){if(_>p)l[b][1]=p;else{if(v===1)return[];l.splice(b,1),b--,v--}continue}l[b][2]=f,_>p&&l.push([i,p,_])}}}return l};var vd,Du;class sR extends EE{constructor(i,a){super();w(this,vd);w(this,Du);S(this,Du,i),S(this,vd,a)}toSVGPath(){const i=[];for(const a of u(this,Du)){let[r,l]=a;i.push(`M${r} ${l}`);for(let c=2;c<a.length;c+=2){const h=a[c],f=a[c+1];h===r?(i.push(`V${f}`),l=f):f===l&&(i.push(`H${h}`),r=h)}i.push("Z")}return i.join(" ")}serialize([i,a,r,l],c){const h=[],f=r-i,p=l-a;for(const b of u(this,Du)){const v=new Array(b.length);for(let y=0;y<b.length;y+=2)v[y]=i+b[y]*f,v[y+1]=l-b[y+1]*p;h.push(v)}return h}get box(){return u(this,vd)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}vd=new WeakMap,Du=new WeakMap;class Ov extends Np{newFreeDrawOutline(e,i,a,r,l,c){return new rR(e,i,a,r,l,c)}get classNamesForDrawing(){return["highlight","free"]}}class rR extends kE{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,i,a,r,l,c=0){return new Ov(e,i,a,r,l,c)}}var Fn,Mo,Lu,ze,yd,Ou,Ad,Sd,ar,Bn,Nu,_d,ee,Nv,jv,zv,Hr,jE,zs;const Li=class Li{constructor({editor:e=null,uiManager:i=null}){w(this,ee);w(this,Fn,null);w(this,Mo,null);w(this,Lu);w(this,ze,null);w(this,yd,!1);w(this,Ou,!1);w(this,Ad,null);w(this,Sd);w(this,ar,null);w(this,Bn,null);w(this,Nu);var a;e?(S(this,Ou,!1),S(this,Nu,_t.HIGHLIGHT_COLOR),S(this,Ad,e)):(S(this,Ou,!0),S(this,Nu,_t.HIGHLIGHT_DEFAULT_COLOR)),S(this,Bn,(e==null?void 0:e._uiManager)||i),S(this,Sd,u(this,Bn)._eventBus),S(this,Lu,(e==null?void 0:e.color)||((a=u(this,Bn))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),u(Li,_d)||S(Li,_d,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ft(this,"_keyboardManager",new kd([[["Escape","mac+Escape"],Li.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Li.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Li.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Li.prototype._moveToPrevious],[["Home","mac+Home"],Li.prototype._moveToBeginning],[["End","mac+End"],Li.prototype._moveToEnd]]))}renderButton(){const e=S(this,Fn,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const i=u(this,Bn)._signal;e.addEventListener("click",E(this,ee,Hr).bind(this),{signal:i}),e.addEventListener("keydown",E(this,ee,zv).bind(this),{signal:i});const a=S(this,Mo,document.createElement("span"));return a.className="swatch",a.setAttribute("aria-hidden",!0),a.style.backgroundColor=u(this,Lu),e.append(a),e}renderMainDropdown(){const e=S(this,ze,E(this,ee,Nv).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===u(this,Fn)){E(this,ee,Hr).call(this,e);return}const i=e.target.getAttribute("data-color");i&&E(this,ee,jv).call(this,i,e)}_moveToNext(e){var i,a;if(!u(this,ee,zs)){E(this,ee,Hr).call(this,e);return}if(e.target===u(this,Fn)){(i=u(this,ze).firstChild)==null||i.focus();return}(a=e.target.nextSibling)==null||a.focus()}_moveToPrevious(e){var i,a;if(e.target===((i=u(this,ze))==null?void 0:i.firstChild)||e.target===u(this,Fn)){u(this,ee,zs)&&this._hideDropdownFromKeyboard();return}u(this,ee,zs)||E(this,ee,Hr).call(this,e),(a=e.target.previousSibling)==null||a.focus()}_moveToBeginning(e){var i;if(!u(this,ee,zs)){E(this,ee,Hr).call(this,e);return}(i=u(this,ze).firstChild)==null||i.focus()}_moveToEnd(e){var i;if(!u(this,ee,zs)){E(this,ee,Hr).call(this,e);return}(i=u(this,ze).lastChild)==null||i.focus()}hideDropdown(){var e,i;(e=u(this,ze))==null||e.classList.add("hidden"),(i=u(this,ar))==null||i.abort(),S(this,ar,null)}_hideDropdownFromKeyboard(){var e;if(!u(this,Ou)){if(!u(this,ee,zs)){(e=u(this,Ad))==null||e.unselect();return}this.hideDropdown(),u(this,Fn).focus({preventScroll:!0,focusVisible:u(this,yd)})}}updateColor(e){if(u(this,Mo)&&(u(this,Mo).style.backgroundColor=e),!u(this,ze))return;const i=u(this,Bn).highlightColors.values();for(const a of u(this,ze).children)a.setAttribute("aria-selected",i.next().value===e)}destroy(){var e,i;(e=u(this,Fn))==null||e.remove(),S(this,Fn,null),S(this,Mo,null),(i=u(this,ze))==null||i.remove(),S(this,ze,null)}};Fn=new WeakMap,Mo=new WeakMap,Lu=new WeakMap,ze=new WeakMap,yd=new WeakMap,Ou=new WeakMap,Ad=new WeakMap,Sd=new WeakMap,ar=new WeakMap,Bn=new WeakMap,Nu=new WeakMap,_d=new WeakMap,ee=new WeakSet,Nv=function(){const e=document.createElement("div"),i=u(this,Bn)._signal;e.addEventListener("contextmenu",En,{signal:i}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[a,r]of u(this,Bn).highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=a,l.setAttribute("data-l10n-id",u(Li,_d)[a]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.setAttribute("aria-selected",r===u(this,Lu)),l.addEventListener("click",E(this,ee,jv).bind(this,r),{signal:i}),e.append(l)}return e.addEventListener("keydown",E(this,ee,zv).bind(this),{signal:i}),e},jv=function(e,i){i.stopPropagation(),u(this,Sd).dispatch("switchannotationeditorparams",{source:this,type:u(this,Nu),value:e})},zv=function(e){Li._keyboardManager.exec(this,e)},Hr=function(e){if(u(this,ee,zs)){this.hideDropdown();return}if(S(this,yd,e.detail===0),u(this,ar)||(S(this,ar,new AbortController),window.addEventListener("pointerdown",E(this,ee,jE).bind(this),{signal:u(this,Bn).combinedSignal(u(this,ar))})),u(this,ze)){u(this,ze).classList.remove("hidden");return}const i=S(this,ze,E(this,ee,Nv).call(this));u(this,Fn).append(i)},jE=function(e){var i;(i=u(this,ze))!=null&&i.contains(e.target)||this.hideDropdown()},zs=function(){return u(this,ze)&&!u(this,ze).classList.contains("hidden")},w(Li,_d,null);let jp=Li;var ju,Ed,Wa,ko,zu,bn,xd,Td,Do,Un,pi,ji,Pu,$a,Pe,Hu,vn,wd,Ct,Pv,_p,zE,PE,HE,Hv,Fr,Sn,Bl,FE,Ep,rh,BE,UE,IE,GE,qE;const Gt=class Gt extends Qt{constructor(i){super({...i,name:"highlightEditor"});w(this,Ct);w(this,ju,null);w(this,Ed,0);w(this,Wa);w(this,ko,null);w(this,zu,null);w(this,bn,null);w(this,xd,null);w(this,Td,0);w(this,Do,null);w(this,Un,null);w(this,pi,null);w(this,ji,!1);w(this,Pu,null);w(this,$a);w(this,Pe,null);w(this,Hu,"");w(this,vn);w(this,wd,"");this.color=i.color||Gt._defaultColor,S(this,vn,i.thickness||Gt._defaultThickness),S(this,$a,i.opacity||Gt._defaultOpacity),S(this,Wa,i.boxes||null),S(this,wd,i.methodOfCreation||""),S(this,Hu,i.text||""),this._isDraggable=!1,i.highlightId>-1?(S(this,ji,!0),E(this,Ct,_p).call(this,i),E(this,Ct,Fr).call(this)):u(this,Wa)&&(S(this,ju,i.anchorNode),S(this,Ed,i.anchorOffset),S(this,xd,i.focusNode),S(this,Td,i.focusOffset),E(this,Ct,Pv).call(this),E(this,Ct,Fr).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=Gt.prototype;return Ft(this,"_keyboardManager",new kd([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:u(this,ji)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:u(this,vn),methodOfCreation:u(this,wd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,a){var r;Qt.initialize(i,a),Gt._defaultColor||(Gt._defaultColor=((r=a.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(i,a){switch(i){case _t.HIGHLIGHT_DEFAULT_COLOR:Gt._defaultColor=a;break;case _t.HIGHLIGHT_THICKNESS:Gt._defaultThickness=a;break}}translateInPage(i,a){}get toolbarPosition(){return u(this,Pu)}updateParams(i,a){switch(i){case _t.HIGHLIGHT_COLOR:E(this,Ct,zE).call(this,a);break;case _t.HIGHLIGHT_THICKNESS:E(this,Ct,PE).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[_t.HIGHLIGHT_DEFAULT_COLOR,Gt._defaultColor],[_t.HIGHLIGHT_THICKNESS,Gt._defaultThickness]]}get propertiesToUpdate(){return[[_t.HIGHLIGHT_COLOR,this.color||Gt._defaultColor],[_t.HIGHLIGHT_THICKNESS,u(this,vn)||Gt._defaultThickness],[_t.HIGHLIGHT_FREE,u(this,ji)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(S(this,zu,new jp({editor:this})),i.addColorPicker(u(this,zu))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(E(this,Ct,rh).call(this))}getBaseTranslation(){return[0,0]}getRect(i,a){return super.getRect(i,a,E(this,Ct,rh).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){E(this,Ct,Hv).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(E(this,Ct,Fr).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var r;let a=!1;this.parent&&!i?E(this,Ct,Hv).call(this):i&&(E(this,Ct,Fr).call(this,i),a=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),a&&this.select()}rotate(i){var l,c,h;const{drawLayer:a}=this.parent;let r;u(this,ji)?(i=(i-this.rotation+360)%360,r=E(l=Gt,Sn,Bl).call(l,u(this,Un).box,i)):r=E(c=Gt,Sn,Bl).call(c,this,i),a.rotate(u(this,pi),i),a.rotate(u(this,Pe),i),a.updateBox(u(this,pi),r),a.updateBox(u(this,Pe),E(h=Gt,Sn,Bl).call(h,u(this,bn).box,i))}render(){if(this.div)return this.div;const i=super.render();u(this,Hu)&&(i.setAttribute("aria-label",u(this,Hu)),i.setAttribute("role","mark")),u(this,ji)?i.classList.add("free"):this.div.addEventListener("keydown",E(this,Ct,FE).bind(this),{signal:this._uiManager._signal});const a=S(this,Do,document.createElement("div"));i.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",a.style.clipPath=u(this,ko);const[r,l]=this.parentDimensions;return this.setDims(this.width*r,this.height*l),Lp(this,u(this,Do),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){this.isSelected||this.parent.drawLayer.addClass(u(this,Pe),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(u(this,Pe),"hovered")}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:E(this,Ct,Ep).call(this,!0);break;case 1:case 3:E(this,Ct,Ep).call(this,!1);break}}select(){var i,a;super.select(),u(this,Pe)&&((i=this.parent)==null||i.drawLayer.removeClass(u(this,Pe),"hovered"),(a=this.parent)==null||a.drawLayer.addClass(u(this,Pe),"selected"))}unselect(){var i;super.unselect(),u(this,Pe)&&((i=this.parent)==null||i.drawLayer.removeClass(u(this,Pe),"selected"),u(this,ji)||E(this,Ct,Ep).call(this,!1))}get _mustFixPosition(){return!u(this,ji)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.show(u(this,pi),i),this.parent.drawLayer.show(u(this,Pe),i))}static startHighlighting(i,a,{target:r,x:l,y:c}){const{x:h,y:f,width:p,height:b}=r.getBoundingClientRect(),v=new AbortController,y=i.combinedSignal(v),_=C=>{C.preventDefault(),C.stopPropagation()},T=C=>{v.abort(),E(this,Sn,GE).call(this,i,C)};window.addEventListener("blur",T,{signal:y}),window.addEventListener("pointerup",T,{signal:y}),window.addEventListener("pointerdown",_,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",En,{signal:y}),r.addEventListener("pointermove",E(this,Sn,IE).bind(this,i),{signal:y}),this._freeHighlight=new Ov({x:l,y:c},[h,f,p,b],i.scale,this._defaultThickness/2,a,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(i,a,r){var C,k,R,L;let l=null;if(i instanceof gE){const{data:{quadPoints:N,rect:z,rotation:F,id:G,color:X,opacity:W,popupRef:it},parent:{page:{pageNumber:ot}}}=i;l=i={annotationType:Mt.HIGHLIGHT,color:Array.from(X),opacity:W,quadPoints:N,boxes:null,pageIndex:ot-1,rect:z.slice(0),rotation:F,id:G,deleted:!1,popupRef:it}}else if(i instanceof y0){const{data:{inkLists:N,rect:z,rotation:F,id:G,color:X,borderStyle:{rawWidth:W},popupRef:it},parent:{page:{pageNumber:ot}}}=i;l=i={annotationType:Mt.HIGHLIGHT,color:Array.from(X),thickness:W,inkLists:N,boxes:null,pageIndex:ot-1,rect:z.slice(0),rotation:F,id:G,deleted:!1,popupRef:it}}const{color:c,quadPoints:h,inkLists:f,opacity:p}=i,b=await super.deserialize(i,a,r);b.color=dt.makeHexColor(...c),S(b,$a,p||1),f&&S(b,vn,i.thickness),b.annotationElementId=i.id||null,b._initialData=l;const[v,y]=b.pageDimensions,[_,T]=b.pageTranslation;if(h){const N=S(b,Wa,[]);for(let z=0;z<h.length;z+=8)N.push({x:(h[z]-_)/v,y:1-(h[z+1]-T)/y,width:(h[z+2]-h[z])/v,height:(h[z+1]-h[z+5])/y});E(C=b,Ct,Pv).call(C),E(k=b,Ct,Fr).call(k),b.rotate(b.rotation)}else if(f){S(b,ji,!0);const N=f[0],z={x:N[0]-_,y:y-(N[1]-T)},F=new Ov(z,[0,0,v,y],1,u(b,vn)/2,!0,.001);for(let W=0,it=N.length;W<it;W+=2)z.x=N[W]-_,z.y=y-(N[W+1]-T),F.add(z);const{id:G,clipPathId:X}=a.drawLayer.draw(F,b.color,b._defaultOpacity,!0);E(R=b,Ct,_p).call(R,{highlightOutlines:F.getOutlines(),highlightId:G,clipPathId:X}),E(L=b,Ct,Fr).call(L)}return b}serialize(i=!1){if(this.isEmpty()||i)return null;if(this.deleted)return this.serializeDeleted();const a=this.getRect(0,0),r=Qt._colorManager.convert(this.color),l={annotationType:Mt.HIGHLIGHT,color:r,opacity:u(this,$a),thickness:u(this,vn),quadPoints:E(this,Ct,BE).call(this),outlines:E(this,Ct,UE).call(this,a),pageIndex:this.pageIndex,rect:a,rotation:E(this,Ct,rh).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!E(this,Ct,qE).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ju=new WeakMap,Ed=new WeakMap,Wa=new WeakMap,ko=new WeakMap,zu=new WeakMap,bn=new WeakMap,xd=new WeakMap,Td=new WeakMap,Do=new WeakMap,Un=new WeakMap,pi=new WeakMap,ji=new WeakMap,Pu=new WeakMap,$a=new WeakMap,Pe=new WeakMap,Hu=new WeakMap,vn=new WeakMap,wd=new WeakMap,Ct=new WeakSet,Pv=function(){const i=new GS(u(this,Wa),.001);S(this,Un,i.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=u(this,Un).box;const a=new GS(u(this,Wa),.0025,.001,this._uiManager.direction==="ltr");S(this,bn,a.getOutlines());const{lastPoint:r}=u(this,bn).box;S(this,Pu,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},_p=function({highlightOutlines:i,highlightId:a,clipPathId:r}){var v,y;if(S(this,Un,i),S(this,bn,i.getNewOutline(u(this,vn)/2+1.5,.0025)),a>=0)S(this,pi,a),S(this,ko,r),this.parent.drawLayer.finalizeLine(a,i),S(this,Pe,this.parent.drawLayer.drawOutline(u(this,bn)));else if(this.parent){const _=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(u(this,pi),i),this.parent.drawLayer.updateBox(u(this,pi),E(v=Gt,Sn,Bl).call(v,u(this,Un).box,(_-this.rotation+360)%360)),this.parent.drawLayer.updateLine(u(this,Pe),u(this,bn)),this.parent.drawLayer.updateBox(u(this,Pe),E(y=Gt,Sn,Bl).call(y,u(this,bn).box,_))}const{x:c,y:h,width:f,height:p}=i.box;switch(this.rotation){case 0:this.x=c,this.y=h,this.width=f,this.height=p;break;case 90:{const[_,T]=this.parentDimensions;this.x=h,this.y=1-c,this.width=f*T/_,this.height=p*_/T;break}case 180:this.x=1-c,this.y=1-h,this.width=f,this.height=p;break;case 270:{const[_,T]=this.parentDimensions;this.x=1-h,this.y=c,this.width=f*T/_,this.height=p*_/T;break}}const{lastPoint:b}=u(this,bn).box;S(this,Pu,[(b[0]-c)/f,(b[1]-h)/p])},zE=function(i){const a=(c,h)=>{var f,p,b;this.color=c,(f=this.parent)==null||f.drawLayer.changeColor(u(this,pi),c),(p=u(this,zu))==null||p.updateColor(c),S(this,$a,h),(b=this.parent)==null||b.drawLayer.changeOpacity(u(this,pi),h)},r=this.color,l=u(this,$a);this.addCommands({cmd:a.bind(this,i,Gt._defaultOpacity),undo:a.bind(this,r,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},PE=function(i){const a=u(this,vn),r=l=>{S(this,vn,l),E(this,Ct,HE).call(this,l)};this.addCommands({cmd:r.bind(this,i),undo:r.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},HE=function(i){if(!u(this,ji))return;E(this,Ct,_p).call(this,{highlightOutlines:u(this,Un).getNewOutline(i/2)}),this.fixAndSetPosition();const[a,r]=this.parentDimensions;this.setDims(this.width*a,this.height*r)},Hv=function(){u(this,pi)===null||!this.parent||(this.parent.drawLayer.remove(u(this,pi)),S(this,pi,null),this.parent.drawLayer.remove(u(this,Pe)),S(this,Pe,null))},Fr=function(i=this.parent){u(this,pi)===null&&({id:yi(this,pi)._,clipPathId:yi(this,ko)._}=i.drawLayer.draw(u(this,Un),this.color,u(this,$a)),S(this,Pe,i.drawLayer.drawOutline(u(this,bn))),u(this,Do)&&(u(this,Do).style.clipPath=u(this,ko)))},Sn=new WeakSet,Bl=function({x:i,y:a,width:r,height:l},c){switch(c){case 90:return{x:1-a-l,y:i,width:l,height:r};case 180:return{x:1-i-r,y:1-a-l,width:r,height:l};case 270:return{x:a,y:1-i-r,width:l,height:r}}return{x:i,y:a,width:r,height:l}},FE=function(i){Gt._keyboardManager.exec(this,i)},Ep=function(i){if(!u(this,ju))return;const a=window.getSelection();i?a.setPosition(u(this,ju),u(this,Ed)):a.setPosition(u(this,xd),u(this,Td))},rh=function(){return u(this,ji)?this.rotation:0},BE=function(){if(u(this,ji))return null;const[i,a]=this.pageDimensions,[r,l]=this.pageTranslation,c=u(this,Wa),h=new Float32Array(c.length*8);let f=0;for(const{x:p,y:b,width:v,height:y}of c){const _=p*i+r,T=(1-b-y)*a+l;h[f]=h[f+4]=_,h[f+1]=h[f+3]=T,h[f+2]=h[f+6]=_+v*i,h[f+5]=h[f+7]=T+y*a,f+=8}return h},UE=function(i){return u(this,Un).serialize(i,E(this,Ct,rh).call(this))},IE=function(i,a){this._freeHighlight.add(a)&&i.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},GE=function(i,a){this._freeHighlight.isEmpty()?i.drawLayer.remove(this._freeHighlightId):i.createAndAddNewEditor(a,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},qE=function(i){const{color:a}=this._initialData;return i.color.some((r,l)=>r!==a[l])},w(Gt,Sn),St(Gt,"_defaultColor",null),St(Gt,"_defaultOpacity",1),St(Gt,"_defaultThickness",12),St(Gt,"_type","highlight"),St(Gt,"_editorType",Mt.HIGHLIGHT),St(Gt,"_freeHighlightId",-1),St(Gt,"_freeHighlight",null),St(Gt,"_freeHighlightClipId","");let zp=Gt;var Lo,Oo,ua,Ja,yn,No,jo,zo,ts,Fu,Po,Ho,sr,nt,VE,XE,YE,KE,Bv,ZE,Uv,QE,WE,$E,JE,tx,Br,Iv,Gv,qv,xp,Tp,Ul,Vv,wp,hs,ex,Xv,ix,nx,Yv,Cp,oh;const de=class de extends Qt{constructor(i){super({...i,name:"inkEditor"});w(this,nt);w(this,Lo,0);w(this,Oo,0);w(this,ua,null);w(this,Ja,new Path2D);w(this,yn,!1);w(this,No,null);w(this,jo,!1);w(this,zo,!1);w(this,ts,null);w(this,Fu,null);w(this,Po,0);w(this,Ho,0);w(this,sr,null);this.color=i.color||null,this.thickness=i.thickness||null,this.opacity=i.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(i,a){Qt.initialize(i,a)}static updateDefaultParams(i,a){switch(i){case _t.INK_THICKNESS:de._defaultThickness=a;break;case _t.INK_COLOR:de._defaultColor=a;break;case _t.INK_OPACITY:de._defaultOpacity=a/100;break}}updateParams(i,a){switch(i){case _t.INK_THICKNESS:E(this,nt,VE).call(this,a);break;case _t.INK_COLOR:E(this,nt,XE).call(this,a);break;case _t.INK_OPACITY:E(this,nt,YE).call(this,a);break}}static get defaultPropertiesToUpdate(){return[[_t.INK_THICKNESS,de._defaultThickness],[_t.INK_COLOR,de._defaultColor||Qt._defaultLineColor],[_t.INK_OPACITY,Math.round(de._defaultOpacity*100)]]}get propertiesToUpdate(){return[[_t.INK_THICKNESS,this.thickness||de._defaultThickness],[_t.INK_COLOR,this.color||de._defaultColor||Qt._defaultLineColor],[_t.INK_OPACITY,Math.round(100*(this.opacity??de._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(E(this,nt,xp).call(this),E(this,nt,Tp).call(this)),this.isAttachedToDOM||(this.parent.add(this),E(this,nt,Ul).call(this)),E(this,nt,oh).call(this)))}remove(){var i;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,u(this,ua)&&(clearTimeout(u(this,ua)),S(this,ua,null)),(i=u(this,ts))==null||i.disconnect(),S(this,ts,null),super.remove())}setParent(i){!this.parent&&i?this._uiManager.removeShouldRescale(this):this.parent&&i===null&&this._uiManager.addShouldRescale(this),super.setParent(i)}onScaleChanging(){const[i,a]=this.parentDimensions,r=this.width*i,l=this.height*a;this.setDimensions(r,l)}enableEditMode(){u(this,yn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,E(this,nt,Iv).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),E(this,nt,Gv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){u(this,yn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),S(this,yn,!0),this.div.classList.add("disabled"),E(this,nt,oh).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),this.enableEditMode())}canvasPointerdown(i){i.button!==0||!this.isInEditMode()||u(this,yn)||(this.setInForeground(),i.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),E(this,nt,ZE).call(this,i.offsetX,i.offsetY))}canvasPointermove(i){i.preventDefault(),E(this,nt,Uv).call(this,i.offsetX,i.offsetY)}canvasPointerup(i){i.preventDefault(),E(this,nt,qv).call(this,i)}canvasPointerleave(i){E(this,nt,qv).call(this,i)}get isResizable(){return!this.isEmpty()&&u(this,yn)}render(){if(this.div)return this.div;let i,a;this.width&&(i=this.x,a=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[r,l,c,h]=E(this,nt,KE).call(this);if(this.setAt(r,l,0,0),this.setDims(c,h),E(this,nt,xp).call(this),this.width){const[f,p]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*p),this.setAt(i*f,a*p,this.width*f,this.height*p),S(this,zo,!0),E(this,nt,Ul).call(this),this.setDims(this.width*f,this.height*p),E(this,nt,Br).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return E(this,nt,Tp).call(this),this.div}setDimensions(i,a){const r=Math.round(i),l=Math.round(a);if(u(this,Po)===r&&u(this,Ho)===l)return;S(this,Po,r),S(this,Ho,l),this.canvas.style.visibility="hidden";const[c,h]=this.parentDimensions;this.width=i/c,this.height=a/h,this.fixAndSetPosition(),u(this,yn)&&E(this,nt,Vv).call(this,i,a),E(this,nt,Ul).call(this),E(this,nt,Br).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(i,a,r){var k,R,L;if(i instanceof y0)return null;const l=await super.deserialize(i,a,r);l.thickness=i.thickness,l.color=dt.makeHexColor(...i.color),l.opacity=i.opacity;const[c,h]=l.pageDimensions,f=l.width*c,p=l.height*h,b=l.parentScale,v=i.thickness/2;S(l,yn,!0),S(l,Po,Math.round(f)),S(l,Ho,Math.round(p));const{paths:y,rect:_,rotation:T}=i;for(let{bezier:N}of y){N=E(k=de,hs,ix).call(k,N,_,T);const z=[];l.paths.push(z);let F=b*(N[0]-v),G=b*(N[1]-v);for(let W=2,it=N.length;W<it;W+=6){const ot=b*(N[W]-v),st=b*(N[W+1]-v),gt=b*(N[W+2]-v),bt=b*(N[W+3]-v),ft=b*(N[W+4]-v),ht=b*(N[W+5]-v);z.push([[F,G],[ot,st],[gt,bt],[ft,ht]]),F=ft,G=ht}const X=E(this,hs,ex).call(this,z);l.bezierPath2D.push(X)}const C=E(R=l,nt,Yv).call(R);return S(l,Oo,Math.max(Qt.MIN_SIZE,C[2]-C[0])),S(l,Lo,Math.max(Qt.MIN_SIZE,C[3]-C[1])),E(L=l,nt,Vv).call(L,f,p),l}serialize(){if(this.isEmpty())return null;const i=this.getRect(0,0),a=Qt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Mt.INK,color:a,thickness:this.thickness,opacity:this.opacity,paths:E(this,nt,nx).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,i),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Lo=new WeakMap,Oo=new WeakMap,ua=new WeakMap,Ja=new WeakMap,yn=new WeakMap,No=new WeakMap,jo=new WeakMap,zo=new WeakMap,ts=new WeakMap,Fu=new WeakMap,Po=new WeakMap,Ho=new WeakMap,sr=new WeakMap,nt=new WeakSet,VE=function(i){const a=l=>{this.thickness=l,E(this,nt,oh).call(this)},r=this.thickness;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},XE=function(i){const a=l=>{this.color=l,E(this,nt,Br).call(this)},r=this.color;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},YE=function(i){const a=l=>{this.opacity=l,E(this,nt,Br).call(this)};i/=100;const r=this.opacity;this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:_t.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},KE=function(){const{parentRotation:i,parentDimensions:[a,r]}=this;switch(i){case 90:return[0,r,r,a];case 180:return[a,r,a,r];case 270:return[a,0,r,a];default:return[0,0,a,r]}},Bv=function(){const{ctx:i,color:a,opacity:r,thickness:l,parentScale:c,scaleFactor:h}=this;i.lineWidth=l*c/h,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${a}${R2(r)}`},ZE=function(i,a){this.canvas.addEventListener("contextmenu",En,{signal:this._uiManager._signal}),E(this,nt,Gv).call(this),S(this,No,new AbortController);const r=this._uiManager.combinedSignal(u(this,No));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:r}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:r}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:r}),this.isEditing=!0,u(this,zo)||(S(this,zo,!0),E(this,nt,Ul).call(this),this.thickness||(this.thickness=de._defaultThickness),this.color||(this.color=de._defaultColor||Qt._defaultLineColor),this.opacity??(this.opacity=de._defaultOpacity)),this.currentPath.push([i,a]),S(this,jo,!1),E(this,nt,Bv).call(this),S(this,sr,()=>{E(this,nt,$E).call(this),u(this,sr)&&window.requestAnimationFrame(u(this,sr))}),window.requestAnimationFrame(u(this,sr))},Uv=function(i,a){const[r,l]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===r&&a===l)return;const c=this.currentPath;let h=u(this,Ja);if(c.push([i,a]),S(this,jo,!0),c.length<=2){h.moveTo(...c[0]),h.lineTo(i,a);return}c.length===3&&(S(this,Ja,h=new Path2D),h.moveTo(...c[0])),E(this,nt,JE).call(this,h,...c.at(-3),...c.at(-2),i,a)},QE=function(){if(this.currentPath.length===0)return;const i=this.currentPath.at(-1);u(this,Ja).lineTo(...i)},WE=function(i,a){S(this,sr,null),i=Math.min(Math.max(i,0),this.canvas.width),a=Math.min(Math.max(a,0),this.canvas.height),E(this,nt,Uv).call(this,i,a),E(this,nt,QE).call(this);let r;if(this.currentPath.length!==1)r=E(this,nt,tx).call(this);else{const p=[i,a];r=[[p,p.slice(),p.slice(),p]]}const l=u(this,Ja),c=this.currentPath;this.currentPath=[],S(this,Ja,new Path2D);const h=()=>{this.allRawPaths.push(c),this.paths.push(r),this.bezierPath2D.push(l),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(E(this,nt,xp).call(this),E(this,nt,Tp).call(this)),E(this,nt,oh).call(this))};this.addCommands({cmd:h,undo:f,mustExec:!0})},$E=function(){if(!u(this,jo))return;S(this,jo,!1);const i=Math.ceil(this.thickness*this.parentScale),a=this.currentPath.slice(-3),r=a.map(h=>h[0]),l=a.map(h=>h[1]);Math.min(...r)-i,Math.max(...r)+i,Math.min(...l)-i,Math.max(...l)+i;const{ctx:c}=this;c.save(),c.clearRect(0,0,this.canvas.width,this.canvas.height);for(const h of this.bezierPath2D)c.stroke(h);c.stroke(u(this,Ja)),c.restore()},JE=function(i,a,r,l,c,h,f){const p=(a+l)/2,b=(r+c)/2,v=(l+h)/2,y=(c+f)/2;i.bezierCurveTo(p+2*(l-p)/3,b+2*(c-b)/3,v+2*(l-v)/3,y+2*(c-y)/3,v,y)},tx=function(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const a=[];let r,[l,c]=i[0];for(r=1;r<i.length-2;r++){const[_,T]=i[r],[C,k]=i[r+1],R=(_+C)/2,L=(T+k)/2,N=[l+2*(_-l)/3,c+2*(T-c)/3],z=[R+2*(_-R)/3,L+2*(T-L)/3];a.push([[l,c],N,z,[R,L]]),[l,c]=[R,L]}const[h,f]=i[r],[p,b]=i[r+1],v=[l+2*(h-l)/3,c+2*(f-c)/3],y=[p+2*(h-p)/3,b+2*(f-b)/3];return a.push([[l,c],v,y,[p,b]]),a},Br=function(){if(this.isEmpty()){E(this,nt,wp).call(this);return}E(this,nt,Bv).call(this);const{canvas:i,ctx:a}=this;a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,i.width,i.height),E(this,nt,wp).call(this);for(const r of this.bezierPath2D)a.stroke(r)},Iv=function(){if(u(this,Fu))return;S(this,Fu,new AbortController);const i=this._uiManager.combinedSignal(u(this,Fu));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:i})},Gv=function(){var i;(i=this.pointerdownAC)==null||i.abort(),this.pointerdownAC=null},qv=function(i){var a;(a=u(this,No))==null||a.abort(),S(this,No,null),E(this,nt,Iv).call(this),u(this,ua)&&clearTimeout(u(this,ua)),S(this,ua,setTimeout(()=>{S(this,ua,null),this.canvas.removeEventListener("contextmenu",En)},10)),E(this,nt,WE).call(this,i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()},xp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Tp=function(){S(this,ts,new ResizeObserver(i=>{const a=i[0].contentRect;a.width&&a.height&&this.setDimensions(a.width,a.height)})),u(this,ts).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=u(this,ts))==null||i.disconnect(),S(this,ts,null)},{once:!0})},Ul=function(){if(!u(this,zo))return;const[i,a]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*a),E(this,nt,wp).call(this)},Vv=function(i,a){const r=E(this,nt,Cp).call(this),l=(i-r)/u(this,Oo),c=(a-r)/u(this,Lo);this.scaleFactor=Math.min(l,c)},wp=function(){const i=E(this,nt,Cp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)},hs=new WeakSet,ex=function(i){const a=new Path2D;for(let r=0,l=i.length;r<l;r++){const[c,h,f,p]=i[r];r===0&&a.moveTo(...c),a.bezierCurveTo(h[0],h[1],f[0],f[1],p[0],p[1])}return a},Xv=function(i,a,r){const[l,c,h,f]=a;switch(r){case 0:for(let p=0,b=i.length;p<b;p+=2)i[p]+=l,i[p+1]=f-i[p+1];break;case 90:for(let p=0,b=i.length;p<b;p+=2){const v=i[p];i[p]=i[p+1]+l,i[p+1]=v+c}break;case 180:for(let p=0,b=i.length;p<b;p+=2)i[p]=h-i[p],i[p+1]+=c;break;case 270:for(let p=0,b=i.length;p<b;p+=2){const v=i[p];i[p]=h-i[p+1],i[p+1]=f-v}break;default:throw new Error("Invalid rotation")}return i},ix=function(i,a,r){const[l,c,h,f]=a;switch(r){case 0:for(let p=0,b=i.length;p<b;p+=2)i[p]-=l,i[p+1]=f-i[p+1];break;case 90:for(let p=0,b=i.length;p<b;p+=2){const v=i[p];i[p]=i[p+1]-c,i[p+1]=v-l}break;case 180:for(let p=0,b=i.length;p<b;p+=2)i[p]=h-i[p],i[p+1]-=c;break;case 270:for(let p=0,b=i.length;p<b;p+=2){const v=i[p];i[p]=f-i[p+1],i[p+1]=h-v}break;default:throw new Error("Invalid rotation")}return i},nx=function(i,a,r,l){var b,v;const c=[],h=this.thickness/2,f=i*a+h,p=i*r+h;for(const y of this.paths){const _=[],T=[];for(let C=0,k=y.length;C<k;C++){const[R,L,N,z]=y[C];if(R[0]===z[0]&&R[1]===z[1]&&k===1){const bt=i*R[0]+f,ft=i*R[1]+p;_.push(bt,ft),T.push(bt,ft);break}const F=i*R[0]+f,G=i*R[1]+p,X=i*L[0]+f,W=i*L[1]+p,it=i*N[0]+f,ot=i*N[1]+p,st=i*z[0]+f,gt=i*z[1]+p;C===0&&(_.push(F,G),T.push(F,G)),_.push(X,W,it,ot,st,gt),T.push(X,W),C===k-1&&T.push(st,gt)}c.push({bezier:E(b=de,hs,Xv).call(b,_,l,this.rotation),points:E(v=de,hs,Xv).call(v,T,l,this.rotation)})}return c},Yv=function(){let i=1/0,a=-1/0,r=1/0,l=-1/0;for(const c of this.paths)for(const[h,f,p,b]of c){const v=dt.bezierBoundingBox(...h,...f,...p,...b);i=Math.min(i,v[0]),r=Math.min(r,v[1]),a=Math.max(a,v[2]),l=Math.max(l,v[3])}return[i,r,a,l]},Cp=function(){return u(this,yn)?Math.ceil(this.thickness*this.parentScale):0},oh=function(i=!1){if(this.isEmpty())return;if(!u(this,yn)){E(this,nt,Br).call(this);return}const a=E(this,nt,Yv).call(this),r=E(this,nt,Cp).call(this);S(this,Oo,Math.max(Qt.MIN_SIZE,a[2]-a[0])),S(this,Lo,Math.max(Qt.MIN_SIZE,a[3]-a[1]));const l=Math.ceil(r+u(this,Oo)*this.scaleFactor),c=Math.ceil(r+u(this,Lo)*this.scaleFactor),[h,f]=this.parentDimensions;this.width=l/h,this.height=c/f,this.setAspectRatio(l,c);const p=this.translationX,b=this.translationY;this.translationX=-a[0],this.translationY=-a[1],E(this,nt,Ul).call(this),E(this,nt,Br).call(this),S(this,Po,l),S(this,Ho,c),this.setDims(l,c);const v=i?r/this.scaleFactor/2:0;this.translate(p-this.translationX-v,b-this.translationY-v)},w(de,hs),St(de,"_defaultColor",null),St(de,"_defaultOpacity",1),St(de,"_defaultThickness",1),St(de,"_type","ink"),St(de,"_editorType",Mt.INK);let Fv=de;var pe,si,rr,es,or,Bu,ca,is,ha,Ji,Uu,Pt,lh,uh,Rp,Zv,ax,Mp,Qv,kp,sx,rx;const dh=class dh extends Qt{constructor(i){super({...i,name:"stampEditor"});w(this,Pt);w(this,pe,null);w(this,si,null);w(this,rr,null);w(this,es,null);w(this,or,null);w(this,Bu,"");w(this,ca,null);w(this,is,null);w(this,ha,null);w(this,Ji,!1);w(this,Uu,!1);S(this,es,i.bitmapUrl),S(this,or,i.bitmapFile)}static initialize(i,a){Qt.initialize(i,a)}static get supportedTypes(){return Ft(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(a=>`image/${a}`))}static get supportedTypesStr(){return Ft(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(i){return this.supportedTypes.includes(i)}static paste(i,a){a.pasteEditor(Mt.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var i;return{type:"stamp",hasAltText:!!((i=this.altTextData)!=null&&i.altText)}}static computeTelemetryFinalData(i){const a=i.get("hasAltText");return{hasAltText:a.get(!0)??0,hasNoAltText:a.get(!1)??0}}async mlGuessAltText(i=null,a=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:l,width:c,height:h}=i||this.copyCanvas(null,null,!0).imageData,f=await r.guess({name:"altText",request:{data:l,width:c,height:h,channels:l.length/(c*h)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const p=f.output;return await this.setGuessedAltText(p),a&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var i,a;u(this,si)&&(S(this,pe,null),this._uiManager.imageManager.deleteId(u(this,si)),(i=u(this,ca))==null||i.remove(),S(this,ca,null),(a=u(this,is))==null||a.disconnect(),S(this,is,null),u(this,ha)&&(clearTimeout(u(this,ha)),S(this,ha,null))),super.remove()}rebuild(){if(!this.parent){u(this,si)&&E(this,Pt,Rp).call(this);return}super.rebuild(),this.div!==null&&(u(this,si)&&u(this,ca)===null&&E(this,Pt,Rp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(u(this,rr)||u(this,pe)||u(this,es)||u(this,or)||u(this,si))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,a;if(this.width&&(i=this.x,a=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),u(this,pe)?E(this,Pt,Zv).call(this):E(this,Pt,Rp).call(this),this.width&&!this.annotationElementId){const[r,l]=this.parentDimensions;this.setAt(i*r,a*l,this.width*r,this.height*l)}return this.div}copyCanvas(i,a,r=!1){var _;i||(i=224);const{width:l,height:c}=u(this,pe),h=new qb;let f=u(this,pe),p=l,b=c,v=null;if(a){if(l>a||c>a){const W=Math.min(a/l,a/c);p=Math.floor(l*W),b=Math.floor(c*W)}v=document.createElement("canvas");const T=v.width=Math.ceil(p*h.sx),C=v.height=Math.ceil(b*h.sy);u(this,Ji)||(f=E(this,Pt,Mp).call(this,T,C));const k=v.getContext("2d");k.filter=this._uiManager.hcmFilter;let R="white",L="#cfcfd8";this._uiManager.hcmFilter!=="none"?L="black":(_=window.matchMedia)!=null&&_.call(window,"(prefers-color-scheme: dark)").matches&&(R="#8f8f9d",L="#42414d");const N=15,z=N*h.sx,F=N*h.sy,G=new OffscreenCanvas(z*2,F*2),X=G.getContext("2d");X.fillStyle=R,X.fillRect(0,0,z*2,F*2),X.fillStyle=L,X.fillRect(0,0,z,F),X.fillRect(z,F,z,F),k.fillStyle=k.createPattern(G,"repeat"),k.fillRect(0,0,T,C),k.drawImage(f,0,0,f.width,f.height,0,0,T,C)}let y=null;if(r){let T,C;if(h.symmetric&&f.width<i&&f.height<i)T=f.width,C=f.height;else if(f=u(this,pe),l>i||c>i){const L=Math.min(i/l,i/c);T=Math.floor(l*L),C=Math.floor(c*L),u(this,Ji)||(f=E(this,Pt,Mp).call(this,T,C))}const R=new OffscreenCanvas(T,C).getContext("2d",{willReadFrequently:!0});R.drawImage(f,0,0,f.width,f.height,0,0,T,C),y={width:T,height:C,data:R.getImageData(0,0,T,C).data}}return{canvas:v,width:p,height:b,imageData:y}}getImageForAltText(){return u(this,ca)}static async deserialize(i,a,r){var C;let l=null;if(i instanceof mE){const{data:{rect:k,rotation:R,id:L,structParent:N,popupRef:z},container:F,parent:{page:{pageNumber:G}}}=i,X=F.querySelector("canvas"),W=r.imageManager.getFromCanvas(F.id,X);X.remove();const it=((C=await a._structTree.getAriaAttributes(`${l0}${L}`))==null?void 0:C.get("aria-label"))||"";l=i={annotationType:Mt.STAMP,bitmapId:W.id,bitmap:W.bitmap,pageIndex:G-1,rect:k.slice(0),rotation:R,id:L,deleted:!1,accessibilityData:{decorative:!1,altText:it},isSvg:!1,structParent:N,popupRef:z}}const c=await super.deserialize(i,a,r),{rect:h,bitmap:f,bitmapUrl:p,bitmapId:b,isSvg:v,accessibilityData:y}=i;b&&r.imageManager.isValidId(b)?(S(c,si,b),f&&S(c,pe,f)):S(c,es,p),S(c,Ji,v);const[_,T]=c.pageDimensions;return c.width=(h[2]-h[0])/_,c.height=(h[3]-h[1])/T,c.annotationElementId=i.id||null,y&&(c.altTextData=y),c._initialData=l,S(c,Uu,!!l),c}serialize(i=!1,a=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r={annotationType:Mt.STAMP,bitmapId:u(this,si),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:u(this,Ji),structTreeParentId:this._structTreeParentId};if(i)return r.bitmapUrl=E(this,Pt,kp).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r;const{decorative:l,altText:c}=this.serializeAltText(!1);if(!l&&c&&(r.accessibilityData={type:"Figure",alt:c}),this.annotationElementId){const f=E(this,Pt,rx).call(this,r);if(f.isSame)return null;f.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1}if(r.id=this.annotationElementId,a===null)return r;a.stamps||(a.stamps=new Map);const h=u(this,Ji)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!a.stamps.has(u(this,si)))a.stamps.set(u(this,si),{area:h,serialized:r}),r.bitmap=E(this,Pt,kp).call(this,!1);else if(u(this,Ji)){const f=a.stamps.get(u(this,si));h>f.area&&(f.area=h,f.serialized.bitmap.close(),f.serialized.bitmap=E(this,Pt,kp).call(this,!1))}return r}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}};pe=new WeakMap,si=new WeakMap,rr=new WeakMap,es=new WeakMap,or=new WeakMap,Bu=new WeakMap,ca=new WeakMap,is=new WeakMap,ha=new WeakMap,Ji=new WeakMap,Uu=new WeakMap,Pt=new WeakSet,lh=function(i,a=!1){if(!i){this.remove();return}S(this,pe,i.bitmap),a||(S(this,si,i.id),S(this,Ji,i.isSvg)),i.file&&S(this,Bu,i.file.name),E(this,Pt,Zv).call(this)},uh=function(){if(S(this,rr,null),this._uiManager.enableWaiting(!1),!!u(this,ca)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,pe)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&u(this,pe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Rp=function(){if(u(this,si)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(u(this,si)).then(r=>E(this,Pt,lh).call(this,r,!0)).finally(()=>E(this,Pt,uh).call(this));return}if(u(this,es)){const r=u(this,es);S(this,es,null),this._uiManager.enableWaiting(!0),S(this,rr,this._uiManager.imageManager.getFromUrl(r).then(l=>E(this,Pt,lh).call(this,l)).finally(()=>E(this,Pt,uh).call(this)));return}if(u(this,or)){const r=u(this,or);S(this,or,null),this._uiManager.enableWaiting(!0),S(this,rr,this._uiManager.imageManager.getFromFile(r).then(l=>E(this,Pt,lh).call(this,l)).finally(()=>E(this,Pt,uh).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=dh.supportedTypesStr;const a=this._uiManager._signal;S(this,rr,new Promise(r=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const l=await this._uiManager.imageManager.getFromFile(i.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),E(this,Pt,lh).call(this,l)}r()},{signal:a}),i.addEventListener("cancel",()=>{this.remove(),r()},{signal:a})}).finally(()=>E(this,Pt,uh).call(this))),i.click()},Zv=function(){const{div:i}=this;let{width:a,height:r}=u(this,pe);const[l,c]=this.pageDimensions,h=.75;if(this.width)a=this.width*l,r=this.height*c;else if(a>h*l||r>h*c){const v=Math.min(h*l/a,h*c/r);a*=v,r*=v}const[f,p]=this.parentDimensions;this.setDims(a*f/l,r*p/c),this._uiManager.enableWaiting(!1);const b=S(this,ca,document.createElement("canvas"));b.setAttribute("role","img"),this.addContainer(b),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(i.hidden=!1),E(this,Pt,Qv).call(this,a,r),E(this,Pt,sx).call(this),u(this,Uu)||(this.parent.addUndoableEditor(this),S(this,Uu,!0)),this._reportTelemetry({action:"inserted_image"}),u(this,Bu)&&b.setAttribute("aria-label",u(this,Bu))},ax=function(i,a){var h;const[r,l]=this.parentDimensions;this.width=i/r,this.height=a/l,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,u(this,ha)!==null&&clearTimeout(u(this,ha)),S(this,ha,setTimeout(()=>{S(this,ha,null),E(this,Pt,Qv).call(this,i,a)},200))},Mp=function(i,a){const{width:r,height:l}=u(this,pe);let c=r,h=l,f=u(this,pe);for(;c>2*i||h>2*a;){const p=c,b=h;c>2*i&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2)),h>2*a&&(h=h>=16384?Math.floor(h/2)-1:Math.ceil(h/2));const v=new OffscreenCanvas(c,h);v.getContext("2d").drawImage(f,0,0,p,b,0,0,c,h),f=v.transferToImageBitmap()}return f},Qv=function(i,a){const r=new qb,l=Math.ceil(i*r.sx),c=Math.ceil(a*r.sy),h=u(this,ca);if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const f=u(this,Ji)?u(this,pe):E(this,Pt,Mp).call(this,l,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,c)},kp=function(i){if(i){if(u(this,Ji)){const l=this._uiManager.imageManager.getSvgUrl(u(this,si));if(l)return l}const a=document.createElement("canvas");return{width:a.width,height:a.height}=u(this,pe),a.getContext("2d").drawImage(u(this,pe),0,0),a.toDataURL()}if(u(this,Ji)){const[a,r]=this.pageDimensions,l=Math.round(this.width*a*hr.PDF_TO_CSS_UNITS),c=Math.round(this.height*r*hr.PDF_TO_CSS_UNITS),h=new OffscreenCanvas(l,c);return h.getContext("2d").drawImage(u(this,pe),0,0,u(this,pe).width,u(this,pe).height,0,0,l,c),h.transferToImageBitmap()}return structuredClone(u(this,pe))},sx=function(){this._uiManager._signal&&(S(this,is,new ResizeObserver(i=>{const a=i[0].contentRect;a.width&&a.height&&E(this,Pt,ax).call(this,a.width,a.height)})),u(this,is).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=u(this,is))==null||i.disconnect(),S(this,is,null)},{once:!0}))},rx=function(i){var p;const{rect:a,pageIndex:r,accessibilityData:{altText:l}}=this._initialData,c=i.rect.every((b,v)=>Math.abs(b-a[v])<1),h=i.pageIndex===r,f=(((p=i.accessibilityData)==null?void 0:p.alt)||"")===l;return{isSame:c&&h&&f,isSameAltText:f}},St(dh,"_type","stamp"),St(dh,"_editorType",Mt.STAMP);let Kv=dh;var Fo,Iu,da,lr,ns,tn,ur,Gu,qu,gi,as,mt,cr,ri,ox,$v,Jv,t0,Dp;const Cn=class Cn{constructor({uiManager:e,pageIndex:i,div:a,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:h,textLayer:f,viewport:p,l10n:b}){w(this,ri);w(this,Fo);w(this,Iu,!1);w(this,da,null);w(this,lr,null);w(this,ns,null);w(this,tn,new Map);w(this,ur,!1);w(this,Gu,!1);w(this,qu,!1);w(this,gi,null);w(this,as,null);w(this,mt);const v=[...u(Cn,cr).values()];if(!Cn._initialized){Cn._initialized=!0;for(const y of v)y.initialize(b,e)}e.registerEditorTypes(v),S(this,mt,e),this.pageIndex=i,this.div=a,S(this,Fo,l),S(this,da,c),this.viewport=p,S(this,gi,f),this.drawLayer=h,this._structTree=r,u(this,mt).addLayer(this)}get isEmpty(){return u(this,tn).size===0}get isInvisible(){return this.isEmpty&&u(this,mt).getMode()===Mt.NONE}updateToolbar(e){u(this,mt).updateToolbar(e)}updateMode(e=u(this,mt).getMode()){switch(E(this,ri,Dp).call(this),e){case Mt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Mt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Mt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const a of u(Cn,cr).values())i.toggle(`${a._type}Editing`,e===a._editorType);this.div.hidden=!1}hasTextLayer(e){var i;return e===((i=u(this,gi))==null?void 0:i.div)}addInkEditorIfNeeded(e){if(u(this,mt).getMode()!==Mt.INK)return;if(!e){for(const a of u(this,tn).values())if(a.isEmpty()){a.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){u(this,mt).setEditingState(e)}addCommands(e){u(this,mt).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var i;(i=u(this,da))==null||i.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const a of u(this,tn).values())a.enableEditing(),a.show(!0),a.annotationElementId&&(u(this,mt).removeChangedExistingAnnotation(a),e.add(a.annotationElementId));if(!u(this,da))return;const i=u(this,da).getEditableAnnotations();for(const a of i){if(a.hide(),u(this,mt).isDeletedAnnotationElement(a.data.id)||e.has(a.data.id))continue;const r=await this.deserialize(a);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){var r;S(this,qu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const l of u(this,tn).values())if(l.disableEditing(),!!l.annotationElementId){if(l.serialize()!==null){e.set(l.annotationElementId,l);continue}else i.set(l.annotationElementId,l);(r=this.getEditableAnnotation(l.annotationElementId))==null||r.show(),l.remove()}if(u(this,da)){const l=u(this,da).getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(u(this,mt).isDeletedAnnotationElement(h))continue;let f=i.get(h);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=e.get(h),f&&(u(this,mt).addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}E(this,ri,Dp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:a}=this.div;for(const l of u(Cn,cr).values())a.remove(`${l._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),S(this,qu,!1)}getEditableAnnotation(e){var i;return((i=u(this,da))==null?void 0:i.getEditableAnnotation(e))||null}setActiveEditor(e){u(this,mt).getActive()!==e&&u(this,mt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=u(this,gi))!=null&&e.div&&!u(this,as)){S(this,as,new AbortController);const i=u(this,mt).combinedSignal(u(this,as));u(this,gi).div.addEventListener("pointerdown",E(this,ri,ox).bind(this),{signal:i}),u(this,gi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=u(this,gi))!=null&&e.div&&u(this,as)&&(u(this,as).abort(),S(this,as,null),u(this,gi).div.classList.remove("highlighting"))}enableClick(){if(u(this,lr))return;S(this,lr,new AbortController);const e=u(this,mt).combinedSignal(u(this,lr));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=u(this,lr))==null||e.abort(),S(this,lr,null)}attach(e){u(this,tn).set(e.id,e);const{annotationElementId:i}=e;i&&u(this,mt).isDeletedAnnotationElement(i)&&u(this,mt).removeDeletedAnnotationElement(e)}detach(e){var i;u(this,tn).delete(e.id),(i=u(this,Fo))==null||i.removePointerInTextLayer(e.contentDiv),!u(this,qu)&&e.annotationElementId&&u(this,mt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),u(this,mt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,u(this,Gu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var i;e.parent!==this&&(e.parent&&e.annotationElementId&&(u(this,mt).addDeletedAnnotationElement(e.annotationElementId),Qt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(i=e.parent)==null||i.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),u(this,mt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),u(this,mt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var a;if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!u(this,ns)&&(e._focusEventsAllowed=!1,S(this,ns,setTimeout(()=>{S(this,ns,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:u(this,mt)._signal}),i.focus())},0))),e._structTreeParentId=(a=u(this,Fo))==null?void 0:a.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const i=()=>e._uiManager.rebuild(e),a=()=>{e.remove()};this.addCommands({cmd:i,undo:a,mustExec:!1})}getNextId(){return u(this,mt).getId()}combinedSignal(e){return u(this,mt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=u(this,ri,$v))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,i){u(this,mt).updateToolbar(e),u(this,mt).updateMode(e);const{offsetX:a,offsetY:r}=E(this,ri,t0).call(this),l=this.getNextId(),c=E(this,ri,Jv).call(this,{parent:this,id:l,x:a,y:r,uiManager:u(this,mt),isCentered:!0,...i});c&&this.add(c)}async deserialize(e){var i;return await((i=u(Cn,cr).get(e.annotationType??e.annotationEditorType))==null?void 0:i.deserialize(e,this,u(this,mt)))||null}createAndAddNewEditor(e,i,a={}){const r=this.getNextId(),l=E(this,ri,Jv).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:u(this,mt),isCentered:i,...a});return l&&this.add(l),l}addNewEditor(){this.createAndAddNewEditor(E(this,ri,t0).call(this),!0)}setSelected(e){u(this,mt).setSelected(e)}toggleSelected(e){u(this,mt).toggleSelected(e)}unselect(e){u(this,mt).unselect(e)}pointerup(e){const{isMac:i}=Ei.platform;if(!(e.button!==0||e.ctrlKey&&i)&&e.target===this.div&&u(this,ur)){if(S(this,ur,!1),!u(this,Iu)){S(this,Iu,!0);return}if(u(this,mt).getMode()===Mt.STAMP){u(this,mt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(u(this,mt).getMode()===Mt.HIGHLIGHT&&this.enableTextSelection(),u(this,ur)){S(this,ur,!1);return}const{isMac:i}=Ei.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;S(this,ur,!0);const a=u(this,mt).getActive();S(this,Iu,!a||a.isEmpty())}findNewParent(e,i,a){const r=u(this,mt).findParent(i,a);return r===null||r===this?!1:(r.changeParent(e),!0)}destroy(){var e,i;((e=u(this,mt).getActive())==null?void 0:e.parent)===this&&(u(this,mt).commitOrRemove(),u(this,mt).setActiveEditor(null)),u(this,ns)&&(clearTimeout(u(this,ns)),S(this,ns,null));for(const a of u(this,tn).values())(i=u(this,Fo))==null||i.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,u(this,tn).clear(),u(this,mt).removeLayer(this)}render({viewport:e}){this.viewport=e,Bo(this.div,e);for(const i of u(this,mt).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){u(this,mt).commitOrRemove(),E(this,ri,Dp).call(this);const i=this.viewport.rotation,a=e.rotation;if(this.viewport=e,Bo(this.div,{rotation:a}),i!==a)for(const r of u(this,tn).values())r.rotate(a);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return u(this,mt).viewParameters.realScale}};Fo=new WeakMap,Iu=new WeakMap,da=new WeakMap,lr=new WeakMap,ns=new WeakMap,tn=new WeakMap,ur=new WeakMap,Gu=new WeakMap,qu=new WeakMap,gi=new WeakMap,as=new WeakMap,mt=new WeakMap,cr=new WeakMap,ri=new WeakSet,ox=function(e){u(this,mt).unselectAll();const{target:i}=e;if(i===u(this,gi).div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&u(this,gi).div.contains(i)){const{isMac:a}=Ei.platform;if(e.button!==0||e.ctrlKey&&a)return;u(this,mt).showAllEditors("highlight",!0,!0),u(this,gi).div.classList.add("free"),this.toggleDrawing(),zp.startHighlighting(this,u(this,mt).direction==="ltr",{target:u(this,gi).div,x:e.x,y:e.y}),u(this,gi).div.addEventListener("pointerup",()=>{u(this,gi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:u(this,mt)._signal}),e.preventDefault()}},$v=function(){return u(Cn,cr).get(u(this,mt).getMode())},Jv=function(e){const i=u(this,ri,$v);return i?new i.prototype.constructor(e):null},t0=function(){const{x:e,y:i,width:a,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,e),c=Math.max(0,i),h=Math.min(window.innerWidth,e+a),f=Math.min(window.innerHeight,i+r),p=(l+h)/2-e,b=(c+f)/2-i,[v,y]=this.viewport.rotation%180===0?[p,b]:[b,p];return{offsetX:v,offsetY:y}},Dp=function(){S(this,Gu,!0);for(const e of u(this,tn).values())e.isEmpty()&&e.remove();S(this,Gu,!1)},St(Cn,"_initialized",!1),w(Cn,cr,new Map([kv,Fv,Kv,zp].map(e=>[e._editorType,e])));let Wv=Cn;var fa,Cd,ke,ss,Rd,i0,Vo,n0,lx;const ii=class ii{constructor({pageIndex:e}){w(this,Vo);w(this,fa,null);w(this,Cd,0);w(this,ke,new Map);w(this,ss,new Map);this.pageIndex=e}setParent(e){if(!u(this,fa)){S(this,fa,e);return}if(u(this,fa)!==e){if(u(this,ke).size>0)for(const i of u(this,ke).values())i.remove(),e.append(i);S(this,fa,e)}}static get _svgFactory(){return Ft(this,"_svgFactory",new v0)}draw(e,i,a,r=!1){const l=yi(this,Cd)._++,c=E(this,Vo,n0).call(this,e.box);c.classList.add(...e.classNamesForDrawing);const h=ii._svgFactory.createElement("defs");c.append(h);const f=ii._svgFactory.createElement("path");h.append(f);const p=`path_p${this.pageIndex}_${l}`;f.setAttribute("id",p),f.setAttribute("d",e.toSVGPath()),r&&u(this,ss).set(l,f);const b=E(this,Vo,lx).call(this,h,p),v=ii._svgFactory.createElement("use");return c.append(v),c.setAttribute("fill",i),c.setAttribute("fill-opacity",a),v.setAttribute("href",`#${p}`),u(this,ke).set(l,c),{id:l,clipPathId:`url(#${b})`}}drawOutline(e){const i=yi(this,Cd)._++,a=E(this,Vo,n0).call(this,e.box);a.classList.add(...e.classNamesForOutlining);const r=ii._svgFactory.createElement("defs");a.append(r);const l=ii._svgFactory.createElement("path");r.append(l);const c=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",c),l.setAttribute("d",e.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(e.mustRemoveSelfIntersections){const b=ii._svgFactory.createElement("mask");r.append(b),h=`mask_p${this.pageIndex}_${i}`,b.setAttribute("id",h),b.setAttribute("maskUnits","objectBoundingBox");const v=ii._svgFactory.createElement("rect");b.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const y=ii._svgFactory.createElement("use");b.append(y),y.setAttribute("href",`#${c}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=ii._svgFactory.createElement("use");a.append(f),f.setAttribute("href",`#${c}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return a.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),u(this,ke).set(i,a),i}finalizeLine(e,i){const a=u(this,ss).get(e);u(this,ss).delete(e),this.updateBox(e,i.box),a.setAttribute("d",i.toSVGPath())}updateLine(e,i){u(this,ke).get(e).firstChild.firstChild.setAttribute("d",i.toSVGPath())}updatePath(e,i){u(this,ss).get(e).setAttribute("d",i.toSVGPath())}updateBox(e,i){var a;E(a=ii,Rd,i0).call(a,u(this,ke).get(e),i)}show(e,i){u(this,ke).get(e).classList.toggle("hidden",!i)}rotate(e,i){u(this,ke).get(e).setAttribute("data-main-rotation",i)}changeColor(e,i){u(this,ke).get(e).setAttribute("fill",i)}changeOpacity(e,i){u(this,ke).get(e).setAttribute("fill-opacity",i)}addClass(e,i){u(this,ke).get(e).classList.add(i)}removeClass(e,i){u(this,ke).get(e).classList.remove(i)}getSVGRoot(e){return u(this,ke).get(e)}remove(e){u(this,ss).delete(e),u(this,fa)!==null&&(u(this,ke).get(e).remove(),u(this,ke).delete(e))}destroy(){S(this,fa,null);for(const e of u(this,ke).values())e.remove();u(this,ke).clear(),u(this,ss).clear()}};fa=new WeakMap,Cd=new WeakMap,ke=new WeakMap,ss=new WeakMap,Rd=new WeakSet,i0=function(e,{x:i=0,y:a=0,width:r=1,height:l=1}={}){const{style:c}=e;c.top=`${100*a}%`,c.left=`${100*i}%`,c.width=`${100*r}%`,c.height=`${100*l}%`},Vo=new WeakSet,n0=function(e){var a;const i=ii._svgFactory.create(1,1,!0);return u(this,fa).append(i),i.setAttribute("aria-hidden",!0),E(a=ii,Rd,i0).call(a,i,e),i},lx=function(e,i){const a=ii._svgFactory.createElement("clipPath");e.append(a);const r=`clip_${i}`;a.setAttribute("id",r),a.setAttribute("clipPathUnits","objectBoundingBox");const l=ii._svgFactory.createElement("use");return a.append(l),l.setAttribute("href",`#${i}`),l.classList.add("clip"),r},w(ii,Rd);let e0=ii;var oR=wt.AbortException,lR=wt.AnnotationEditorLayer,uR=wt.AnnotationEditorParamsType,cR=wt.AnnotationEditorType,hR=wt.AnnotationEditorUIManager,ux=wt.AnnotationLayer,cx=wt.AnnotationMode,dR=wt.ColorPicker,fR=wt.DOMSVGFactory,pR=wt.DrawLayer,gR=wt.FeatureTest,A0=wt.GlobalWorkerOptions,mR=wt.ImageKind,bR=wt.InvalidPDFException,vR=wt.MissingPDFException,yR=wt.OPS,AR=wt.OutputScale,SR=wt.PDFDataRangeTransport,_R=wt.PDFDateString,ER=wt.PDFWorker,xR=wt.PasswordResponses,TR=wt.PermissionFlag,wR=wt.PixelsPerInch,CR=wt.RenderingCancelledException,hx=wt.TextLayer,RR=wt.UnexpectedResponseException,MR=wt.Util,kR=wt.VerbosityLevel,DR=wt.XfaLayer,LR=wt.build,OR=wt.createValidAbsoluteUrl,NR=wt.fetchData,dx=wt.getDocument,jR=wt.getFilenameFromUrl,zR=wt.getPdfFilenameFromUrl,PR=wt.getXfaPageViewport,HR=wt.isDataScheme,FR=wt.isPdfFile,BR=wt.noContextMenu,UR=wt.normalizeUnicode,IR=wt.setLayerDimensions,GR=wt.shadow,qR=wt.version;const VR=Object.freeze(Object.defineProperty({__proto__:null,AbortException:oR,AnnotationEditorLayer:lR,AnnotationEditorParamsType:uR,AnnotationEditorType:cR,AnnotationEditorUIManager:hR,AnnotationLayer:ux,AnnotationMode:cx,ColorPicker:dR,DOMSVGFactory:fR,DrawLayer:pR,FeatureTest:gR,GlobalWorkerOptions:A0,ImageKind:mR,InvalidPDFException:bR,MissingPDFException:vR,OPS:yR,OutputScale:AR,PDFDataRangeTransport:SR,PDFDateString:_R,PDFWorker:ER,PasswordResponses:xR,PermissionFlag:TR,PixelsPerInch:wR,RenderingCancelledException:CR,TextLayer:hx,UnexpectedResponseException:RR,Util:MR,VerbosityLevel:kR,XfaLayer:DR,build:LR,createValidAbsoluteUrl:OR,fetchData:NR,getDocument:dx,getFilenameFromUrl:jR,getPdfFilenameFromUrl:zR,getXfaPageViewport:PR,isDataScheme:HR,isPdfFile:FR,noContextMenu:BR,normalizeUnicode:UR,setLayerDimensions:IR,shadow:GR,version:qR},Symbol.toStringTag,{value:"Module"}));var Xe=function(g,e,i){if(i||arguments.length===2)for(var a=0,r=e.length,l;a<r;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return g.concat(l||Array.prototype.slice.call(e))},XR=["onCopy","onCut","onPaste"],YR=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],KR=["onFocus","onBlur"],ZR=["onInput","onInvalid","onReset","onSubmit"],QR=["onLoad","onError"],WR=["onKeyDown","onKeyPress","onKeyUp"],$R=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],JR=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],tM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],eM=["onSelect"],iM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],nM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],aM=["onScroll"],sM=["onWheel"],rM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],oM=["onTransitionEnd"],lM=["onToggle"],uM=["onChange"],cM=Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe([],XR,!0),YR,!0),KR,!0),ZR,!0),QR,!0),WR,!0),$R,!0),JR,!0),tM,!0),eM,!0),iM,!0),nM,!0),aM,!0),sM,!0),rM,!0),oM,!0),uM,!0),lM,!0);function fx(g,e){var i={};return cM.forEach(function(a){var r=g[a];r&&(e?i[a]=function(l){return r(l,e(a))}:i[a]=r)}),i}function Ld(g){var e=!1,i=new Promise(function(a,r){g.then(function(l){return!e&&a(l)}).catch(function(l){return!e&&r(l)})});return{promise:i,cancel:function(){e=!0}}}function px(g){var e,i,a="";if(typeof g=="string"||typeof g=="number")a+=g;else if(typeof g=="object")if(Array.isArray(g)){var r=g.length;for(e=0;e<r;e++)g[e]&&(i=px(g[e]))&&(a&&(a+=" "),a+=i)}else for(i in g)g[i]&&(a&&(a+=" "),a+=i);return a}function lg(){for(var g,e,i=0,a="",r=arguments.length;i<r;i++)(g=arguments[i])&&(e=px(g))&&(a&&(a+=" "),a+=e);return a}var hM="Invariant failed";function ae(g,e){if(!g)throw new Error(hM)}var Fb,qS;function dM(){if(qS)return Fb;qS=1;var g=function(){};return Fb=g,Fb}var fM=dM();const mi=i_(fM);var VS=Object.prototype.hasOwnProperty;function XS(g,e,i){for(i of g.keys())if(Vl(i,e))return i}function Vl(g,e){var i,a,r;if(g===e)return!0;if(g&&e&&(i=g.constructor)===e.constructor){if(i===Date)return g.getTime()===e.getTime();if(i===RegExp)return g.toString()===e.toString();if(i===Array){if((a=g.length)===e.length)for(;a--&&Vl(g[a],e[a]););return a===-1}if(i===Set){if(g.size!==e.size)return!1;for(a of g)if(r=a,r&&typeof r=="object"&&(r=XS(e,r),!r)||!e.has(r))return!1;return!0}if(i===Map){if(g.size!==e.size)return!1;for(a of g)if(r=a[0],r&&typeof r=="object"&&(r=XS(e,r),!r)||!Vl(a[1],e.get(r)))return!1;return!0}if(i===ArrayBuffer)g=new Uint8Array(g),e=new Uint8Array(e);else if(i===DataView){if((a=g.byteLength)===e.byteLength)for(;a--&&g.getInt8(a)===e.getInt8(a););return a===-1}if(ArrayBuffer.isView(g)){if((a=g.byteLength)===e.byteLength)for(;a--&&g[a]===e[a];);return a===-1}if(!i||typeof g=="object"){a=0;for(i in g)if(VS.call(g,i)&&++a&&!VS.call(e,i)||!(i in e)||!Vl(g[i],e[i]))return!1;return Object.keys(e).length===a}}return g!==g&&e!==e}const gx=Q.createContext(null);function Xl({children:g,type:e}){return et.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:g})}const pM="noopener noreferrer nofollow";class gM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ae(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){ae(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(i=>{ae(this.pdfDocument),ae(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(i):Array.isArray(e)?i(e):e.then(i)}).then(i=>{ae(Array.isArray(i));const a=i[0];new Promise(r=>{ae(this.pdfDocument),a instanceof Object?this.pdfDocument.getPageIndex(a).then(l=>{r(l)}).catch(()=>{ae(!1)}):typeof a=="number"?r(a):ae(!1)}).then(r=>{const l=r+1;ae(this.pdfViewer),ae(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:i,pageIndex:r,pageNumber:l})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const i=e-1;ae(this.pdfViewer),ae(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:i,pageNumber:e})}addLinkAttributes(e,i,a){e.href=i,e.rel=this.externalLinkRel||pM,e.target=a?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const YS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},ug=typeof window<"u",mx=ug&&window.location.protocol==="file:";function mM(g){return typeof g<"u"}function zr(g){return mM(g)&&g!==null}function bM(g){return typeof g=="string"}function vM(g){return g instanceof ArrayBuffer}function yM(g){return ae(ug),g instanceof Blob}function a0(g){return bM(g)&&/^data:/.test(g)}function KS(g){ae(a0(g));const[e="",i=""]=g.split(",");return e.split(";").indexOf("base64")!==-1?atob(i):unescape(i)}function AM(){return ug&&window.devicePixelRatio||1}const bx="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ZS(){mi(!mx,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${bx}`)}function SM(){mi(!mx,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${bx}`)}function Go(g){g!=null&&g.cancel&&g.cancel()}function s0(g,e){return Object.defineProperty(g,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(g,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(g,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(g,"originalHeight",{get(){return this.view[3]},configurable:!0}),g}function _M(g){return g.name==="RenderingCancelledException"}function EM(g){return new Promise((e,i)=>{const a=new FileReader;a.onload=()=>{if(!a.result)return i(new Error("Error while reading a file."));e(a.result)},a.onerror=r=>{if(!r.target)return i(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return i(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return i(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return i(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return i(new Error("Error while reading a file: Aborted."));default:return i(new Error("Error while reading a file."))}},a.readAsArrayBuffer(g)})}function xM(g,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return g}}function Vu(){return Q.useReducer(xM,{value:void 0,error:void 0})}var TM=function(g,e,i,a){function r(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(b){try{p(a.next(b))}catch(v){c(v)}}function f(b){try{p(a.throw(b))}catch(v){c(v)}}function p(b){b.done?l(b.value):r(b.value).then(h,f)}p((a=a.apply(g,e||[])).next())})},QS=function(g,e){var i={};for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&e.indexOf(a)<0&&(i[a]=g[a]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(g);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(g,a[r])&&(i[a[r]]=g[a[r]]);return i};const{PDFDataRangeTransport:wM}=VR,CM=(g,e)=>{switch(e){case YS.NEED_PASSWORD:{const i=prompt("Enter the password to open this PDF file.");g(i);break}case YS.INCORRECT_PASSWORD:{const i=prompt("Invalid password. Please try again.");g(i);break}}};function WS(g){return typeof g=="object"&&g!==null&&("data"in g||"range"in g||"url"in g)}const RM=Q.forwardRef(function(e,i){var{children:a,className:r,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:h,file:f,inputRef:p,imageResourcesPath:b,loading:v="Loading PDF…",noData:y="No PDF file specified.",onItemClick:_,onLoadError:T,onLoadProgress:C,onLoadSuccess:k,onPassword:R=CM,onSourceError:L,onSourceSuccess:N,options:z,renderMode:F,rotate:G}=e,X=QS(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[W,it]=Vu(),{value:ot,error:st}=W,[gt,bt]=Vu(),{value:ft,error:ht}=gt,H=Q.useRef(new gM),q=Q.useRef([]),$=Q.useRef(void 0),Et=Q.useRef(void 0);f&&f!==$.current&&WS(f)&&(mi(!Vl(f,$.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),$.current=f),z&&z!==Et.current&&(mi(!Vl(z,Et.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Et.current=z);const D=Q.useRef({scrollPageIntoView:qt=>{const{dest:le,pageNumber:Be,pageIndex:Te=Be-1}=qt;if(_){_({dest:le,pageIndex:Te,pageNumber:Be});return}const $e=q.current[Te];if($e){$e.scrollIntoView();return}mi(!1,`An internal link leading to page ${Be} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});Q.useImperativeHandle(i,()=>({linkService:H,pages:q,viewer:D}),[]);function Y(){N&&N()}function tt(){st&&(mi(!1,st.toString()),L&&L(st))}function J(){it({type:"RESET"})}Q.useEffect(J,[f,it]);const lt=Q.useCallback(()=>TM(this,void 0,void 0,function*(){if(!f)return null;if(typeof f=="string")return a0(f)?{data:KS(f)}:(ZS(),{url:f});if(f instanceof wM)return{range:f};if(vM(f))return{data:f};if(ug&&yM(f))return{data:yield EM(f)};if(ae(typeof f=="object"),ae(WS(f)),"url"in f&&typeof f.url=="string"){if(a0(f.url)){const{url:qt}=f,le=QS(f,["url"]),Be=KS(qt);return Object.assign({data:Be},le)}ZS()}return f}),[f]);Q.useEffect(()=>{const qt=Ld(lt());return qt.promise.then(le=>{it({type:"RESOLVE",value:le})}).catch(le=>{it({type:"REJECT",error:le})}),()=>{Go(qt)}},[lt,it]),Q.useEffect(()=>{if(!(typeof ot>"u")){if(ot===!1){tt();return}Y()}},[ot]);function xt(){ft&&(k&&k(ft),q.current=new Array(ft.numPages),H.current.setDocument(ft))}function ut(){ht&&(mi(!1,ht.toString()),T&&T(ht))}Q.useEffect(function(){bt({type:"RESET"})},[bt,ot]),Q.useEffect(function(){if(!ot)return;const le=z?Object.assign(Object.assign({},ot),z):ot,Be=dx(le);C&&(Be.onProgress=C),R&&(Be.onPassword=R);const Te=Be,$e=Te.promise.then(mr=>{bt({type:"RESOLVE",value:mr})}).catch(mr=>{Te.destroyed||bt({type:"REJECT",error:mr})});return()=>{$e.finally(()=>Te.destroy())}},[z,bt,ot]),Q.useEffect(()=>{if(!(typeof ft>"u")){if(ft===!1){ut();return}xt()}},[ft]),Q.useEffect(function(){H.current.setViewer(D.current),H.current.setExternalLinkRel(c),H.current.setExternalLinkTarget(h)},[c,h]);const Tt=Q.useCallback((qt,le)=>{q.current[qt]=le},[]),Ht=Q.useCallback(qt=>{delete q.current[qt]},[]),xe=Q.useMemo(()=>({imageResourcesPath:b,linkService:H.current,onItemClick:_,pdf:ft,registerPage:Tt,renderMode:F,rotate:G,unregisterPage:Ht}),[b,_,ft,Tt,F,G,Ht]),Wt=Q.useMemo(()=>fx(X,()=>ft),[X,ft]);function Gn(){return et.jsx(gx.Provider,{value:xe,children:a})}function pa(){return f?ft==null?et.jsx(Xl,{type:"loading",children:typeof v=="function"?v():v}):ft===!1?et.jsx(Xl,{type:"error",children:typeof l=="function"?l():l}):Gn():et.jsx(Xl,{type:"no-data",children:typeof y=="function"?y():y})}return et.jsx("div",Object.assign({className:lg("react-pdf__Document",r),ref:p,style:{"--scale-factor":"1"}},Wt,{children:pa()}))});function vx(){return Q.useContext(gx)}function yx(){for(var g=[],e=0;e<arguments.length;e++)g[e]=arguments[e];var i=g.filter(Boolean);if(i.length<=1){var a=i[0];return a||null}return function(l){i.forEach(function(c){typeof c=="function"?c(l):c&&(c.current=l)})}}const Ax=Q.createContext(null),Sx={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},MM=/^H(\d+)$/;function kM(g){return g in Sx}function cg(g){return"children"in g}function _x(g){return cg(g)?g.children.length===1&&0 in g.children&&"id"in g.children[0]:!1}function DM(g){const e={};if(cg(g)){const{role:i}=g,a=i.match(MM);if(a)e.role="heading",e["aria-level"]=Number(a[1]);else if(kM(i)){const r=Sx[i];r&&(e.role=r)}}return e}function Ex(g){const e={};if(cg(g)){if(g.alt!==void 0&&(e["aria-label"]=g.alt),g.lang!==void 0&&(e.lang=g.lang),_x(g)){const[i]=g.children;if(i){const a=Ex(i);return Object.assign(Object.assign({},e),a)}}}else"id"in g&&(e["aria-owns"]=g.id);return e}function LM(g){return g?Object.assign(Object.assign({},DM(g)),Ex(g)):null}function xx({className:g,node:e}){const i=Q.useMemo(()=>LM(e),[e]),a=Q.useMemo(()=>!cg(e)||_x(e)?null:e.children.map((r,l)=>et.jsx(xx,{node:r},l)),[e]);return et.jsx("span",Object.assign({className:g},i,{children:a}))}function hg(){return Q.useContext(Ax)}function OM(){const g=hg();ae(g);const{onGetStructTreeError:e,onGetStructTreeSuccess:i}=g,[a,r]=Vu(),{value:l,error:c}=a,{customTextRenderer:h,page:f}=g;function p(){l&&i&&i(l)}function b(){c&&(mi(!1,c.toString()),e&&e(c))}return Q.useEffect(function(){r({type:"RESET"})},[r,f]),Q.useEffect(function(){if(h||!f)return;const y=Ld(f.getStructTree()),_=y;return y.promise.then(T=>{r({type:"RESOLVE",value:T})}).catch(T=>{r({type:"REJECT",error:T})}),()=>Go(_)},[h,f,r]),Q.useEffect(()=>{if(l!==void 0){if(l===!1){b();return}p()}},[l]),l?et.jsx(xx,{className:"react-pdf__Page__structTree structTree",node:l}):null}const $S=cx;function NM(g){const e=hg();ae(e);const i=Object.assign(Object.assign({},e),g),{_className:a,canvasBackground:r,devicePixelRatio:l=AM(),onRenderError:c,onRenderSuccess:h,page:f,renderForms:p,renderTextLayer:b,rotate:v,scale:y}=i,{canvasRef:_}=g;ae(f);const T=Q.useRef(null);function C(){f&&h&&h(s0(f,y))}function k(z){_M(z)||(mi(!1,z.toString()),c&&c(z))}const R=Q.useMemo(()=>f.getViewport({scale:y*l,rotation:v}),[l,f,v,y]),L=Q.useMemo(()=>f.getViewport({scale:y,rotation:v}),[f,v,y]);Q.useEffect(function(){if(!f)return;f.cleanup();const{current:F}=T;if(!F)return;F.width=R.width,F.height=R.height,F.style.width=`${Math.floor(L.width)}px`,F.style.height=`${Math.floor(L.height)}px`,F.style.visibility="hidden";const G={annotationMode:p?$S.ENABLE_FORMS:$S.ENABLE,canvasContext:F.getContext("2d",{alpha:!1}),viewport:R};r&&(G.background=r);const X=f.render(G),W=X;return X.promise.then(()=>{F.style.visibility="",C()}).catch(k),()=>Go(W)},[r,f,p,R,L]);const N=Q.useCallback(()=>{const{current:z}=T;z&&(z.width=0,z.height=0)},[]);return Q.useEffect(()=>N,[N]),et.jsx("canvas",{className:`${a}__canvas`,dir:"ltr",ref:yx(_,T),style:{display:"block",userSelect:"none"},children:b?et.jsx(OM,{}):null})}function jM(g){return"str"in g}function zM(){const g=hg();ae(g);const{customTextRenderer:e,onGetTextError:i,onGetTextSuccess:a,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:c,pageIndex:h,pageNumber:f,rotate:p,scale:b}=g;ae(c);const[v,y]=Vu(),{value:_,error:T}=v,C=Q.useRef(null);mi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function k(){_&&a&&a(_)}function R(){T&&(mi(!1,T.toString()),i&&i(T))}Q.useEffect(function(){y({type:"RESET"})},[c,y]),Q.useEffect(function(){if(!c)return;const W=Ld(c.getTextContent()),it=W;return W.promise.then(ot=>{y({type:"RESOLVE",value:ot})}).catch(ot=>{y({type:"REJECT",error:ot})}),()=>Go(it)},[c,y]),Q.useEffect(()=>{if(_!==void 0){if(_===!1){R();return}k()}},[_]);const L=Q.useCallback(()=>{l&&l()},[l]),N=Q.useCallback(X=>{mi(!1,X.toString()),r&&r(X)},[r]);function z(){const X=C.current;X&&X.classList.add("selecting")}function F(){const X=C.current;X&&X.classList.remove("selecting")}const G=Q.useMemo(()=>c.getViewport({scale:b,rotation:p}),[c,p,b]);return Q.useLayoutEffect(function(){if(!c||!_)return;const{current:W}=C;if(!W)return;W.innerHTML="";const it=c.streamTextContent({includeMarkedContent:!0}),ot={container:W,textContentSource:it,viewport:G},st=new hx(ot),gt=st;return st.render().then(()=>{const bt=document.createElement("div");bt.className="endOfContent",W.append(bt);const ft=W.querySelectorAll('[role="presentation"]');if(e){let ht=0;_.items.forEach((H,q)=>{if(!jM(H))return;const $=ft[ht];if(!$)return;const Et=e(Object.assign({pageIndex:h,pageNumber:f,itemIndex:q},H));$.innerHTML=Et,ht+=H.str&&H.hasEOL?2:1})}L()}).catch(N),()=>Go(gt)},[e,N,L,c,h,f,_,G]),et.jsx("div",{className:lg("react-pdf__Page__textContent","textLayer"),onMouseUp:F,onMouseDown:z,ref:C})}function PM(){const g=vx(),e=hg();ae(e);const i=Object.assign(Object.assign({},g),e),{imageResourcesPath:a,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:h,onRenderAnnotationLayerSuccess:f,page:p,pdf:b,renderForms:v,rotate:y,scale:_=1}=i;ae(b),ae(p),ae(r);const[T,C]=Vu(),{value:k,error:R}=T,L=Q.useRef(null);mi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function N(){k&&c&&c(k)}function z(){R&&(mi(!1,R.toString()),l&&l(R))}Q.useEffect(function(){C({type:"RESET"})},[C,p]),Q.useEffect(function(){if(!p)return;const it=Ld(p.getAnnotations()),ot=it;return it.promise.then(st=>{C({type:"RESOLVE",value:st})}).catch(st=>{C({type:"REJECT",error:st})}),()=>{Go(ot)}},[C,p]),Q.useEffect(()=>{if(k!==void 0){if(k===!1){z();return}N()}},[k]);function F(){f&&f()}function G(W){mi(!1,`${W}`),h&&h(W)}const X=Q.useMemo(()=>p.getViewport({scale:_,rotation:y}),[p,y,_]);return Q.useEffect(function(){if(!b||!p||!r||!k)return;const{current:it}=L;if(!it)return;const ot=X.clone({dontFlip:!0}),st={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:it,l10n:null,page:p,structTreeLayer:null,viewport:ot},gt={annotations:k,annotationStorage:b.annotationStorage,div:it,imageResourcesPath:a,linkService:r,page:p,renderForms:v,viewport:ot};it.innerHTML="";try{new ux(st).render(gt),F()}catch(bt){G(bt)}return()=>{}},[k,a,r,p,b,v,X]),et.jsx("div",{className:lg("react-pdf__Page__annotations","annotationLayer"),ref:L})}var HM=function(g,e){var i={};for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&e.indexOf(a)<0&&(i[a]=g[a]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(g);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(g,a[r])&&(i[a[r]]=g[a[r]]);return i};const JS=1;function FM(g){const e=vx(),i=Object.assign(Object.assign({},e),g),{_className:a="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:c,children:h,className:f,customRenderer:p,customTextRenderer:b,devicePixelRatio:v,error:y="Failed to load the page.",height:_,inputRef:T,loading:C="Loading page…",noData:k="No page specified.",onGetAnnotationsError:R,onGetAnnotationsSuccess:L,onGetStructTreeError:N,onGetStructTreeSuccess:z,onGetTextError:F,onGetTextSuccess:G,onLoadError:X,onLoadSuccess:W,onRenderAnnotationLayerError:it,onRenderAnnotationLayerSuccess:ot,onRenderError:st,onRenderSuccess:gt,onRenderTextLayerError:bt,onRenderTextLayerSuccess:ft,pageIndex:ht,pageNumber:H,pdf:q,registerPage:$,renderAnnotationLayer:Et=!0,renderForms:D=!1,renderMode:Y="canvas",renderTextLayer:tt=!0,rotate:J,scale:lt=JS,unregisterPage:xt,width:ut}=i,Tt=HM(i,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ht,xe]=Vu(),{value:Wt,error:Gn}=Ht,pa=Q.useRef(null);ae(q);const qt=zr(H)?H-1:ht??null,le=H??(zr(ht)?ht+1:null),Be=J??(Wt?Wt.rotate:null),Te=Q.useMemo(()=>{if(!Wt)return null;let we=1;const Hi=lt??JS;if(ut||_){const Ue=Wt.getViewport({scale:1,rotation:Be});ut?we=ut/Ue.width:_&&(we=_/Ue.height)}return Hi*we},[_,Wt,Be,lt,ut]);Q.useEffect(function(){return()=>{zr(qt)&&r&&xt&&xt(qt)}},[r,q,qt,xt]);function $e(){if(W){if(!Wt||!Te)return;W(s0(Wt,Te))}if(r&&$){if(!zr(qt)||!pa.current)return;$(qt,pa.current)}}function mr(){Gn&&(mi(!1,Gn.toString()),X&&X(Gn))}Q.useEffect(function(){xe({type:"RESET"})},[xe,q,qt]),Q.useEffect(function(){if(!q||!le)return;const Hi=Ld(q.getPage(le)),Ue=Hi;return Hi.promise.then(Xu=>{xe({type:"RESOLVE",value:Xu})}).catch(Xu=>{xe({type:"REJECT",error:Xu})}),()=>Go(Ue)},[xe,q,le]),Q.useEffect(()=>{if(Wt!==void 0){if(Wt===!1){mr();return}$e()}},[Wt,Te]);const Od=Q.useMemo(()=>Wt&&zr(qt)&&le&&zr(Be)&&zr(Te)?{_className:a,canvasBackground:l,customTextRenderer:b,devicePixelRatio:v,onGetAnnotationsError:R,onGetAnnotationsSuccess:L,onGetStructTreeError:N,onGetStructTreeSuccess:z,onGetTextError:F,onGetTextSuccess:G,onRenderAnnotationLayerError:it,onRenderAnnotationLayerSuccess:ot,onRenderError:st,onRenderSuccess:gt,onRenderTextLayerError:bt,onRenderTextLayerSuccess:ft,page:Wt,pageIndex:qt,pageNumber:le,renderForms:D,renderTextLayer:tt,rotate:Be,scale:Te}:null,[a,l,b,v,R,L,N,z,F,G,it,ot,st,gt,bt,ft,Wt,qt,le,D,tt,Be,Te]),Nd=Q.useMemo(()=>fx(Tt,()=>Wt&&(Te?s0(Wt,Te):void 0)),[Tt,Wt,Te]),ga=`${qt}@${Te}/${Be}`;function dg(){switch(Y){case"custom":return ae(p),et.jsx(p,{},`${ga}_custom`);case"none":return null;case"canvas":default:return et.jsx(NM,{canvasRef:c},`${ga}_canvas`)}}function jd(){return tt?et.jsx(zM,{},`${ga}_text`):null}function fg(){return Et?et.jsx(PM,{},`${ga}_annotations`):null}function pg(){return et.jsxs(Ax.Provider,{value:Od,children:[dg(),jd(),fg(),h]})}function br(){return le?q===null||Wt===void 0||Wt===null?et.jsx(Xl,{type:"loading",children:typeof C=="function"?C():C}):q===!1||Wt===!1?et.jsx(Xl,{type:"error",children:typeof y=="function"?y():y}):pg():et.jsx(Xl,{type:"no-data",children:typeof k=="function"?k():k})}return et.jsx("div",Object.assign({className:lg(a,f),"data-page-number":le,ref:yx(T,pa),style:{"--scale-factor":`${Te}`,backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Nd,{children:br()}))}SM();A0.workerSrc="pdf.worker.mjs";const BM=({src:g,index:e,onPlay:i})=>{const a=n_.useRef(null);return et.jsx("div",{className:"my-4",children:et.jsxs("audio",{id:`audio-${e}`,ref:a,controls:!0,className:"w-full",onPlay:()=>{i&&typeof e=="number"&&i(e)},children:[et.jsx("source",{src:g,type:"audio/mp3"}),"Ваш браузер не поддерживает аудиопроигрывание."]})})},UM=({number:g,text:e,audio:i,index:a,currentAudio:r,onPlay:l})=>{const[c,h]=Q.useState(!1);return et.jsxs("li",{className:"rounded-lg p-3 pl-0",children:[et.jsxs("p",{className:"text-base font-semibold mb-2",children:["№ ",g]}),i&&et.jsx(BM,{src:i,index:a,onPlay:l}),e&&et.jsxs("div",{children:[et.jsx("button",{onClick:()=>h(!c),className:"text-xs text-gray-500 mb-1 hover:underline",children:c?"Скрыть ответ":"Показать ответ"}),et.jsx("div",{className:`text-base leading-8 transition-all duration-500 whitespace-pre-line relative overflow-hidden p-2 pl-0 rounded  ${c?"":"before:absolute before:inset-0 before:opacity-100 before:backdrop-blur-xs"}`,onClick:()=>h(!0),children:e})]})]})},IM=[{page:12,items:[{number:"1",audio:"public/audio/002   1 LEKCIJE  Lekcija 1  Dobar dan  Cetiri razgovora-pozdravljanje.mp3"}]},{page:13,items:[{number:"2",audio:"public/audio/003   2 Slusajte i proverite.mp3"}]},{page:14,items:[{number:"3",audio:"public/audio/004   3 Slusajte i pisite prirodan odgovor.mp3"},{number:"4",audio:"public/audio/005   4 Proverite.mp3"},{number:"5",audio:"public/audio/006   5 Proverite.mp3"},{number:"6",audio:"public/audio/006   5 Proverite.mp3"}]},{page:15,items:[{number:"12",text:`1) Da li je ovo torba? - Ne, nije.
2) Da li je ovo novčanik? - Ne, nije.
3) Da li je ovo kompjuter? - Da, jeste.
4) Da li je ovo moblini? - Ne, nije.
5) Da li je ovo stolica? - Ne, nije.
6) Da li je ovo torba? - Da, jeste.
7) Da li je ovo novčanik? - Da, jeste.
8) Da li je ovo pasoš? - Da, jeste.`}]},{page:16,items:[{number:"7",audio:"public/audio/008   7 Sta cujete.mp3"},{number:"15",text:`a) Vi ste Ana.
b) Mi smo student i profesor.
c) Ovo je knjiga.
č) Ovo su knjiga i torba.
ć) Ja sam žena.
d) Ti si Petar.`}]},{page:17,items:[{number:"16",text:`A: Dobar dan.
B: Zdravo. Kako si?
A: Hvala, dobro sam. A Vi?
B: Nije loše. Da li je ovo Milica?
A: Ne, ovo niie Milica. Ovo je Dragana.
B: Hvala. Vidimo se.
A: Doviđenja. Prijatno.`},{number:"17",text:`muški rod: muškarac, student, dan, novčanik, kompjuter, ključ, pasoš, profesor, mobilni telefon;
ženski rod: žena, knjiga, stolica, torba;
srednji rod: veče, jutro.`},{number:"18",text:`formalno: Doviđenja. Da li ste vi Boris? Dobro jutro. Kako ste? A Vi? Dobro veče.
neformalno: Kako si? Ćao. Vidimo se. Da li si ti Ana? Zdravo. A ti?`}]},{page:19,items:[{number:"8",audio:"public/audio/009   Lekcija 2 MOJA ZEMLJA 8 Proverite.mp3"},{number:"4",text:`1) Milica i Miloš su Srpkinja i Srbin. 2) Đani i ja smo Italijan i Francuz. 3) Elizabet i Deniz su Amerikanka i Francuskinja.
4) Andrej i ti ste Rus i Španac. 5) Rosa i Natalija su Italijanka i Ruskinja. 6) Anita i ja smo Mađarica i Srpkinja. 7) Pavel
i Katja su Poljak i Poljakinja. 7) Eržika i ja smo Mađarica i Špankinja. 8) Mikloš i ti ste Mađar i Kinez. 9) Jin i Štefan su
Kineskinja i Nemac. 10) Sara i ia smo Nemica i Francuskinja.`},{number:"5",text:"1b); 2a); За); 4b); 5b); 6a); 7b); 8b)."}]},{page:20,items:[{number:"9",audio:"public/audio/010   9 Citajte i slusajte.mp3"}]},{page:21,items:[{number:"8",text:"2) Ti si Rus. 3) Vi ste Nemac i Italijanka. 4) Mi smo Kinez i Rus. 5) Ona je Francuskinja. 6) One su Italijanka i Nemica."},{number:"10",audio:"public/audio/011   10 Slusajte i ponovite.mp3"},{number:"11",audio:"public/audio/012   11 Slusajte i dopunite.mp3"},{number:"12",audio:"public/audio/013   12 Diktat.mp3"}]},{page:22,items:[{number:"13",audio:"public/audio/014   13 Slusajte i citajte-upoznavanje.mp3"},{number:"15",text:"1a); 2b); 3b); 4a); 5b)."}]},{page:24,items:[{number:"18",text:"1a); 2b); За); 4a); 5b); 6b); 7a); 8a); 9b); 1Ob)."},{number:"19",text:`1) Milica nije Francuskinja. 2) Oni nisu Pablo i Đani. 3) Ja nisam stranac. 4) Moje ime nije Elizabet. 5) Ja se ne zovem
Čarli. 6) Ne, nismo. 7) Ti nisi moja drugarica. 8) Nismo loše. 9) Ne, niste. 10) Nisam dobro.`},{number:"20",text:"1) Ne, nije. 2) Da, jesmo. 3) Ne, nisam. 4) Da, jesam. 5) Da, jeste. 6) Ne, nisu."}]},{page:25,items:[{number:"14a",audio:"public/audio/015   14a Slusajte i odgovorite prirodno..mp3"},{number:"14b",audio:"public/audio/016   14b Slusajte i proverite.mp3"},{number:"21",text:`drugarica, drug; strankinja, stranac; Srpkinja, Srbin; studentkinja, student; Ruskinja, Rus; Amerikanka, Amerikanac;
Italijanka, Italijan; Kineskinja, Kinez.`},{number:"23",text:`slika 1: Izvolite. - Hvala. slika 2: Zdravo. - Dobar dan. slika 3: Ćao. Ja sam Milan. - Drago mi je. Ja sam Sara. slika
4. Ćao. - Vidimo se.`}]},{page:27,items:[{number:"15",audio:"public/audio/017   15 Citajte i slusajte-razgovori.mp3"},{number:"5",text:"1b); 2a); За); 4b)."},{number:"16",audio:"public/audio/018   16 Proverite.mp3"},{number:"8",text:`Ja nisam Nemac i ne govorim nemački odlično. Ne govorim ni engleski jezik dobro. Ali, srpski jezik ne govorim loše. Sada
ne učim srpski zato što ne živim i ne radim ovde. Ne razumem sve.`}]},{page:28,items:[{number:"9",text:`1) Učimo srpski jezik. 2) Ne razumem srpski dobro. 3) Nisam studentkinja. 4) Vi živite ovde? 5) Boris je Nemac i radi ovde. 6)
Živi ovde zato što radi ovde. 7) Uče srpski zato što žive ovde. 8) Ti govoriš nemački jezik? 9) Ne živim ovde. 10) Zove se Jelena.`},{number:"10",text:"b);2a); Зс); 4a); 5c)."}]},{page:29,items:[{number:"17",audio:"public/audio/019   17 Slusajte i upisite tacno ili netacno.mp3"},{number:"18",audio:"public/audio/020   18 Sta cujete.mp3"},{number:"19",audio:"public/audio/021   19 Marija i Viktor razgovaraju.mp3"}]},{page:31,items:[{number:"18",text:"1b); 2b); За; 4b); 5a; 6a); 7a)."}]},{page:32,items:[{number:"20",audio:"public/audio/022   20 Srbija je i moja zemlja.mp3"},{number:"21",text:`Da li ste Vi Italijanka?; Kako se zove Vaš muž?; Da li je on Italijan?; Da li vi živite ovde?; Da li Dario dobro govori srpski?;
A Vi?; Da li je Dario profesor?; Da li ste i Vi ekonomistkinja?; Da li radite u Srbiji?; Da li volite džez?`},{number:"22",text:`A: Zdravo. Ja se zovem Rosa. A ti? B: Ćao. Moje ime je Štefan. Da li učiš srpski jezik? A: Trenutno ne učim. Da li ti govoriš
srpski jezik dobro? B: Govorim loše, ali razumem dobro. Da li živiš ovde? A: Da, ja živim ovde, ali ne radim ovde. A ti? B: I
ja živim ovde. Ja sam student. Da li si ti studentkinja? A: Ne, nisam. Ja sam pevačica.`},{number:"23",text:"1 ,3 , 6, 2, 5, 4."}]},{page:33,items:[{number:"24",text:"1) moj; 2) govorim; 3) u Srbiji; 4) zato što; 5) volimo; 6) nije; 7) dobar;"},{number:"25",text:`1) govori, govore; 2) živim, žive; 3) voli, vole; 4) učiš, učite; 5) smo, ste; 6) razmem, raumeš; 7) radi, rade; 8) živiš, živim,
radim; 9) si, nisam, sam; 10) uče, žive.`}]},{page:34,items:[{number:"21",audio:"public/audio/023   Lekcija 4 MOJA PORODICA  21 Slusajte i dopunite.mp3"}]},{page:35,items:[{number:"22",audio:"public/audio/024   22 Citajte i slusajte-prica 1.mp3"},{number:"5",text:"1T; 2N; ЗТ; 4T; 5N; 6N."},{number:"7",text:`1) Da li oni žive u Srbiji? 2) Da li Julija radi kao profesorica? 3) Da li su za vikend zauzeti? 4) Kako se Julija i njena
porodica vide svaki dan?; 5) Šta im se sviđa u Srbiji?`}]},{page:36,items:[{number:"23",audio:"public/audio/025   23 Citajte i slusajte-prica 2.mp3"},{number:"9",text:"1N; 2N; 3N; 4N; 5T; 6T."},{number:"11",text:`1) Da li Ernst i Lena žive u Srbiji? 2) Da li njegova porodica živi u Srbiji? 3) Da li je njihov posao težak? 4) Da li su često
zauzeti? 5) Šta rade kada su slobodni? 6) Šta im se sviđa u Srbiji?`}]},{page:37,items:[{number:"12",text:`Nieno ime je Julija. Nien muž i niihova deca žive u S rbiji. Niena porodica živi daleko i oni se vide retko. Nien muž je Srbin
i niegova porodca živi u Srbiji. Oni su niihovi gosti često.`},{number:"13",text:`Nieeovo ime je Ernst. On je Austrijanac, a nieeova žena je Srpkinja. Žive u Srbiji, zato što i Ernst i Lena rade ovde.
Niihove porodice nisu u Srbiji. Nieeova porodica živi u Austriji, a nieni roditelji, sestra i brat žive u Bosni.`},{number:"14",text:"1a); 2b); Зс); 4b); 5a); бс)."}]},{page:38,items:[{number:"16",text:"1) Retko smo slobodni. 2)Retko sam zauzeta. 3) Volim život ovde. 4) Ne vidimo se retko."},{number:"17",text:"1) kuvamo, radimo; 2) živi, radi; 3) koristi; 4) se vide; 5) slušaš; 6) se zove; 7) gledam, čitam; 8) se šetaju; 9) ručate; 10) voli."},{number:"18",text:`1) čitati novine; 2) korisitit internet; 3) slušati radio; 4) spavati dugo; 5) učiti srpski jezik; 6) gledati TV; 7) trenirati
pilates; 8) kuvati ručak.`},{number:"24",audio:"public/audio/026   24 Slusajte i proverite-Zovem se Metju.mp3"}]},{page:39,items:[{number:"22",text:`1) ne voli da spava; 2) ne vole da čitaju; 3) volite da se šetate; 4) ne voli da gleda; 5) ne volim da kuvam; 6) voli da se
druži; 7) voliš da radiš?; 8) ne vole da ručaju; 9) ne vole da se vide; 10) volimo da slušamo.`}]},{page:40,items:[{number:"25",audio:"public/audio/027   25 Slusajte i odgovorite prirodno-I ja-Ja ne.mp3"},{number:"24",text:`Ja sam Ruskinja, a moj muž je Srbin. Naša ćerka i naš sin govore srpski i ruski odlično. Moj muž i moja deca žive u Srbiji.
Мојј roditeljj ne žive ovde. Ali, njegovi roditelji su naši gosti ponekad. Moj muž i ja smo zauzetj svaki dan, ali naša deca
nisu zauzeta.`},{number:"25",text:"1) slobodan, zauzet; 2) velik, mali; 3) mnogo, malo; 4) često, retko; 5) daleko, blizu; 6) lak, težak; 7) uveče, ujutro."},{number:"27",text:"1a); 2a); 3b); 4b); 5a); ба); 7a); 8a)."}]},{page:41,items:[{number:"28",text:"1 a/b; 2a; Зс; 4b; 5a; 6c; 7a/c."},{number:"29",text:"1) a; 2) ali; 3) ili; 4) i; 5) ali; б) ili; 7) a; 8) i."}]},{page:42,items:[{number:"26",audio:"public/audio/028   Lekcija 5 MOJ SVET  26 Beograd.mp3"}]},{page:43,items:[{number:"3",text:"1N; 2T; 3N; 4N; 5T; 6T; 7N; 8T."},{number:"4",text:`1) Saobraćaj је haotičan. 2) Parkovi su veliki. 3) Trgovi su stari. 4) Restorani su odlični. 5) Bulevari su široki. 6) Muzeji
su zanimljivi. 7) Život je brz. 8) Ulice su duge. 9) Reke su velike. 10) Hrana je dobra. 11) Gužva je velika. 12) Ljudi su
otvoreni. 13) Zgrade su visoke.`}]},{page:44,items:[{number:"27",audio:"public/audio/029   27 Tri razgovora.mp3"}]},{page:45,items:[{number:"8",text:`1) Uvek je mir i tišina.  
2) Saobraćaj nikad nije haotičan.  
3) Život u Beogradu je lep.  
4) Malo mesto je dobro za život.  
5) Velik grad je opasan.  
6) Park je zdravo mesto.  
7) Ovde restorani nisu odlični.  
8) Ponekad je gužva.  
9) Bulevari su široki.  
10) Ulice su lepe i duge.  
11) Galerije su uvek interesantne.  
12) Reke su duge i široke.  
13) Malo mesto nikad nije opasno za život.  
14) Selo je sigurno za život.`},{number:"28",audio:"public/audio/030   28 Citajte i ponovite.mp3"}]},{page:47,items:[{number:"29",audio:"public/audio/031   29 Orijentacija.mp3"}]},{page:49,items:[{number:"16",text:"1) Nikolina; 2) Markov; 3) Miloševa; 4) Jelenina; 5) Jovanovi; 6) Miličini; 7) Sarin; 8) Sinišine; 9) Đorđeva; 10) Aleksandrova."},{number:"17",text:"1) Beogradska; 2) srpski; 3) praška; 4) niška; 5) Nemački; б) Dunavska; 7) Subotičko; 8) Američki."},{number:"18",text:"1) restoran; 2) park; 3) bioskop; 4) knjižara; 5) pozorište; 6) trg; 7) biblioteka; 8) banka, 9) sportski centar; 10) pijaca."},{number:"19",text:"pozitivne: zdrav, interesantan, lep, mir, tišina, divan; negativne: opasan, dosadan, gužva, haotičan."}]},{page:50,items:[{number:"30",audio:"public/audio/032   Lekcija 6 STA RADIS  30 Razgovor-Jesi li slobodna.mp3"},{number:"3",text:"2) za šetnju; 4) za čaj; 6) za putovanje."},{number:"31",audio:"public/audio/033   31 Slusajte razgovore i odgovorite.mp3"}]},{page:51,items:[{number:"7",text:`1) Mislim da je opasno biti ronilac zato što moraš da ideš duboko u vodu.  
2) Mislim da je naporno biti policajac zato što moraš da radiš noću.  
3) Mislim da je stresno biti lekar zato što moraš da lečiš bolesne ljude.  
4) Mislim da je dosadno biti domaćica zato što moraš da budeš kod kuće.  
5) Mislim da nije dosadno biti menadžer zato što moraš da imaš uvek nove ideje.  
6) Mislim da je naporno biti domaćica zato što moraš da spremaš kuću i decu.`}]},{page:52,items:[{number:"32",audio:"public/audio/034   32 Zanimanja-cetiri price.mp3"}]},{page:53,items:[{number:"13",text:"Marija Petrović je menadžerka. Ona ima dobar posao. Mora da koristi kompjuter često. Nema uniformu, ali treba da nosi elegantno odelo. Radi mnogo, ali za vikend je slobodna. Marija ima divnu porodicu. Nema vremena da sprema sina i ćerku za školu. To radi njen muž. Kada imaju vremena, svi zajedno gledaju film ili igraju karte. Marija voli da čita knjigu uveče, kada deca spavaju."}]},{page:54,items:[{number:"33",audio:"public/audio/035   33 Kuba.mp3"},{number:"34",audio:"public/audio/036   34 Libija.mp3"},{number:"35",audio:"public/audio/037   35 Srbija.mp3"}]},{page:55,items:[{number:"17",text:"1E; 2S; 3K; 4K; 5K; 6E; 7K; 8K; 9S."}]},{page:56,items:[{number:"19",text:"1N; 2N; 3T; 4T; 5T; 6T; 7N."}]},{page:58,items:[{number:"21",text:"1) teško; 2) dosadno; 3) opasno; 4) stresno; 5) naporan; 6) lako; 7) interesantan; 8) lepo."},{number:"36",audio:"public/audio/038   36 Slusajte i dopunite.mp3"},{number:"37",audio:"public/audio/039   37 Kod direktora.mp3"}]},{page:59,items:[{number:"38",audio:"public/audio/040   38 Slusajte razgovor.mp3"},{number:"24",text:`1) Šta rade Marko i Ana?  
2) Šta radi Ana?  
3) Šta radi Marko danas?  
4) Šta oni žele da rade?  
5) Kada oni žele da idu na kafu?`},{number:"27",text:`1) Nažalost, nemam vremena.  
2) Na sreću, ne moram.  
3) Ja sam policajac.  
4) Baš super ideja.  
5) Uvek može bolje.  
6) Još ne.`},{number:"39",audio:"public/audio/041   39 Ana i Marko.mp3"}]},{page:61,items:[{number:"40",audio:"public/audio/042   Lekcija 7 SRECAN PUT  40 Sta ovi ljudi rade prvo, drugo i trece.mp3"}]},{page:62,items:[{number:"7",text:"1) da li; 2) šta; 3) kako; 4) koliko; 5) da."}]},{page:63,items:[{number:"9",text:"11) za nju; 2) za nas; 3) za njih; 4) za nas; 5) za vas."}]},{page:64,items:[{number:"10",text:"1) u; 2) na; 3) na, u; 4) u, u; 5) u; б) na; 7) na; 8) na, u; 9) u; 10) u, na."}]},{page:66,items:[{number:"41",audio:"public/audio/043   41 Sta kaze Branislav.mp3"},{number:"42",audio:"public/audio/044   42 Slusajte i dopunite.mp3"}]},{page:68,items:[{number:"43",audio:"public/audio/045   43 Po cemu je poznata Srbija.mp3"},{number:"20",text:`1) večeri; 
        2) Engleskoj; 
        3) ulici; 
        4) Tajlandu; 
        5) moru; 
        6) skupim satovima; 
        7) modernim zgradama; 
        8) njegovim
fotografijama 
9) muzičkim festivalima; 
10) poznatim mestima.`}]},{page:69,items:[{number:"44",audio:"public/audio/046   44 Pismo iz Norveske.mp3"}]},{page:70,items:[{number:"45",audio:"public/audio/047   45 Kuda na odmor.mp3"}]},{page:72,items:[{number:"1",text:"a)3; b)1; c) 6; Č)7; Ć)2; d)4; dž)5."}]},{page:73,items:[{number:"46",audio:"public/audio/048   Lekcija 8 STIL ZIVOTA  46 Komentarisite prirodno-Tako je i kod nas-Kod nas nije tako.mp3"}]},{page:75,items:[{number:"7",text:`kućni red; 
        porodični trenutak;
         nedeljni ručak;
          radni dan;
           popodnevni odmor.`},{number:"8",text:"1b); 2a); 3b); 4a): 5b); 6b)."},{number:"9",text:"1) pre supe; 2) Bez slatkiša; 3) Posle glavnog jela; 4) bez dobrog pića; 5) od jabuka; 6) od sira."}]},{page:76,items:[{number:"47",audio:"public/audio/049   47 Kakva je kafa.mp3"}]},{page:78,items:[{number:"48",audio:"public/audio/050   48 U koliko sati.mp3"},{number:"49",audio:"public/audio/051   49 Rezervacija mesta u restoranu.mp3"}]},{page:79,items:[{number:"50",audio:"public/audio/052   50 Narucivanje u restoranu.mp3"}]},{page:80,items:[{number:"50",text:`Za rođendan. -» Srećan rođendan. 
        Za slavu. -> Srećna slava. 
        Za Novu godinu. -> Srećna Nova godina. 
        Za Božić. -» Srećan Božić. 
        Za Uskrs. -» Srećan Uskrs. 
        Pre puta. -»Srećan put. 
        Pre važnog posla. -» Srećno. 
        Pre jela. -» Prijatno.
        Pre pića. -» Živeli. 
        Posle venčanja. -» Čestitamo.`}]},{page:81,items:[{number:"51",audio:"public/audio/053   51 Nasa slava.mp3"},{number:"24",text:"1T; 2N; 3N; 4T; 5N; 6N; 7T."}]},{page:82,items:[{number:"25",text:`1) Slavi se trideset prvog decembra. 2) Slavi se sedmog januara. 3) Slavi se dvadeset sedmog janura. 4) Slavi se prvog
aprila. 5) Slavi se prvog maja. 6) Slavi se osmog marta.`},{number:"26",text:") kod; 2) od, do; 3) po; 4) na, u; 5) zbog; 6) na; 7) bez; 8) u; 9) za; 10) od; 11) u; 12) U; 1 3) pre; 14) posle."},{number:"27",text:`Ernst i Lena svake godine idu na slavu u Bosnu. Lenini roditelji slave Svetog Đorđa. Ova slava je u maiu tačnije šestog
maja. Slava Sveti Đorđe nije posna slava, ali se na slavskoi trpezi može naći riba. Lenina majka sprema posni kolač i
žito. Njen tata ide u crkvu pre ručka. Sve je spremno za goste, koji dolaze u dva sata.
Ove godine Lena i Ernst ne mogu da dođu jedan dan ranije, zbog Ernstovog posla. Dolaze па dan slave. Pre puta moraju
da kupe poklone - cveće za domaćicu i vino za domaćina. Treba da kupe i slatkiše zato što dolazi i mnogo dece.`}]},{page:83,items:[{number:"28",text:"1) svoju; 2) svoj; 3) svoju, svog; 4) svoje; 5) svoje; 6) svoju; 7) svoj; 8) svoje; 9) svoje; 10) svoje, svoje."},{number:"52",audio:"public/audio/054   52 Razgovor o slavi.mp3"}]},{page:85,items:[{number:"5",text:"A: 1) nama; 2) njoj; 3) njemu; 4) meni; 5) njima; B: 1) ih; 2) ga; 3) je; 4) nas; 5) vas."}]},{page:86,items:[{number:"6",text:`velik, veći, najveći; dobar, bolji, najbolji; miran, mirniji, najmirniji; mali, manji, najmanji; važan, važniji, najvažniji, loš, gori,
najgori; lep, lepši, najlepši.`},{number:"7",text:"lb ); 2a); За); 4b); 5c)."},{number:"8",text:"1) raskošan; 2) bogat; 3) uspešan; 4) nepoznat; 5) nesrećan; 6) nekvalitetan."},{number:"9",text:`1) skromna, raskošna; 2) siromašna, bogata; 3) neuspešna, uspešna; 4) poznata, nepoznata; 5) nesrećan; 6) kvalitetna,
nekvalitetna.`}]},{page:87,items:[{number:"10",text:`mnogo, više, najviše; malo, manje, najmanje; dobro, bolje, najbolje; loše, gore, najgore; lepo, lepše, najlepše; mirno,
mirnije, najmirnije; skromno, skromnije, najskromnije; uspešno, uspešnije, najuspešnije; srećno, srećnije, najsrećnije;
zdravo, zdravije, najzdravije; važno, važnije, najvažnije; kvalitetno, kvalitetnije, najkvalitetnije.`},{number:"11",text:`1) najvažnije; 2) Bolje; 3) najgore; 4) Najlepše; 5) lakše; 6) najzdravije; 7) srećnije; 8) najmanje; 9) najviše; 10)
najkvalitetnije.`}]},{page:88,items:[{number:"14",text:`zaraditi + novac, bogatstvo; promeniti + novac, stil života, avion, bicikl, (kuću za siromašne); dati + novavac,
bogatstvo, avion, kuću za siromašne, bicikl; snimiti + film; voziti + avion, bicikl; otvoriti + kuću za siromašne; kupiti +
avion, kuću za siromašne, bicikl`}]},{page:89,items:[{number:"16",text:`Poznato je da su uspešni filmski reditelji i glumci bogati. Ni Tom Šadijak, holivudski reditelj, nije bio drugačiji. Radio je
veoma uspešno па filmu i postao bogat i poznat. On do sada nije živeo skromno ali je sada uradio nešto neobično -
promenio je stil života. Tom ne živi više raskošno. već deli svoje bogatstvo drugima. Živi neobično i srećan je.`}]},{page:90,items:[{number:"53",audio:"public/audio/055   Lekcija 9 UPOMOC  53 Prva prica-Intervju za posao.mp3"}]},{page:91,items:[{number:"54",audio:"public/audio/056   54 Druga prica-Putovanje.mp3"},{number:"55",audio:"public/audio/057   55 Komentarisite prirodno.Tako je-Nije tako.mp3"}]},{page:92,items:[{number:"26",text:`A: 1) Čekajmo. 2) Pazite kada putujete. 3) Slušaj mamu. 4) Zaboravite sve. 5) Požurimo. 6) Dođi u pet.
B: 1) Nemoj gledati ovaj film. 2) Nemojte kasniti. 3) Nemojmo paničiti. 4) Nemojte čekati dugo. 5) Nemojte doći sad.
6) Nemoj doći kasno. 7) Nemojmo zaboraviti`}]},{page:93,items:[{number:"27",text:"1ć; 2c; 3Č; 4đ; 5a; 6d; 7f; 8dž; 9) b; 10) f."},{number:"28",text:"1) zatvoriti; 2) zapamtiti; 3) otključati; 4) izlaziti; 5) upaliti; 6) krasti."}]},{page:95,items:[{number:"56",audio:"public/audio/058   56 Sta cujete.mp3"},{number:"31",text:"1) otvorim; 2) zaključajte; 3) zatvoriti; 4) otvorim; 5) uključim."},{number:"35",text:"1) nikog; 2) neko; 3) nešto; 4) ništa; 5) nekog; 6) nikog; 7) ništa; 8) nekog; 9) ništa, nešto; 10) Neko."}]},{page:96,items:[{number:"57",audio:"public/audio/059   57 Lopov u penziji daje savete.mp3"},{number:"37",text:"1T; 2T; 3N; 4T; 5N; 6T; 7N; 8Т."}]},{page:97,items:[{number:"58",audio:"public/audio/060   58 Razgovor-Lose vesti.mp3"}]},{page:98,items:[{number:"2",text:"а) 0 °С; b) -1 5 °С; с) 25 °С; č) 40 °С; ć) 1 5 °С; d) 5 °С"},{number:"3",text:"1) Pada kiša i sija sunce. 2) Pada kiša i pada sneg. 3) Sunce sija, kiša pada. 4) Duva vetar, sunce sija. Duva vetar i pada sneg."}]},{page:99,items:[{number:"8",text:"1 a/b; 2b/c; За/с; 4a/b; 5b/c; 6a/c."}]},{page:100,items:[{number:"59",audio:"public/audio/061   Lekcija 10 KAKO JE KOD VAS  59 Boris.mp3"},{number:"60",audio:"public/audio/062   60 Ana.mp3"},{number:"61",audio:"public/audio/063   61 Jovana i Marko.mp3"},{number:"10",text:"1)J/M; 2) A; 3 )B; 4)A; 5) J/M; 6)B; 7)A; 8)J/M; 9)A"}]},{page:102,items:[{number:"62",audio:"public/audio/064   62 Omiljeno godisnje doba.mp3"},{number:"16",text:"1) toplija; 2) kraći; 3) kišovitiji; 4) hladniji, 5) lepše; 6) duži."}]},{page:103,items:[{number:"63",audio:"public/audio/065   63 Nevreme.mp3"},{number:"18",text:"1 T ; 2 N ; 3 N ; 4 N ; 5 T ; 6 T ; 7 N ; 8 N ."}]},{page:104,items:[{number:"19",text:`dobro, bolje, najbolje; loše, gore, najgore; toplo, toplije, najtoplije; hladno, hladnije, najhladnije; opasno, opasnije,
najopasnije; sigurno, sigurnije, najsigurnije.`},{number:"64",audio:"public/audio/066   64 Kakvo ce vreme biti u Srbiji.mp3"},{number:"65",audio:"public/audio/067   65 Vremenska prognoza.mp3"}]},{page:107,items:[{number:"26",text:`1) Ostaće kod kuće. 2) Ješćemo lakšu hranu. 3) Pomoći će mu. 4) Neće biti па poslu sutra. 5) Daće mu lekove sutra. 6)
Javiću ti. 7) Nećete proći dugo. 8) Mirovaćete dve nedelje.`},{number:"27",text:"1 a/c; 2a/b; За/b; 4a; 5c; 6a/b; 7b/c; 8a; 9a."}]},{page:108,items:[{number:"29",text:"1) Boli je desna ruka. 2) Ne boli me više glava. 3) Boli je glava jako. 4) Boli ga zub jako. 5) Boli ih stomak."},{number:"30",text:"1) je; 2) me, mi; 3) vam; 4) ga; 5) me; 6) ti; 7) im; 8) nas."}]},{page:109,items:[{number:"66",audio:"public/audio/068   66 Pet razgovora.mp3"}]},{page:110,items:[{number:"1",text:"visoka, niska, stara, mlada, široka, uska, tamna, svetla, velika, mala, mršava, debela, duga, kratka, krupna, sitna, bela, crna."}]},{page:113,items:[{number:"9",text:`1) Zene nose haljine. 2) Žene ne nose naočare. 3) Žene nemaju šešire. 4) Muškarci ne nose kape. 5) Muškarci nose
pantalone. 6) Muškarci drže cveće i cigaru.`},{number:"10",text:"a)N; b)T; v)T; g) N; d) T; đ) T; e) T; ž) N; z) N."}]},{page:114,items:[{number:"67",audio:"public/audio/069   Lekcija 11 ODELO (NE) CINI COVEKA  67 Moda nekada.mp3"}]},{page:115,items:[{number:"68",audio:"public/audio/070   68 Moda sada.mp3"}]},{page:116,items:[{number:"69",audio:"public/audio/071   69 Kako izgledaju ovi ljudi.mp3"},{number:"70",audio:"public/audio/072   70 Koji opis ide uz koju sliku.mp3"}]},{page:117,items:[{number:"71",audio:"public/audio/073   71 Razgovor-Na snizenju.mp3"}]},{page:118,items:[{number:"23",text:`3) Žena sa šeširom. 4) Muškarac sa naočarima; 5) Muškarac u belim patikama. 6) Ljudi sa kišobranima. 7) Muškarac sa
šalom i kapom. 8) Ljudi u dugačkim kaputima. 9) Žena u belim pantalonama. 10) Žena sa podignutom kosom.`},{number:"24",text:"nizak, visok, debeo, mršav, star, mlad, širok, uzak, kratak, dug, taman, svetao, velik, mali."}]},{page:119,items:[{number:"25",text:"1) niži; 2) kraću; 3) veći; 4) mršavija; 5) starija; 6) tamniju; 7) krupnije; 8) šire."},{number:"72",audio:"public/audio/074   72 Odgovorite prirodno.mp3"},{number:"73",audio:"public/audio/075   73 Kako mi stoji.mp3"}]},{page:121,items:[{number:"74",audio:"public/audio/076   Lekcija 12 HOTEL S PET ZVEZDICA  74 Slusajte opise osoba.mp3"}]},{page:122,items:[{number:"75",audio:"public/audio/077   75 Tradicionalna srpska kuca.mp3"},{number:"7",text:"1N; 2T; 3N; 4T; 5T; 6N; 7T; 8Т; 9N; 10Т."}]},{page:123,items:[{number:"8",text:"1) na, u; 2) do; 3) na, iza; 4) od; 5) na; 6) na, od; 7) od, od."},{number:"76",audio:"public/audio/078   76 Exit festival.mp3"}]},{page:124,items:[{number:"13",text:"Izvolite.; Koliko biste ostali?; Koliko košta noćenje?; Ne, ne, u redu je.; Imate li internet?; I još nešto.; Da, doplaćuje se."}]},{page:125,items:[{number:"15",text:`švedski sto; pun pansion; soba sa pogledom; kontinentalni doručak; cena po osobi; bežični internet; kablovska televizija;
parking mesto.`}]},{page:126,items:[{number:"18",text:"1N; 2N; 3T; 4T; 5T; 6N; 7N; 8N."}]},{page:128,items:[{number:"23",text:"1a) ; 2b); Зс); 4b); 5a)."}]},{page:129,items:[{number:"24",text:`1) se selila, se preselila; 2) promenim, menjao/-la; 3) su sagradili, gradim; 4) nudi, su ponudili; 5) platim, plaćaš; 6) biram,
izabrao/-la bih; 7) ste proveli, provodimo; 8) sednete, sedim.`},{number:"25",text:"1) tebe, mene; 2) nas; 3) njega; 4) nje; 5) njih; 6) vas."},{number:"26",text:"1) kojem/kom; 2) kojom; 3) koju; 4) kojeg/kog; 5) kojima; б) kojoj; 7) koje; 8) koje; 9) koji; 10) kojoj."}]},{page:130,items:[{number:"1",text:"jutro, Dobro jutro. / dan, Dobar dan. / veče, Dobro veče; Laku noć."},{number:"2",text:"1) sam; 2) ste; 3) si; 4) su; 5) je; 6) smo; 7) je; 8) su."},{number:"3",text:"1) nije; 2) nije; 3) nisam; 4) nisu; 5) nisu; 6) niste; 7) nismo; 8) nisi."},{number:"4",text:`1) Da li ste vi Miloš i Sara? 2)Da li je ona Milica? 3) Da li su one Milica i Sara? 4) Da li je on Miloš? 5) Da li si ti Boris? 6)
Da li su oni Miloš i Boris? 7) Da li si ti Ana? 8) Da li ste vi Sara i Ana?`}]},{page:131,items:[{number:"1",audio:"public/audio/079   VEZBANKA  Lekcija 1 DOBAR DAN  1 Slusajte i odgovorite prirodno.mp3"},{number:"6",text:"B: novčanik; C: stolica; Č: mobilni telefon; Ć: ključ; D: knjiga; DŽ: torba; Đ: kompjuter; E: pasoš."},{number:"7",text:`1) Šta je ovo? Ovo su ključ i novčanik. 2) Šta je ovo? Ovo je mobilni telefon. 3) Šta je ovo? Ovo je kompjuter. 4) Šta je
ovo? Ovo su novac i pasoš. 5) Šta je ovo? Ovo je torba. 6) Šta je ovo? Ovo su novčanik i novac.`}]},{page:132,items:[{number:"8",text:`1) Ovo nije torba. 2) Ja sam Marija. 3) Oni su Miloš i Marija. 4) Da li ste Vi profesor? 5) Mi smo dobro. 6) Ovo su knjiga i
kompjuter. 7) Kako ste vi? 8) Ona je odlično.`},{number:"2",audio:"public/audio/080   2 Proverite.mp3"}]},{page:133,items:[{number:"3",audio:"public/audio/081   Lekcija 2 DOBRODOSLI  3 Slusajte i proverite.mp3"},{number:"4",audio:"public/audio/082   4 Patrik i Marko razgovaraju.mp3"},{number:"5",text:"1 T; 2 T; 3 N; 4 T; 5 N; 6 T."},{number:"5",audio:"public/audio/083   5 Diktat.mp3"}]},{page:134,items:[{number:"8",text:"1) Da li ste Vi Aleks? - Jesam. 2) Da li ste Vi strankinja? - Jesam. 3) Da li ste vi Nemica? - Nisam."},{number:"9",text:"1) Da li si ti Mišel? - Nisam. 2) Da li si ti stranac? - Jesam. 3) Da li si ti Englez? - Nisam."},{number:"10",text:`1) Nemica; 2) Francuz, Italijan; 3) Francuskinja; 4) Ruskinja; 5) Amerikanka; 6) Engleskinja; 7) Srpkinja; 8) Srbin;
9) Mađarica; 10) Japanka; 11) Kinez; 12) Špankinja,`},{number:"11",text:"a) smo, je, je, sam; b) je, nije, je, je; c) je, sam, je, nije, je."}]},{page:135,items:[{number:"1",text:`raditi: radim, radiš, radi, radimo, radite, rade;
         živeti: živim živiš, živi, živimo, živite, žive;
          učiti: učim, učiš, uči, učimo, učite, uče;
          voleti: volim, voliš, voli, volimo, volite, vole.`},{number:"2",text:`1) Kako se zoveš? 2) Da li razume srpski? 3) Loše sam. 4) Dobro smo. 5) Razumeš srpski. 6) Da li govorite engleski?
7) Nisam Srbin. 8) Ne govoriš francuski. 9) Da li živite ovde? 10) Šta radiš?`},{number:"3",text:"muško: lekar, diplomata, inženjer; žensko: novinarka, studentkinja, kuvarica, pevačica, profesorica, ekonomistkinja."}]},{page:136,items:[{number:"6",audio:"public/audio/084   Lekcija 3 RAZUMES LI  6 Slusajte i odgovorite prirodno.mp3"},{number:"5",text:`1) ja se zovem Ana. 2) Da li ti govoriš nemački? 3) Razumete li? 4) Ja učim srpski zato što radim ovde. 5) On je moj student.
6) Da li je ona novinarka? 7) Kuvarica sam. 8) Nisam novinar. 9) Zovem se Miloš. 10) Ja ne govorim srpski dobro.`},{number:"7",text:`1) Vi radite kao inženjeri. 2) One rade kao lekarke. 3) Mi smo policajci. 4) Oni su ekonomisti. 5) Mi smo profesorice.
6) One rade kao diplomatkinje. 7) Vi ste kuvarice. 8) Oni rade kao novinari.`}]},{page:137,items:[{number:"7",audio:"public/audio/085   7 Slusajte i proverite.mp3"},{number:"8",audio:"public/audio/086   8 Ko ovo kaze, Ana ili Luka.mp3"},{number:"10",text:"1)A; 2)L; 3)L; 4)L, 5)A; 6)L; 7)A."},{number:"12",text:"1) radimo; 2) govori; 3) vole; 4) žive, rade; 5) razumem; б) učite; 7) radiš; 8) žive; 9) govorim; 10) razumete."}]},{page:138,items:[{number:"1",text:`gledati: gledam, gledaš, gleda, gledamo, gledate, gledaju;
         čitati: čitam, čitaš, čita, čitamo, čitate, čitaju; 
         slušati: slušam, slušaš, sluša, slušamo, slušate, slušaju; 
         šetati se: ja se šetam, ti se šetaš, on se šeta, mi se šetamo, vi se šetate, on se šetaju.`},{number:"2",text:`Nieno ime je Karen. Niena porodica živi u Srbiji zato što nien tata radi ovde. Niena mama ne radi, a nien brat studira.
Nieni prijatelji žive ovde.`},{number:"3",text:"1) njegova; 2) njegova; 3) njegov; 4) njegovi."},{number:"9",audio:"public/audio/087   Lekcija 4 MOJA PORODICA  9 Moja porodica.mp3"}]},{page:139,items:[{number:"5",text:`slušati radio; gledati TV/film; trenirati karate/pilates; učiti srpski jezik; čitati novine; ručati u restoranu/kod kuće; kuvati
ručak.`},{number:"6",text:"1) čita; 2) kuvaju; 3) studiramo; 4) slušate; 5) ne spava; 6) se šetaju; 7) igra; 8) gledaš; 9) gledamo; 10) čitam."},{number:"7",text:`1) voli da se šeta; 2) vole da žive; 3) vole da gledaju; 4) ne volimo da spavamo; 5) voliš da kuvaš; 6) vole da uče; 7) volite
da trenirate; 8) voli da ruča; 9) ne volim da koristim; 10) vole da slušaju.`},{number:"10",audio:"public/audio/088   10 Boris prica.mp3"}]},{page:140,items:[{number:"10",text:"1) zauzet; 2) daleko; 3) mala, velika; 4) težak; 5) slobodni; 6) ujutro; 7) lak; 8) uveče."},{number:"11",text:"1) kod kuće; 2) zajedno; 3) Tada; 4) daleko; 5) ovde; 6) u restoranu; 7) dugo."},{number:"12",text:"1) ili; 2) a; 3) I; 4) a; 5) i; 6) ili; 7) a; 8) ali; 9) I; 10) a."}]},{page:141,items:[{number:"13",text:"1) a/b; 2) c; 3) a; 4) b; 5) a; 6) b; 7) a/c; 8) a."}]},{page:142,items:[{number:"11",audio:"public/audio/089   Lekcija 5 MOJ GRAD  11 Proverite. a.Novi Sad-b.Nis.mp3"}]},{page:144,items:[{number:"12",audio:"public/audio/090   12 Razgovori.mp3"}]},{page:145,items:[{number:"13",audio:"public/audio/091   13 Price 1, 2 i 3.mp3"}]},{page:148,items:[{number:"14",audio:"public/audio/092   Lekcija 6 STA RADIS  14 Sta je tacno za Vas.mp3"}]},{page:153,items:[{number:"15",audio:"public/audio/093   Lekcija 7 SRECAN PUT  15 Pismo iz Kanade.mp3"}]},{page:157,items:[{number:"16",audio:"public/audio/094   Lekcija 8 STIL ZIVOTA  16 Moja radna nedelja.mp3"}]},{page:158,items:[{number:"17",audio:"public/audio/095   17 Razgovor u restoranu.mp3"},{number:"18",audio:"public/audio/096   18 Gosti na veceri.mp3"}]},{page:161,items:[{number:"19",audio:"public/audio/097   19 Odgovorite prirodno.mp3"}]},{page:168,items:[{number:"20",audio:"public/audio/098   Lekcija 9 UPOMOC  20 Vasilije-Andrija-Milica.mp3"}]},{page:169,items:[{number:"21",audio:"public/audio/099   21 Postavite pitanja.mp3"}]},{page:170,items:[{number:"22",audio:"public/audio/100   Lekcija 10 KAKO JE KOD VAS  22 Zivot u Njujorku.mp3"}]},{page:171,items:[{number:"23",audio:"public/audio/101   23 Kod doktora.mp3"}]},{page:173,items:[{number:"24",audio:"public/audio/102   24 Kakvo ce vreme biti sutr u Srbiji.mp3"}]},{page:175,items:[{number:"25",audio:"public/audio/103   Lekcija 11 ODELO (NE) CINI COVEKA  25 Kako izgledaju ovi ljudi.mp3"}]},{page:178,items:[{number:"26",audio:"public/audio/104   26 Kao filmska zvezda.mp3"}]},{page:184,items:[{number:"27",audio:"public/audio/105   Lekcija 12 HOTEL S PET ZVEZDICA  27 Trazim stan.mp3"}]},{page:184,items:[{number:"28",audio:"public/audio/106   28 Prica 1.mp3"},{number:"29",audio:"public/audio/107   29 Prica 2.mp3"},{number:"30",audio:"public/audio/108   30 Prica 3.mp3"}]},{page:187,items:[{number:"31",audio:"public/audio/109   31 Glasovi i pisma srpskog jezika.mp3"},{number:"32",audio:"public/audio/110   32 Slusajte i ponovite.mp3"}]},{page:188,items:[{number:"33",audio:"public/audio/111   33 Cirilica.mp3"},{number:"34",audio:"public/audio/112   34 Prica o cirilici.mp3"}]},{page:189,items:[{number:"35",audio:"public/audio/113   35 Vokali A, E, I, O, U.mp3"},{number:"36",audio:"public/audio/114   36 Glasovi koji se izgovaraju uz osmeh-C, DJ, S, Z, C, LJ, NJ.mp3"},{number:"37",audio:"public/audio/115   37 Glasovi koji se izgovaraju bez osmeha-C, DZ, S, Z.mp3"},{number:"38",audio:"public/audio/116   38 Glasovi-R, L, D, T, S, Z, S, C.mp3"}]},{page:190,items:[{number:"39",audio:"public/audio/117   39 Dopunite-H, J, G.mp3"},{number:"40",audio:"public/audio/118   40 Dopunite-C ili C.mp3"},{number:"41",audio:"public/audio/119   41 DJ ili DZ.mp3"},{number:"42",audio:"public/audio/120   42 S ili S.mp3"},{number:"43",audio:"public/audio/121   43 C ili S.mp3"},{number:"44",audio:"public/audio/122   44 Z ili S.mp3"},{number:"45",audio:"public/audio/123   45 Z ili Z.mp3"},{number:"46",audio:"public/audio/124   46 L ili LJ.mp3"},{number:"47",audio:"public/audio/125   47 N ili NJ.mp3"}]},{page:191,items:[{number:"48",audio:"public/audio/126   48 Napisite cirilicom.mp3"},{number:"49",audio:"public/audio/127   49 Konsonanti-C, C, DZ, C, DJ.mp3"},{number:"50",audio:"public/audio/128   50 Konsonanti-S, Z, S, Z, F, H.mp3"}]},{page:192,items:[{number:"51",audio:"public/audio/129   51 Konsonanti-L, LJ, R, M, N, NJ, J, V.mp3"},{number:"52",audio:"public/audio/130   52 Konsonanti-B, P, D, T, G, K.mp3"},{number:"53",audio:"public/audio/131   53 Sta cujete, zaokruzite.mp3"}]}],GM=({currentPage:g})=>{const e=IM.find(l=>l.page===g),[i,a]=Q.useState(null),r=Q.useCallback(l=>{if(i!==null&&i!==l){const c=document.getElementById(`audio-${i}`);c&&c.pause()}a(l)},[i]);return et.jsxs("div",{className:"p-2 text-sm",children:[et.jsx("h3",{className:"font-bold mb-4 text-lg",children:"Ответы и аудио"}),e?et.jsx("ul",{className:"space-y-2",children:e.items.map((l,c)=>et.jsx(UM,{index:c,...l,currentAudio:i,onPlay:r},l.number))}):et.jsx("p",{className:"italic text-gray-500",children:"Нет контента для этой страницы"})]})};function qM({title:g,titleId:e,...i},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),g?Q.createElement("title",{id:e},g):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const VM=Q.forwardRef(qM);function XM({title:g,titleId:e,...i},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),g?Q.createElement("title",{id:e},g):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const YM=Q.forwardRef(XM);function KM({title:g,titleId:e,...i},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),g?Q.createElement("title",{id:e},g):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const ZM=Q.forwardRef(KM);function QM({title:g,titleId:e,...i},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),g?Q.createElement("title",{id:e},g):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const WM=Q.forwardRef(QM);function $M({title:g,titleId:e,...i},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),g?Q.createElement("title",{id:e},g):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const JM=Q.forwardRef($M);function tk({title:g,titleId:e,...i},a){return Q.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},i),g?Q.createElement("title",{id:e},g):null,Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ek=Q.forwardRef(tk);A0.workerSrc=new URL("/ucimo_srpski/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();const ik=[{lekcija:1,title:"Dobar dan",page:12},{lekcija:2,title:"Moja zemlja",page:18},{lekcija:3,title:"Razumeš li?",page:26},{lekcija:4,title:"Moja porodica",page:34},{lekcija:5,title:"Moj svet",page:42},{lekcija:6,title:"Šta radiš?",page:50},{lekcija:7,title:"Srećan put",page:60},{lekcija:8,title:"Stil života",page:72},{lekcija:9,title:"Upomoć!",page:84},{lekcija:10,title:"Kako je kod vas?",page:98},{lekcija:11,title:"Odelo (ne) čini čoveka",page:110},{lekcija:12,title:"Hotel s pet zvezdica",page:120},{topic:"Dodatak",page:187},{topic:"Testovi",page:193}];function nk(){const[g,e]=Q.useState(0),[i,a]=Q.useState(()=>{const L=localStorage.getItem("lastPageNumber");return L?parseInt(L,10):1}),[r,l]=Q.useState(300),[c,h]=Q.useState(()=>{const L=localStorage.getItem("pdfWidth");return L?parseInt(L,10):800}),[f,p]=Q.useState(!1),[b,v]=Q.useState(!1);Q.useEffect(()=>{localStorage.setItem("pdfWidth",String(c))},[c]),Q.useEffect(()=>{localStorage.setItem("lastPageNumber",String(i))},[i]);const y=200,_=600,T=({numPages:L})=>{e(L)},C=L=>{L>=1&&L<=g&&(a(L),v(!1))},k=()=>h(L=>Math.min(L+100,2e3)),R=()=>h(L=>Math.max(L-100,200));return Q.useEffect(()=>{const L=z=>{if(!f)return;const F=Math.min(_,Math.max(y,window.innerWidth-z.clientX));l(F)},N=()=>{f&&p(!1)};return window.addEventListener("mousemove",L),window.addEventListener("mouseup",N),()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",N)}},[f]),Q.useEffect(()=>{const L=N=>{N.ctrlKey&&(N.preventDefault(),N.deltaY<0?k():R())};return window.addEventListener("wheel",L,{passive:!1}),()=>window.removeEventListener("wheel",L)},[]),et.jsxs("div",{className:"text-[var(--text-light)] dark:text-[var(--text-dark)] bg-white dark:bg-[var(--bg-dark)] h-screen overflow-hidden flex flex-col",children:[et.jsx(a2,{}),et.jsxs("div",{className:"p-2 sm:p-4 flex flex-wrap items-center gap-2 sm:gap-4 shrink-0",children:[et.jsxs("button",{onClick:()=>v(!0),className:"px-3 py-1 rounded flex items-center dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-gray-200",children:[et.jsx(YM,{className:"h-5 w-5"}),et.jsx("span",{className:"hidden sm:inline ml-1",children:"Содержание"})]}),et.jsxs("button",{onClick:()=>C(i-1),disabled:i===1,className:"px-3 py-1 rounded  dark:bg-gray-600 dark:hover:bg-gray-500 disabled:opacity-50 flex items-center text-gray-800 dark:text-gray-200",children:[et.jsx(ZM,{className:"h-5 w-5"}),et.jsx("span",{className:"hidden sm:inline ml-1",children:"Назад"})]}),et.jsxs("span",{children:["Стр.",et.jsx("input",{type:"number",value:i,min:1,max:g,onChange:L=>C(Number(L.target.value)),className:"w-16 mx-2 border px-2 py-1 rounded text-center"}),"/ ",g]}),et.jsxs("button",{onClick:()=>C(i+1),disabled:i===g,className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 disabled:opacity-50 flex items-center text-gray-800 dark:text-gray-200",children:[et.jsx(WM,{className:"h-5 w-5"}),et.jsx("span",{className:"hidden sm:inline ml-1",children:"Вперёд"})]}),et.jsxs("button",{onClick:R,className:"ml-4 px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 flex items-center text-gray-800 dark:text-gray-200",children:[et.jsx(JM,{className:"h-5 w-5"}),et.jsx("span",{className:"hidden sm:inline ml-1",children:"Уменьшить"})]}),et.jsxs("button",{onClick:k,className:"px-3 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 flex items-center text-gray-800 dark:text-gray-200",children:[et.jsx(ek,{className:"h-5 w-5"}),et.jsx("span",{className:"hidden sm:inline ml-1",children:"Увеличить"})]})]}),et.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[et.jsx("div",{style:{flex:`0 0 calc(100% - ${r}px)`},className:"overflow-y-auto px-4 flex justify-center",children:et.jsx("div",{className:"my-auto",children:et.jsx(RM,{file:"/ucimo_srpski/pdf/Učimo-srpski.pdf",onLoadSuccess:T,loading:et.jsx("div",{className:"text-center mt-10 text-[var(--text-light)] dark:text-[var(--text-dark)] bg-white dark:bg-[var(--bg-dark)]",children:"Загрузка..."}),children:et.jsx(FM,{pageNumber:i,width:c,renderTextLayer:!0,renderAnnotationLayer:!0,renderMode:"canvas",loading:et.jsx("div",{className:"text-center mt-10 text-[var(--text-light)] dark:text-[var(--text-dark)] bg-white dark:bg-[var(--bg-dark)]",children:"Загрузка..."})})})})}),et.jsx("div",{onMouseDown:()=>p(!0),className:"w-4 bg-gray-300 hover:bg-gray-200 dark:bg-gray-500 dark:hover:bg-gray-400 transition-colors cursor-col-resize flex items-center justify-center",style:{cursor:"col-resize"},children:et.jsx(VM,{className:"size-6 text-gray-400 dark:text-gray-100"})}),et.jsx("div",{style:{width:`${r}px`},className:"overflow-y-auto p-4",children:et.jsx(GM,{currentPage:i})}),b&&et.jsxs(et.Fragment,{children:[et.jsx("div",{className:"fixed inset-0 bg-black opacity-70 z-40",onClick:()=>v(!1)}),et.jsxs("div",{className:"text-[var(--text-light)] absolute top-20 left-1/2 -translate-x-1/2 z-50 bg-white shadow-[0_0_40px_rgba(0,0,0,0.6)] p-4 rounded-lg max-h-[70vh] overflow-y-auto w-96",children:[et.jsx("button",{onClick:()=>v(!1),className:"absolute top-2 right-3 text-gray-600 hover:text-black text-xl",children:"✖"}),et.jsx("ul",{className:"space-y-2",children:ik.map(({lekcija:L,title:N,topic:z,page:F},G)=>et.jsx("li",{className:"cursor-pointer hover:text-blue-600",onClick:()=>C(F),children:L?et.jsxs(et.Fragment,{children:[et.jsxs("span",{className:"font-semibold",children:["Lekcija ",L,":"]})," ",N]}):et.jsx("span",{className:"font-semibold",children:z})},L??z??G))})]})]})]})]})}Ww.createRoot(document.getElementById("root")).render(et.jsx(n_.StrictMode,{children:et.jsx($w,{children:et.jsx(nk,{})})}));
